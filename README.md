[Scan_isochrone_pynb.ipynb](https://github.com/user-attachments/files/23652998/Scan_isochrone_pynb.ipynb)# Projet-colab_scan_isochrone
Application python d'implantation territoriale 
Package : Nympy, Pandas, folium, geopnadas, folium, requests, shapely.geometry
API : https://api.openrouteservice.org/v2/isochrones/foot-walking
Cr√©ation de zone de chalendise 
croisement des r√©sultats entre zone de chalendise et r√©partition des cat√©gories sociaux professionelles selon l'INSEE
Production de rapport en forme de graphs et de tableaux de la r√©partition sociaux d√©mographique 
# Probl√©matique 
D√©velopper un outil qui, √† partir de la r√©partition de la population en cat√©gories socio-professionnelles sur une zone de chalandise ou un territoire donn√©, aide une entreprise √† s‚Äôimplanter ou √† d√©velopper son activit√©.
# Isochrone_cat√©gories_Socio-Professionelles
<img width="769" height="422" alt="image" src="https://github.com/user-attachments/assets/c554faf9-b3c4-4f38-b7a2-4db5bfc6dc80" />

# Recherche d‚ÄôIRIS dans le Rh√¥ne correspondant √† une r√©partition socio-professionnelle cible
<img width="772" height="412" alt="image" src="https://github.com/user-attachments/assets/d6c872ad-67b0-4fb3-b0f8-2b8ba0e467d1" />
<img width="1185" height="494" alt="image" src="https://github.com/user-attachments/assets/308a7ae7-afc3-4034-8d6c-afe8bc4ddabe" />
# Recherche d‚ÄôIRIS id√©aux selon une r√©partition CSP cible et des communes s√©lectionn√©es
<img width="377" height="235" alt="image" src="https://github.com/user-attachments/assets/5aad54f1-4cb7-47c7-aaa5-1ac7ec56fe98" />
<img width="1156" height="482" alt="image" src="https://github.com/user-attachments/assets/02a37207-21bf-43a5-9893-0b7628c52311" />
<img width="1092" height="387" alt="image" src="https://github.com/user-attachments/assets/e77d5e03-a86c-4202-8167-1e4a8db056a3" />


[Uploading Scan_isochrone_pynb{
  "cells": [
    {
      "cell_type": "code",
      "execution_count": 24,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "7nLIjngJR8dp",
        "outputId": "1011f83a-b83c-4668-b8f8-1b201511aa07"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Requirement already satisfied: folium in /usr/local/lib/python3.12/dist-packages (0.20.0)\n",
            "Requirement already satisfied: requests in /usr/local/lib/python3.12/dist-packages (2.32.4)\n",
            "Requirement already satisfied: pandas in /usr/local/lib/python3.12/dist-packages (2.2.2)\n",
            "Requirement already satisfied: shapely in /usr/local/lib/python3.12/dist-packages (2.1.2)\n",
            "Requirement already satisfied: branca>=0.6.0 in /usr/local/lib/python3.12/dist-packages (from folium) (0.8.2)\n",
            "Requirement already satisfied: jinja2>=2.9 in /usr/local/lib/python3.12/dist-packages (from folium) (3.1.6)\n",
            "Requirement already satisfied: numpy in /usr/local/lib/python3.12/dist-packages (from folium) (2.0.2)\n",
            "Requirement already satisfied: xyzservices in /usr/local/lib/python3.12/dist-packages (from folium) (2025.10.0)\n",
            "Requirement already satisfied: charset_normalizer<4,>=2 in /usr/local/lib/python3.12/dist-packages (from requests) (3.4.4)\n",
            "Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.12/dist-packages (from requests) (3.11)\n",
            "Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.12/dist-packages (from requests) (2.5.0)\n",
            "Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.12/dist-packages (from requests) (2025.10.5)\n",
            "Requirement already satisfied: python-dateutil>=2.8.2 in /usr/local/lib/python3.12/dist-packages (from pandas) (2.9.0.post0)\n",
            "Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.12/dist-packages (from pandas) (2025.2)\n",
            "Requirement already satisfied: tzdata>=2022.7 in /usr/local/lib/python3.12/dist-packages (from pandas) (2025.2)\n",
            "Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.12/dist-packages (from jinja2>=2.9->folium) (3.0.3)\n",
            "Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.12/dist-packages (from python-dateutil>=2.8.2->pandas) (1.17.0)\n"
          ]
        }
      ],
      "source": [
        "pip install folium requests pandas shapely"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 25,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "SDkS3pSNNfsn",
        "outputId": "1ee270fd-7039-4d89-a9fd-e38dd4ed0dcc"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Requirement already satisfied: osmnx in /usr/local/lib/python3.12/dist-packages (2.0.6)\n",
            "Requirement already satisfied: networkx in /usr/local/lib/python3.12/dist-packages (3.5)\n",
            "Requirement already satisfied: geopandas>=1.0.1 in /usr/local/lib/python3.12/dist-packages (from osmnx) (1.1.1)\n",
            "Requirement already satisfied: numpy>=1.22 in /usr/local/lib/python3.12/dist-packages (from osmnx) (2.0.2)\n",
            "Requirement already satisfied: pandas>=1.4 in /usr/local/lib/python3.12/dist-packages (from osmnx) (2.2.2)\n",
            "Requirement already satisfied: requests>=2.27 in /usr/local/lib/python3.12/dist-packages (from osmnx) (2.32.4)\n",
            "Requirement already satisfied: shapely>=2.0 in /usr/local/lib/python3.12/dist-packages (from osmnx) (2.1.2)\n",
            "Requirement already satisfied: pyogrio>=0.7.2 in /usr/local/lib/python3.12/dist-packages (from geopandas>=1.0.1->osmnx) (0.11.1)\n",
            "Requirement already satisfied: packaging in /usr/local/lib/python3.12/dist-packages (from geopandas>=1.0.1->osmnx) (25.0)\n",
            "Requirement already satisfied: pyproj>=3.5.0 in /usr/local/lib/python3.12/dist-packages (from geopandas>=1.0.1->osmnx) (3.7.2)\n",
            "Requirement already satisfied: python-dateutil>=2.8.2 in /usr/local/lib/python3.12/dist-packages (from pandas>=1.4->osmnx) (2.9.0.post0)\n",
            "Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.12/dist-packages (from pandas>=1.4->osmnx) (2025.2)\n",
            "Requirement already satisfied: tzdata>=2022.7 in /usr/local/lib/python3.12/dist-packages (from pandas>=1.4->osmnx) (2025.2)\n",
            "Requirement already satisfied: charset_normalizer<4,>=2 in /usr/local/lib/python3.12/dist-packages (from requests>=2.27->osmnx) (3.4.4)\n",
            "Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.12/dist-packages (from requests>=2.27->osmnx) (3.11)\n",
            "Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.12/dist-packages (from requests>=2.27->osmnx) (2.5.0)\n",
            "Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.12/dist-packages (from requests>=2.27->osmnx) (2025.10.5)\n",
            "Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.12/dist-packages (from python-dateutil>=2.8.2->pandas>=1.4->osmnx) (1.17.0)\n"
          ]
        }
      ],
      "source": [
        "pip install osmnx networkx"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "vUIUmraJeDV1"
      },
      "source": [
        "\n",
        "\n",
        "```\n",
        "# Ce texte est au format code\n",
        "```\n",
        "\n",
        "# **Chargement des biblioth√®ques n√©cessaires**"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 26,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "L1FsCacvZ8d6",
        "outputId": "dc3183e5-d746-4871-e77f-5de7801ab826",
        "collapsed": true
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Reading package lists... Done\n",
            "Building dependency tree... Done\n",
            "Reading state information... Done\n",
            "wkhtmltopdf is already the newest version (0.12.6-2).\n",
            "0 upgraded, 0 newly installed, 0 to remove and 40 not upgraded.\n",
            "Requirement already satisfied: pdfkit in /usr/local/lib/python3.12/dist-packages (1.0.0)\n"
          ]
        }
      ],
      "source": [
        "!apt-get install -y wkhtmltopdf\n",
        "!pip install pdfkit"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 27,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "wSsVsYx8iObp",
        "outputId": "8c246ff0-d45d-440f-c78c-131fbab5ebdc",
        "collapsed": true
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Reading package lists... Done\n",
            "Building dependency tree... Done\n",
            "Reading state information... Done\n",
            "wkhtmltopdf is already the newest version (0.12.6-2).\n",
            "0 upgraded, 0 newly installed, 0 to remove and 40 not upgraded.\n",
            "Requirement already satisfied: pdfkit in /usr/local/lib/python3.12/dist-packages (1.0.0)\n",
            "Requirement already satisfied: selenium in /usr/local/lib/python3.12/dist-packages (4.38.0)\n",
            "Requirement already satisfied: urllib3<3.0,>=2.5.0 in /usr/local/lib/python3.12/dist-packages (from urllib3[socks]<3.0,>=2.5.0->selenium) (2.5.0)\n",
            "Requirement already satisfied: trio<1.0,>=0.31.0 in /usr/local/lib/python3.12/dist-packages (from selenium) (0.32.0)\n",
            "Requirement already satisfied: trio-websocket<1.0,>=0.12.2 in /usr/local/lib/python3.12/dist-packages (from selenium) (0.12.2)\n",
            "Requirement already satisfied: certifi>=2025.10.5 in /usr/local/lib/python3.12/dist-packages (from selenium) (2025.10.5)\n",
            "Requirement already satisfied: typing_extensions<5.0,>=4.15.0 in /usr/local/lib/python3.12/dist-packages (from selenium) (4.15.0)\n",
            "Requirement already satisfied: websocket-client<2.0,>=1.8.0 in /usr/local/lib/python3.12/dist-packages (from selenium) (1.9.0)\n",
            "Requirement already satisfied: attrs>=23.2.0 in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (25.4.0)\n",
            "Requirement already satisfied: sortedcontainers in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (2.4.0)\n",
            "Requirement already satisfied: idna in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (3.11)\n",
            "Requirement already satisfied: outcome in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (1.3.0.post0)\n",
            "Requirement already satisfied: sniffio>=1.3.0 in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (1.3.1)\n",
            "Requirement already satisfied: wsproto>=0.14 in /usr/local/lib/python3.12/dist-packages (from trio-websocket<1.0,>=0.12.2->selenium) (1.3.1)\n",
            "Requirement already satisfied: pysocks!=1.5.7,<2.0,>=1.5.6 in /usr/local/lib/python3.12/dist-packages (from urllib3[socks]<3.0,>=2.5.0->selenium) (1.7.1)\n",
            "Requirement already satisfied: h11<1,>=0.16.0 in /usr/local/lib/python3.12/dist-packages (from wsproto>=0.14->trio-websocket<1.0,>=0.12.2->selenium) (0.16.0)\n",
            "Reading package lists... Done\n",
            "Building dependency tree... Done\n",
            "Reading state information... Done\n",
            "chromium-chromedriver is already the newest version (1:85.0.4183.83-0ubuntu2.22.04.1).\n",
            "0 upgraded, 0 newly installed, 0 to remove and 40 not upgraded.\n",
            "cp: '/usr/lib/chromium-browser/chromedriver' and '/usr/bin/chromedriver' are the same file\n"
          ]
        }
      ],
      "source": [
        "!apt-get install -y wkhtmltopdf\n",
        "!pip install pdfkit selenium\n",
        "!apt-get install -y chromium-chromedriver\n",
        "!cp /usr/lib/chromium-browser/chromedriver /usr/bin"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 28,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "BF52E6LuSyOa",
        "outputId": "cbe72e3f-473d-4971-f18e-8576ecd0de1c",
        "collapsed": true
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Requirement already satisfied: selenium in /usr/local/lib/python3.12/dist-packages (4.38.0)\n",
            "Requirement already satisfied: fpdf in /usr/local/lib/python3.12/dist-packages (1.7.2)\n",
            "Requirement already satisfied: pandas in /usr/local/lib/python3.12/dist-packages (2.2.2)\n",
            "Requirement already satisfied: urllib3<3.0,>=2.5.0 in /usr/local/lib/python3.12/dist-packages (from urllib3[socks]<3.0,>=2.5.0->selenium) (2.5.0)\n",
            "Requirement already satisfied: trio<1.0,>=0.31.0 in /usr/local/lib/python3.12/dist-packages (from selenium) (0.32.0)\n",
            "Requirement already satisfied: trio-websocket<1.0,>=0.12.2 in /usr/local/lib/python3.12/dist-packages (from selenium) (0.12.2)\n",
            "Requirement already satisfied: certifi>=2025.10.5 in /usr/local/lib/python3.12/dist-packages (from selenium) (2025.10.5)\n",
            "Requirement already satisfied: typing_extensions<5.0,>=4.15.0 in /usr/local/lib/python3.12/dist-packages (from selenium) (4.15.0)\n",
            "Requirement already satisfied: websocket-client<2.0,>=1.8.0 in /usr/local/lib/python3.12/dist-packages (from selenium) (1.9.0)\n",
            "Requirement already satisfied: numpy>=1.26.0 in /usr/local/lib/python3.12/dist-packages (from pandas) (2.0.2)\n",
            "Requirement already satisfied: python-dateutil>=2.8.2 in /usr/local/lib/python3.12/dist-packages (from pandas) (2.9.0.post0)\n",
            "Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.12/dist-packages (from pandas) (2025.2)\n",
            "Requirement already satisfied: tzdata>=2022.7 in /usr/local/lib/python3.12/dist-packages (from pandas) (2025.2)\n",
            "Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.12/dist-packages (from python-dateutil>=2.8.2->pandas) (1.17.0)\n",
            "Requirement already satisfied: attrs>=23.2.0 in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (25.4.0)\n",
            "Requirement already satisfied: sortedcontainers in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (2.4.0)\n",
            "Requirement already satisfied: idna in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (3.11)\n",
            "Requirement already satisfied: outcome in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (1.3.0.post0)\n",
            "Requirement already satisfied: sniffio>=1.3.0 in /usr/local/lib/python3.12/dist-packages (from trio<1.0,>=0.31.0->selenium) (1.3.1)\n",
            "Requirement already satisfied: wsproto>=0.14 in /usr/local/lib/python3.12/dist-packages (from trio-websocket<1.0,>=0.12.2->selenium) (1.3.1)\n",
            "Requirement already satisfied: pysocks!=1.5.7,<2.0,>=1.5.6 in /usr/local/lib/python3.12/dist-packages (from urllib3[socks]<3.0,>=2.5.0->selenium) (1.7.1)\n",
            "Requirement already satisfied: h11<1,>=0.16.0 in /usr/local/lib/python3.12/dist-packages (from wsproto>=0.14->trio-websocket<1.0,>=0.12.2->selenium) (0.16.0)\n"
          ]
        }
      ],
      "source": [
        "pip install selenium fpdf pandas"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 29,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "gO9w9216lGjX",
        "outputId": "caf3a0a7-5ea5-41ab-fac2-84f72f4c3c00"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Requirement already satisfied: reportlab in /usr/local/lib/python3.12/dist-packages (4.4.5)\n",
            "Requirement already satisfied: pillow>=9.0.0 in /usr/local/lib/python3.12/dist-packages (from reportlab) (11.3.0)\n",
            "Requirement already satisfied: charset-normalizer in /usr/local/lib/python3.12/dist-packages (from reportlab) (3.4.4)\n"
          ]
        }
      ],
      "source": [
        "pip install reportlab"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 30,
      "metadata": {
        "id": "h-hTbcOVC3bH",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "dad17574-27cb-4bf4-c3c8-4ff240f1bc26",
        "collapsed": true
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "Downloading...\n",
            "From: https://drive.google.com/uc?id=1Ai4VlPphdmFSx5IQDY3bSDkrF48d5jl4\n",
            "To: /content/iris_population.geojson\n",
            "100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 19.5M/19.5M [00:00<00:00, 116MB/s] \n"
          ]
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "üìå Infos de base :\n",
            "<class 'geopandas.geodataframe.GeoDataFrame'>\n",
            "RangeIndex: 1265 entries, 0 to 1264\n",
            "Columns: 136 entries, iris to geometry\n",
            "dtypes: float64(117), geometry(1), object(18)\n",
            "memory usage: 1.3+ MB\n",
            "None\n"
          ]
        }
      ],
      "source": [
        "import gdown\n",
        "import geopandas as gpd\n",
        "\n",
        "# ID du fichier GeoJSON sur Google Drive\n",
        "file_id = '1Ai4VlPphdmFSx5IQDY3bSDkrF48d5jl4'\n",
        "output_path = 'iris_population.geojson'\n",
        "\n",
        "# T√©l√©chargement du fichier depuis Google Drive\n",
        "gdown.download(f'https://drive.google.com/uc?id={file_id}', output_path, quiet=False)\n",
        "\n",
        "# Chargement avec GeoPandas\n",
        "df_popiris = gpd.read_file(output_path)\n",
        "\n",
        "# Affichage d'informations sur le fichier\n",
        "print(\"üìå Infos de base :\")\n",
        "print(df_popiris.info())\n",
        "# Pr√©fixe √† retirer\n",
        "prefix = \"Activit√© des r√©sidents en 2021 - IRIS - France hors Mayotte_\"\n",
        "\n",
        "# Modification des noms de colonnes\n",
        "df_popiris.columns = [\n",
        "    col.replace(prefix, '') if col.startswith(prefix) else col\n",
        "    for col in df_popiris.columns\n",
        "]"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "ObqzUlMQdZbp"
      },
      "source": [
        "## **Syntaxe pour supprimer le pr√©fixe des colonnes CSP**"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 46,
      "metadata": {
        "id": "PfnVR2uGRnNM"
      },
      "outputs": [],
      "source": [
        "# Pr√©fixe √† retirer\n",
        "prefix = \"Activit√© des r√©sidents en 2021 - IRIS - France hors Mayotte_\"\n",
        "\n",
        "# Modification des noms de colonnes\n",
        "df_popiris.columns = [\n",
        "    col.replace(prefix, '') if col.startswith(prefix) else col\n",
        "    for col in df_popiris.columns\n",
        "]"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 47,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "BcAz7zfsBmQ-",
        "outputId": "eaa46d43-8b9a-488d-fcf7-078d8cc296d2",
        "collapsed": true
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "Index(['iris', 'nom_iris', 'insee_com', 'code_dept', 'geo_point_', 'nom_dept',\n",
              "       'nom_com', 'code_iris', 'Surface', 'POP 2017',\n",
              "       ...\n",
              "       'P21_ACTOCC15P_ILT4', 'P21_ACTOCC15P_ILT5', 'C21_ACTOCC15P',\n",
              "       'C21_ACTOCC15P_PAS', 'C21_ACTOCC15P_MAR', 'C21_ACTOCC15P_VELO',\n",
              "       'C21_ACTOCC15P_2ROUESMOT', 'C21_ACTOCC15P_VOIT', 'C21_ACTOCC15P_TCOM',\n",
              "       'geometry'],\n",
              "      dtype='object', length=136)"
            ]
          },
          "metadata": {},
          "execution_count": 47
        }
      ],
      "source": [
        "df_popiris.columns"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "fQAcU33bwG4U"
      },
      "source": [
        "# **Isochrone + cat√©gories Socio-Professionelles**"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 48,
      "metadata": {
        "id": "XUcXe_naTDIQ",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000,
          "referenced_widgets": [
            "17323e556d954df2bea0d61c8df6215e",
            "7d0de0e535d24d60aecb3a8474ccbb5f",
            "783cefef97eb4b42bc0b557cc6b92d6c",
            "9b5e2db63f174db193507498e61fcbb5",
            "b97a616350ee498a9d2f52fb45e2babd",
            "a782beae5dfd4d0ba2aea8275fc97f4d",
            "d9cad61da81e4dd0947bc1a457ac0d94",
            "2de40967e76141b8a4b5052d9adf0985",
            "048444641064425587d209a32f3d7d41",
            "65940292ddac4c258ae5735fbd3bc0b5",
            "e7b66f96c9f7460c98ec3be98bd55bfb",
            "312556e9cd794bd587df0d54b9e1757b",
            "0e34eb38be7b406e94c3cc7210068288",
            "316d34f337234436a9cb32becee16869",
            "da029311cfc84a9cba5291e90be886d9",
            "67caef1e4d274cd7a61f3441e406bcc3",
            "6a788bd5a7f346808c28e971bd524298",
            "157b7a1171984376bc1d46a6fd855610",
            "16625a940f9f48dcbb1559810475e87b"
          ]
        },
        "outputId": "3d4077cf-5c2c-4a9e-9b0c-26823a52cbde"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "VBox(children=(HTML(value='<h3>üó∫Ô∏è Isochrone + Population & CSP estim√©e</h3>'), FloatText(value=45.75, descript‚Ä¶"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "17323e556d954df2bea0d61c8df6215e"
            }
          },
          "metadata": {}
        }
      ],
      "source": [
        "import ipywidgets as widgets\n",
        "from IPython.display import display, HTML\n",
        "import geopandas as gpd\n",
        "import folium\n",
        "import requests\n",
        "from shapely.geometry import shape\n",
        "import pandas as pd\n",
        "\n",
        "# --- Cl√© API ORS ---\n",
        "ORS_API_KEY = 'eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImU5MmQwMTIzNWU4MzRkODBhOWE4YzQwMzQ5Mzc4NDI2IiwiaCI6Im11cm11cjY0In0='\n",
        "\n",
        "# --- Fonction ORS : Isochrone ---\n",
        "def get_isochrone_from_coords(lat, lon, minutes, api_key=ORS_API_KEY):\n",
        "    url = 'https://api.openrouteservice.org/v2/isochrones/foot-walking'\n",
        "    headers = {\n",
        "        'Authorization': api_key,\n",
        "        'Content-Type': 'application/json'\n",
        "    }\n",
        "    body = {\n",
        "        \"locations\": [[lon, lat]],\n",
        "        \"range\": [minutes * 60],\n",
        "        \"units\": \"m\"\n",
        "    }\n",
        "    response = requests.post(url, json=body, headers=headers)\n",
        "    response.raise_for_status()\n",
        "    return response.json()\n",
        "\n",
        "# --- Fonction : Population estim√©e dans l‚Äôisochrone ---\n",
        "def compute_population_in_isochrone(lat, lon, minutes, df_popiris, pop_col='C21_ACT1564'):\n",
        "    data = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(data['features'][0]['geometry'])\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    total_population = 0\n",
        "    communes_contrib = []\n",
        "\n",
        "    for _, row in df_proj.iterrows():\n",
        "        geom = row['geometry']\n",
        "        if geom.intersects(isochrone_proj):\n",
        "            intersection = geom.intersection(isochrone_proj)\n",
        "            if not intersection.is_empty:\n",
        "                surface_ratio = intersection.area / geom.area\n",
        "                try:\n",
        "                    pop_contrib = float(row[pop_col]) * surface_ratio\n",
        "                    total_population += pop_contrib\n",
        "                    communes_contrib.append({\n",
        "                        'Nom IRIS': row.get('NOM_IRIS', 'Inconnu'),\n",
        "                        '% surface': round(surface_ratio * 100, 2),\n",
        "                        'Population estim√©e': int(pop_contrib)\n",
        "                    })\n",
        "                except:\n",
        "                    continue\n",
        "\n",
        "    return data, int(total_population), communes_contrib\n",
        "\n",
        "# --- Fonction : R√©partition CSP estim√©e ---\n",
        "def compute_csp_in_isochrone(lat, lon, minutes, df_popiris):\n",
        "    data = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(data['features'][0]['geometry'])\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    csp_cols = {\n",
        "        'C21_ACT1564_CS1': 'Agriculteurs',\n",
        "        'C21_ACT1564_CS2': 'Artisans/Commer√ßants',\n",
        "        'C21_ACT1564_CS3': 'Cadres',\n",
        "        'C21_ACT1564_CS4': 'Prof. interm√©diaires',\n",
        "        'C21_ACT1564_CS5': 'Employ√©s',\n",
        "        'C21_ACT1564_CS6': 'Ouvriers'\n",
        "    }\n",
        "\n",
        "    total_csp = {csp_name: 0 for csp_name in csp_cols.values()}\n",
        "\n",
        "    for _, row in df_proj.iterrows():\n",
        "        geom = row['geometry']\n",
        "        if geom.intersects(isochrone_proj):\n",
        "            intersection = geom.intersection(isochrone_proj)\n",
        "            if not intersection.is_empty:\n",
        "                try:\n",
        "                    ratio = intersection.area / geom.area\n",
        "                    for col_code, csp_name in csp_cols.items():\n",
        "                        val = float(row.get(col_code, 0))\n",
        "                        total_csp[csp_name] += val * ratio\n",
        "                except:\n",
        "                    continue\n",
        "\n",
        "    total_actifs = sum(total_csp.values())\n",
        "\n",
        "    csp_percentages = {\n",
        "        k: round((v / total_actifs) * 100, 2) if total_actifs > 0 else 0\n",
        "        for k, v in total_csp.items()\n",
        "    }\n",
        "\n",
        "    return csp_percentages, total_csp, int(total_actifs)\n",
        "\n",
        "# --- Fonction : G√©n√©ration de la carte + tableaux ---\n",
        "def generate_result_content(lat, lon, minutes, df_popiris):\n",
        "    isochrone_geojson, pop_totale, communes_contrib = compute_population_in_isochrone(\n",
        "        lat, lon, minutes, df_popiris, pop_col='C21_ACT1564'\n",
        "    )\n",
        "    csp_percentages, total_csp, total_active_population = compute_csp_in_isochrone(lat, lon, minutes, df_popiris)\n",
        "\n",
        "    fmap = folium.Map(location=[lat, lon], zoom_start=13)\n",
        "\n",
        "    # Isochrone\n",
        "    folium.GeoJson(\n",
        "        isochrone_geojson,\n",
        "        name='Isochrone',\n",
        "        style_function=lambda x: {\n",
        "            'fillColor': 'blue', 'color': 'blue', 'fillOpacity': 0.3\n",
        "        }\n",
        "    ).add_to(fmap)\n",
        "\n",
        "    # Marqueur central\n",
        "    folium.Marker([lat, lon], icon=folium.Icon(color='red'), popup=\"Point s√©lectionn√©\").add_to(fmap)\n",
        "\n",
        "    # Tableaux pour affichage en sortie\n",
        "    df_csp = pd.DataFrame.from_dict(csp_percentages, orient='index', columns=[\"% Actifs\"])\n",
        "    df_csp.index.name = \"Cat√©gorie socio-professionnelle\"\n",
        "    df_csp.reset_index(inplace=True)\n",
        "\n",
        "    df_contrib = pd.DataFrame(communes_contrib)\n",
        "    df_contrib = df_contrib[['Nom IRIS', '% surface', 'Population estim√©e']]\n",
        "\n",
        "    return fmap, df_csp, df_contrib, pop_totale, total_active_population\n",
        "\n",
        "# --- Widgets ---\n",
        "lat_widget = widgets.FloatText(value=45.75, description='Latitude:')\n",
        "lon_widget = widgets.FloatText(value=4.85, description='Longitude:')\n",
        "minutes_widget = widgets.IntSlider(value=10, min=1, max=60, step=1, description='Dur√©e (min):')\n",
        "run_button = widgets.Button(description=\"Afficher l'isochrone\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "# --- Callback bouton ---\n",
        "def on_button_click(b):\n",
        "    output.clear_output()\n",
        "    with output:\n",
        "        lat = lat_widget.value\n",
        "        lon = lon_widget.value\n",
        "        minutes = minutes_widget.value\n",
        "        print(f\"üìç Point s√©lectionn√© : ({lat}, {lon}) ‚Äì {minutes} min √† pied\\n\")\n",
        "\n",
        "        fmap, df_csp, df_contrib, pop_totale, total_active_population = generate_result_content(lat, lon, minutes, df_popiris)\n",
        "\n",
        "        display(fmap)\n",
        "\n",
        "        display(HTML(f\"<h4>üìä R√©partition des CSP (actifs occup√©s) ‚Äî Total actifs estim√©s : {total_active_population:,}</h4>\"))\n",
        "        display(df_csp.style.set_table_attributes('class=\"table\"').format({\"% Actifs\": \"{:.2f}%\"}))\n",
        "\n",
        "# --- Affichage interface ---\n",
        "display(widgets.VBox([\n",
        "    widgets.HTML(\"<h3>üó∫Ô∏è Isochrone + Population & CSP estim√©e</h3>\"),\n",
        "    lat_widget,\n",
        "    lon_widget,\n",
        "    minutes_widget,\n",
        "    run_button,\n",
        "    output\n",
        "]))\n",
        "run_button.on_click(on_button_click)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "yu8j9_wLEmvO"
      },
      "source": [
        "# **Recherche d‚ÄôIRIS dans le Rh√¥ne correspondant √† une r√©partition socio-professionnelle cible**"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 49,
      "metadata": {
        "id": "tV2g3h6PHaQo",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000,
          "referenced_widgets": [
            "c2411be1d56a43a59ab7ca17568501e3",
            "1bee9d65db264865b7ca28fcab894825",
            "ffaa2ca05a1a49449fb730efe7c5c1fa",
            "1b7a45008abc40618fd5b97a670711f7",
            "30d8e75d984140e39aa4f1db031ce2de",
            "085e73281eb44ddfb1acf962f983870c",
            "39336c6ead9142d788cddc83d0183e9c",
            "97141288cc0b4c5ba567d5ea1c5f2c18",
            "3431009325fb4630918c9db4d30d87cd",
            "c8d31407ee234b0583a7b4760097f946",
            "74e02a4c879040208a2708f3f4dc2e0d",
            "64f9d3dca3fd46d6918ab807597377ea",
            "dc8ab22db85e49b6badc9b59acc2d854",
            "f90ba32856474948ac694a01f4485cb0",
            "7b7486f58e094745953498e19db7c37a",
            "48fd476fe83d4c8d8bae82d07f6942cf",
            "1244b382e282459b9fc820cf16440d21",
            "36baaaf10a9b4031980ffcca736eabe2",
            "b12f228823a140c090eacbadce8703bf",
            "70c6734e7987412cb41413359ca7735d",
            "833cfd67f0dd40e89ab271de3a938fed",
            "5a2cf17f902d41c392e03b772e0155b1",
            "0e156fc77cb948e090c30e9debfb9e49",
            "7378e17073564b51988eaa5faa649e8e",
            "a47677f039f34d74aeba696aeeb3368f",
            "e915dd2144cc4e4c9995d10055a0d35e",
            "58eaa2fd81e9411fa947afca09bb05a4",
            "ba98c7c32d9341da99e7e341ce8cbf1a",
            "5053e6b19c4f408392af71a30ed4f7e2",
            "2150f75479b5478ead6cc736bed49579",
            "1811340698194cd4b85bddbc6bc3ece2"
          ]
        },
        "outputId": "4f5caee3-848e-4d30-b225-88f8434b2de7"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "VBox(children=(HTML(value='<h3>üîç Comparaison entre IRIS selon une r√©partition CSP cible</h3>'), HTML(value='<b‚Ä¶"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "c2411be1d56a43a59ab7ca17568501e3"
            }
          },
          "metadata": {}
        }
      ],
      "source": [
        "# --- Fonction : Calcul des % CSP dans chaque IRIS (limit√© au Rh√¥ne) ---\n",
        "def compute_iris_csp_distribution(df_popiris):\n",
        "    # S'assurer que 'code_iris' est de type str\n",
        "    df_popiris['code_iris'] = df_popiris['code_iris'].astype(str)\n",
        "\n",
        "    # Filtrage : ne garder que les IRIS du d√©partement du Rh√¥ne (code INSEE 69)\n",
        "    df_popiris = df_popiris[df_popiris['code_iris'].str.startswith('69')]\n",
        "\n",
        "    csp_cols = {\n",
        "        'C21_ACT1564_CS1': 'Agriculteurs',\n",
        "        'C21_ACT1564_CS2': 'Artisans/Commer√ßants',\n",
        "        'C21_ACT1564_CS3': 'Cadres',\n",
        "        'C21_ACT1564_CS4': 'Prof. interm√©diaires',\n",
        "        'C21_ACT1564_CS5': 'Employ√©s',\n",
        "        'C21_ACT1564_CS6': 'Ouvriers'\n",
        "    }\n",
        "\n",
        "    df = df_popiris.copy()\n",
        "    total = df[list(csp_cols.keys())].sum(axis=1)\n",
        "    for col, name in csp_cols.items():\n",
        "        df[name] = df[col] / total * 100\n",
        "    df['total_actifs'] = total\n",
        "    return df, list(csp_cols.values())\n",
        "\n",
        "# --- Fonction : Trouver les IRIS les plus proches de la r√©partition cible ---\n",
        "def find_closest_iris_to_csp_target(csp_target, df_csp, csp_labels, top_n=5):\n",
        "    def score(row):\n",
        "        return sum(abs(row[csp] - csp_target[csp]) for csp in csp_labels)\n",
        "\n",
        "    df_csp['score'] = df_csp.apply(score, axis=1)\n",
        "    return df_csp.sort_values(by='score').head(top_n)\n",
        "\n",
        "# --- Interface widgets (sans dur√©e) ---\n",
        "csp_widgets = {\n",
        "    'Cadres': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Cadres'),\n",
        "    'Employ√©s': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Employ√©s'),\n",
        "    'Ouvriers': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Ouvriers'),\n",
        "    'Prof. interm√©diaires': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Interm√©diaires'),\n",
        "    'Artisans/Commer√ßants': widgets.IntSlider(value=10, min=0, max=100, step=1, description='Artisans'),\n",
        "    'Agriculteurs': widgets.IntSlider(value=10, min=0, max=100, step=1, description='Agriculteurs')\n",
        "}\n",
        "\n",
        "run_button = widgets.Button(description=\"Comparer les IRIS\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "# --- Callback principal ---\n",
        "def on_run_clicked(b):\n",
        "    output.clear_output()\n",
        "    with output:\n",
        "        csp_target = {k: widget.value for k, widget in csp_widgets.items()}\n",
        "        total_pct = sum(csp_target.values())\n",
        "        if total_pct == 0:\n",
        "            print(\"‚ö†Ô∏è La somme des pourcentages CSP ne peut pas √™tre 0.\")\n",
        "            return\n",
        "\n",
        "        # Normalisation\n",
        "        csp_target = {k: round((v / total_pct) * 100, 2) for k, v in csp_target.items()}\n",
        "        print(\"üéØ R√©partition CSP cible (normalis√©e √† 100%) :\", csp_target)\n",
        "\n",
        "        # Calcul des r√©partitions CSP par IRIS (limit√© au Rh√¥ne)\n",
        "        df_csp, csp_labels = compute_iris_csp_distribution(df_popiris)\n",
        "\n",
        "        # Comparaison\n",
        "        closest = find_closest_iris_to_csp_target(csp_target, df_csp, csp_labels, top_n=5)\n",
        "\n",
        "        display(HTML(\"<h4>üìç IRIS avec la r√©partition CSP la plus proche (Rh√¥ne uniquement) :</h4>\"))\n",
        "        for i, row in closest.iterrows():\n",
        "            print(f\"- Score : {round(row['score'], 2)} ‚Äì Actifs : {int(row['total_actifs'])}\")\n",
        "            display(row[csp_labels].round(2).to_frame(name=\"% Actifs\").T)\n",
        "\n",
        "            centroid = row['geometry'].centroid\n",
        "            fmap = folium.Map(location=[centroid.y, centroid.x], zoom_start=13)\n",
        "            folium.GeoJson(row['geometry'], style_function=lambda x: {\n",
        "                'fillColor': 'green', 'color': 'green', 'fillOpacity': 0.4\n",
        "            }).add_to(fmap)\n",
        "            folium.Marker([centroid.y, centroid.x], popup=f\"Score : {round(row['score'],2)}\").add_to(fmap)\n",
        "            display(fmap)\n",
        "\n",
        "# --- Affichage Interface ---\n",
        "display(widgets.VBox([\n",
        "    widgets.HTML(\"<h3>üîç Comparaison entre IRIS selon une r√©partition CSP cible</h3>\"),\n",
        "    widgets.HTML(\"<b>D√©finissez votre r√©partition cible :</b>\"),\n",
        "    *csp_widgets.values(),\n",
        "    run_button,\n",
        "    output\n",
        "]))\n",
        "\n",
        "run_button.on_click(on_run_clicked)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 35,
      "metadata": {
        "id": "aLdn8805i1ey",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "c4535417-414a-43e5-c6e7-747b8ec21176"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "Index(['iris', 'nom_iris', 'insee_com', 'code_dept', 'geo_point_', 'nom_dept',\n",
              "       'nom_com', 'code_iris', 'Surface', 'POP 2017',\n",
              "       ...\n",
              "       'P21_ACTOCC15P_ILT4', 'P21_ACTOCC15P_ILT5', 'C21_ACTOCC15P',\n",
              "       'C21_ACTOCC15P_PAS', 'C21_ACTOCC15P_MAR', 'C21_ACTOCC15P_VELO',\n",
              "       'C21_ACTOCC15P_2ROUESMOT', 'C21_ACTOCC15P_VOIT', 'C21_ACTOCC15P_TCOM',\n",
              "       'geometry'],\n",
              "      dtype='object', length=136)"
            ]
          },
          "metadata": {},
          "execution_count": 35
        }
      ],
      "source": [
        "df_popiris.columns"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 44,
      "metadata": {
        "id": "lrAy0FpmVN-Y",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 696,
          "referenced_widgets": [
            "0a6f44f7717a4bbc983c0690166696c9",
            "3ee8ee78ca08429fb800d0488be653fe",
            "34840556a1a845ecad355a08466f0f2d",
            "1114ff9ccdd2442f945a6ad28db19b0f",
            "a926832c4acf49d59138eb765ee4b011",
            "5cb0b6b8dfb54c25a5e574bfe17c26d7",
            "0be55424b20347c48ea7930e6f46b1e1",
            "5842446c57454090b0620d33022ff909",
            "f36f74aa96194b4e98564db1c27a4a23",
            "e9776a10c70148b8aec7492035fd8d20",
            "c80c048c11944a568f924bf701cb067d",
            "47693937022c41f292413408ee0be9f0",
            "160f992fd83a472b92e063232196344a",
            "f187b6c8d2df483d9c2912c01d437013",
            "066da50de04b4a54bb11ca9fe0d5539f",
            "d5965e6149d94d9ba03eca0fd62dadb5",
            "543c9664c8a3470cbccb9762c7c59e15",
            "8a9dd872ae1748fb9c8545d9739a1870",
            "9ae4c2423db14444b8b2973b5bf91652",
            "5ba4c04760824593a6b1467dbd68a3b7",
            "0bd987e283424a98bafa425a41fc4456",
            "0fbe96401af845e38f9b9ee88e1e7552",
            "87d3d20728f04da1bc750983f2662f82",
            "078bb93a19764779a85aab3c00a1b197",
            "f49ed446624344639b5770e5136f6339",
            "89e813b0630b47f5bf02d91047e5c2bb",
            "f3caedb536e34ef5be6e4da6fa875028",
            "8d088835a55747a38313aceb1b320294",
            "da83627529b64f7888e39befc012365c",
            "4cd3fdf4e13a4510b507b62a0947217b",
            "11ba60d2e2584e1a824ad9129c793627"
          ]
        },
        "outputId": "7b9ceb78-70ab-4942-dbc6-18583fd5e5be"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "VBox(children=(HTML(value='<h3>üîç Comparaison entre IRIS selon une r√©partition CSP cible</h3>'), HTML(value='<b‚Ä¶"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "0a6f44f7717a4bbc983c0690166696c9"
            }
          },
          "metadata": {}
        }
      ],
      "source": [
        "import numpy as np\n",
        "import pandas as pd\n",
        "import geopandas as gpd\n",
        "from IPython.display import display, HTML\n",
        "import ipywidgets as widgets\n",
        "import folium\n",
        "\n",
        "# --- Fonction : Calcul des % CSP dans chaque IRIS (limit√© au Rh√¥ne) ---\n",
        "def compute_iris_csp_distribution(df_popiris):\n",
        "    # S'assurer que 'code_iris' est de type str\n",
        "    df_popiris['code_iris'] = df_popiris['code_iris'].astype(str)\n",
        "\n",
        "    # Filtrage : ne garder que les IRIS du d√©partement du Rh√¥ne (code INSEE 69)\n",
        "    df_popiris = df_popiris[df_popiris['code_iris'].str.startswith('69')]\n",
        "\n",
        "    csp_cols = {\n",
        "        'C21_ACT1564_CS1': 'Agriculteurs',\n",
        "        'C21_ACT1564_CS2': 'Artisans/Commer√ßants',\n",
        "        'C21_ACT1564_CS3': 'Cadres',\n",
        "        'C21_ACT1564_CS4': 'Prof. interm√©diaires',\n",
        "        'C21_ACT1564_CS5': 'Employ√©s',\n",
        "        'C21_ACT1564_CS6': 'Ouvriers'\n",
        "    }\n",
        "\n",
        "    df = df_popiris.copy()\n",
        "    total = df[list(csp_cols.keys())].sum(axis=1)\n",
        "    for col, name in csp_cols.items():\n",
        "        df[name] = df[col] / total * 100\n",
        "    df['total_actifs'] = total\n",
        "    return df, list(csp_cols.values())\n",
        "\n",
        "# --- Fonction : Trouver les IRIS les plus proches de la r√©partition cible ---\n",
        "def find_closest_iris_to_csp_target(csp_target, df_csp, csp_labels, top_n=5):\n",
        "    def score(row):\n",
        "        return sum(abs(row[csp] - csp_target[csp]) for csp in csp_labels)\n",
        "\n",
        "    df_csp['score'] = df_csp.apply(score, axis=1)\n",
        "    return df_csp.sort_values(by='score').head(top_n)\n",
        "\n",
        "# --- Interface widgets (sans dur√©e) ---\n",
        "csp_widgets = {\n",
        "    'Cadres': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Cadres'),\n",
        "    'Employ√©s': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Employ√©s'),\n",
        "    'Ouvriers': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Ouvriers'),\n",
        "    'Prof. interm√©diaires': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Interm√©diaires'),\n",
        "    'Artisans/Commer√ßants': widgets.IntSlider(value=10, min=0, max=100, step=1, description='Artisans'),\n",
        "    'Agriculteurs': widgets.IntSlider(value=10, min=0, max=100, step=1, description='Agriculteurs')\n",
        "}\n",
        "\n",
        "run_button = widgets.Button(description=\"Comparer les IRIS\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "# --- Callback principal ---\n",
        "def on_run_clicked(b):\n",
        "    output.clear_output()\n",
        "    with output:\n",
        "        csp_target = {k: widget.value for k, widget in csp_widgets.items()}\n",
        "        total_pct = sum(csp_target.values())\n",
        "        if total_pct == 0:\n",
        "            print(\"‚ö†Ô∏è La somme des pourcentages CSP ne peut pas √™tre 0.\")\n",
        "            return\n",
        "\n",
        "        # Normalisation\n",
        "        csp_target = {k: round((v / total_pct) * 100, 2) for k, v in csp_target.items()}\n",
        "        print(\"üéØ R√©partition CSP cible (normalis√©e √† 100%) :\", csp_target)\n",
        "\n",
        "        # Calcul des r√©partitions CSP par IRIS (limit√© au Rh√¥ne)\n",
        "        df_csp, csp_labels = compute_iris_csp_distribution(df_popiris)\n",
        "\n",
        "        # Comparaison\n",
        "        closest = find_closest_iris_to_csp_target(csp_target, df_csp, csp_labels, top_n=5)\n",
        "\n",
        "        display(HTML(\"<h4>üìä Tableau des 5 IRIS les plus proches :</h4>\"))\n",
        "\n",
        "        # üîµ Affichage du tableau avec nom_iris ajout√©\n",
        "        display(closest[['code_iris', 'nom_iris', 'score', 'total_actifs'] + csp_labels].round(2).reset_index(drop=True))\n",
        "\n",
        "        display(HTML(\"<h4>üìç IRIS avec la r√©partition CSP la plus proche (Rh√¥ne uniquement) :</h4>\"))\n",
        "        for i, row in closest.iterrows():\n",
        "            print(f\"- Score : {round(row['score'], 2)} ‚Äì Actifs : {int(row['total_actifs'])}\")\n",
        "            display(row[csp_labels].round(2).to_frame(name=\"% Actifs\").T)\n",
        "\n",
        "            centroid = row['geometry'].centroid\n",
        "            fmap = folium.Map(location=[centroid.y, centroid.x], zoom_start=13)\n",
        "            folium.GeoJson(row['geometry'], style_function=lambda x: {\n",
        "                'fillColor': 'green', 'color': 'green', 'fillOpacity': 0.4\n",
        "            }).add_to(fmap)\n",
        "            folium.Marker([centroid.y, centroid.x], popup=f\"Score : {round(row['score'],2)}\").add_to(fmap)\n",
        "            display(fmap)\n",
        "\n",
        "# --- Affichage Interface ---\n",
        "display(widgets.VBox([\n",
        "    widgets.HTML(\"<h3>üîç Comparaison entre IRIS selon une r√©partition CSP cible</h3>\"),\n",
        "    widgets.HTML(\"<b>D√©finissez votre r√©partition cible :</b>\"),\n",
        "    *csp_widgets.values(),\n",
        "    run_button,\n",
        "    output\n",
        "]))\n",
        "\n",
        "run_button.on_click(on_run_clicked)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 37,
      "metadata": {
        "id": "PY8p91E1KOFY",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 283
        },
        "outputId": "dd615b2e-962f-48b5-c2d1-89341c1fe7a5"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "   iris              nom_iris insee_com code_dept  \\\n",
              "0  0000   Saint-Marcel-d'UrfÔøΩ     42255        42   \n",
              "1  0000  Saint-Pierre-de-BÔøΩuf     42272        42   \n",
              "\n",
              "                                geo_point_ nom_dept               nom_com  \\\n",
              "0  (2:45.87073884180357,3.879745794829265)    LOIRE   Saint-Marcel-d'UrfÔøΩ   \n",
              "1   (2:45.37716722880891,4.74461200054728)    LOIRE  Saint-Pierre-de-BÔøΩuf   \n",
              "\n",
              "   code_iris   Surface  POP 2017  ... P21_ACTOCC15P_ILT4 P21_ACTOCC15P_ILT5  \\\n",
              "0  422550000  20.26640     290.0  ...                3.0                0.0   \n",
              "1  422720000   8.55984    1726.0  ...                4.0                0.0   \n",
              "\n",
              "  C21_ACTOCC15P C21_ACTOCC15P_PAS C21_ACTOCC15P_MAR C21_ACTOCC15P_VELO  \\\n",
              "0          89.0               0.0              10.0                0.0   \n",
              "1         750.0               9.0              20.0               11.0   \n",
              "\n",
              "  C21_ACTOCC15P_2ROUESMOT C21_ACTOCC15P_VOIT C21_ACTOCC15P_TCOM  \\\n",
              "0                     0.0               80.0                0.0   \n",
              "1                    15.0              667.0               29.0   \n",
              "\n",
              "                                            geometry  \n",
              "0  MULTIPOLYGON (((3.85873 45.87396, 3.85855 45.8...  \n",
              "1  MULTIPOLYGON (((4.75451 45.39769, 4.75527 45.3...  \n",
              "\n",
              "[2 rows x 136 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-8965c901-c015-4128-bf4e-8e989d5df917\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>iris</th>\n",
              "      <th>nom_iris</th>\n",
              "      <th>insee_com</th>\n",
              "      <th>code_dept</th>\n",
              "      <th>geo_point_</th>\n",
              "      <th>nom_dept</th>\n",
              "      <th>nom_com</th>\n",
              "      <th>code_iris</th>\n",
              "      <th>Surface</th>\n",
              "      <th>POP 2017</th>\n",
              "      <th>...</th>\n",
              "      <th>P21_ACTOCC15P_ILT4</th>\n",
              "      <th>P21_ACTOCC15P_ILT5</th>\n",
              "      <th>C21_ACTOCC15P</th>\n",
              "      <th>C21_ACTOCC15P_PAS</th>\n",
              "      <th>C21_ACTOCC15P_MAR</th>\n",
              "      <th>C21_ACTOCC15P_VELO</th>\n",
              "      <th>C21_ACTOCC15P_2ROUESMOT</th>\n",
              "      <th>C21_ACTOCC15P_VOIT</th>\n",
              "      <th>C21_ACTOCC15P_TCOM</th>\n",
              "      <th>geometry</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>0000</td>\n",
              "      <td>Saint-Marcel-d'UrfÔøΩ</td>\n",
              "      <td>42255</td>\n",
              "      <td>42</td>\n",
              "      <td>(2:45.87073884180357,3.879745794829265)</td>\n",
              "      <td>LOIRE</td>\n",
              "      <td>Saint-Marcel-d'UrfÔøΩ</td>\n",
              "      <td>422550000</td>\n",
              "      <td>20.26640</td>\n",
              "      <td>290.0</td>\n",
              "      <td>...</td>\n",
              "      <td>3.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>89.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>10.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>80.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>MULTIPOLYGON (((3.85873 45.87396, 3.85855 45.8...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>0000</td>\n",
              "      <td>Saint-Pierre-de-BÔøΩuf</td>\n",
              "      <td>42272</td>\n",
              "      <td>42</td>\n",
              "      <td>(2:45.37716722880891,4.74461200054728)</td>\n",
              "      <td>LOIRE</td>\n",
              "      <td>Saint-Pierre-de-BÔøΩuf</td>\n",
              "      <td>422720000</td>\n",
              "      <td>8.55984</td>\n",
              "      <td>1726.0</td>\n",
              "      <td>...</td>\n",
              "      <td>4.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>750.0</td>\n",
              "      <td>9.0</td>\n",
              "      <td>20.0</td>\n",
              "      <td>11.0</td>\n",
              "      <td>15.0</td>\n",
              "      <td>667.0</td>\n",
              "      <td>29.0</td>\n",
              "      <td>MULTIPOLYGON (((4.75451 45.39769, 4.75527 45.3...</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>2 rows √ó 136 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-8965c901-c015-4128-bf4e-8e989d5df917')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-8965c901-c015-4128-bf4e-8e989d5df917 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-8965c901-c015-4128-bf4e-8e989d5df917');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    <div id=\"df-513d8151-bcd5-41be-a4fc-fd7a1a63a719\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-513d8151-bcd5-41be-a4fc-fd7a1a63a719')\"\n",
              "                title=\"Suggest charts\"\n",
              "                style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "      <script>\n",
              "        async function quickchart(key) {\n",
              "          const quickchartButtonEl =\n",
              "            document.querySelector('#' + key + ' button');\n",
              "          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "          quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "          try {\n",
              "            const charts = await google.colab.kernel.invokeFunction(\n",
              "                'suggestCharts', [key], {});\n",
              "          } catch (error) {\n",
              "            console.error('Error during call to suggestCharts:', error);\n",
              "          }\n",
              "          quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "        }\n",
              "        (() => {\n",
              "          let quickchartButtonEl =\n",
              "            document.querySelector('#df-513d8151-bcd5-41be-a4fc-fd7a1a63a719 button');\n",
              "          quickchartButtonEl.style.display =\n",
              "            google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "        })();\n",
              "      </script>\n",
              "    </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "df_popiris"
            }
          },
          "metadata": {},
          "execution_count": 37
        }
      ],
      "source": [
        "df_popiris.head(2)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "r7HCcbDsXuWm"
      },
      "source": [
        "## **Recherche d‚ÄôIRIS id√©aux selon une r√©partition CSP cible et des communes s√©lectionn√©es**"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 50,
      "metadata": {
        "id": "HdmIb_K1Vfhj",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000,
          "referenced_widgets": [
            "18d524431131437181a8129bd94a491f",
            "fbb0fa09b2324bd9b47438a13065044f",
            "270fc3b4a3fe46fe84f927fd51da176a",
            "a41c107e65e54cbc951ad4fff03efe7e",
            "f82642bf61654065b5041ffed7ac50ce",
            "c60fb06cdfa142df99bc737b6f1f8b65",
            "b689b1bbb81c43849601699a62418eb8",
            "e2d5ca63f30340489cb31f0c0c9819cd",
            "59b4b2d61d4742eeb75c22c286c65f4a",
            "15359627ed1b490abf8511ed1fd86dee",
            "30d6fd087d9b4c6c84d17edc3861e189",
            "34d1a19a82ff4d62b2f60c9695ef1b2c",
            "5b189a72d06f40c09117470d39244437",
            "81f9e79b89ec48b582e643aef87f1d01",
            "efba8700d31e4f00bc699383c7edfb90",
            "527fd79e75a340bb843d6ed432ac3b77",
            "861936f2bb944437a80521d5d96d9823",
            "22a6bc64ff47403cbed1a276a77d7c45",
            "035ddcdf4fe549ec9c0b0c8db87810a8",
            "39360c9509a247d6b41119865a49c82d",
            "00979fc580614ba4b86517535a6b45b4",
            "169faf70c1904aecb22f6b3417482c59",
            "d8b19aaaad284e98ad7fb62704f5ff1c",
            "1bcd8343e106466b92df4d71d3b84612",
            "f07f62edf25d43bcbb749a8f518b8dae",
            "29491cf07f2a4c968277876100880bef",
            "8afb71039afc42b5aa70fca082570da1",
            "a5c674f1f845460abd4164c61e2fe412",
            "2abf1a7579ad44ad95700d366bf1d070",
            "46650b6c932f41f58f965f66c6d08a6a",
            "93d4e22b79de4dfba527e0eabe7520ae",
            "2aee4c5576574789a3a2d8e486ec7172",
            "6aea4511ba1c41b992a6519e03177289",
            "fe55e4ef9e0f4c9c976a49490a5999cf",
            "5d9216abe684411c9ae1f3de32c0dd83",
            "2d318f6ae3124472b596e63fbb68eaac",
            "6b7bad6a2a854155bccaaae6db9f2ee1"
          ]
        },
        "outputId": "4cd1a706-651b-45b9-af1a-f419c7ad95db"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "VBox(children=(HTML(value='<h3>üîç Trouver les IRIS id√©aux selon votre profil CSP</h3>'), SelectMultiple(descrip‚Ä¶"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "18d524431131437181a8129bd94a491f"
            }
          },
          "metadata": {}
        }
      ],
      "source": [
        "import numpy as np\n",
        "import pandas as pd\n",
        "import geopandas as gpd\n",
        "from IPython.display import display, HTML\n",
        "import ipywidgets as widgets\n",
        "import folium\n",
        "\n",
        "# --- Fonction : Calcul des % CSP dans chaque IRIS ---\n",
        "def compute_iris_csp_distribution(df_popiris):\n",
        "    df_popiris['code_iris'] = df_popiris['code_iris'].astype(str)\n",
        "    csp_cols = {\n",
        "        'C21_ACT1564_CS1': 'Agriculteurs',\n",
        "        'C21_ACT1564_CS2': 'Artisans/Commer√ßants',\n",
        "        'C21_ACT1564_CS3': 'Cadres',\n",
        "        'C21_ACT1564_CS4': 'Prof. interm√©diaires',\n",
        "        'C21_ACT1564_CS5': 'Employ√©s',\n",
        "        'C21_ACT1564_CS6': 'Ouvriers'\n",
        "    }\n",
        "    df = df_popiris.copy()\n",
        "    total = df[list(csp_cols.keys())].sum(axis=1)\n",
        "    for col, name in csp_cols.items():\n",
        "        df[name] = df[col] / total * 100\n",
        "    df['total_actifs'] = total\n",
        "    return df, list(csp_cols.values())\n",
        "\n",
        "# --- Trouver IRIS les plus proches de la cible ---\n",
        "def find_closest_iris_to_csp_target(csp_target, df_csp, csp_labels):\n",
        "    def score(row):\n",
        "        return sum(abs(row[csp] - csp_target[csp]) for csp in csp_labels)\n",
        "    df_csp['score'] = df_csp.apply(score, axis=1)\n",
        "    return df_csp.sort_values(by='score')\n",
        "\n",
        "# --- Widgets ---\n",
        "def update_zone_options():\n",
        "    commune_selector.options = sorted(df_popiris['nom_com'].dropna().unique()) # Corrected column name\n",
        "\n",
        "commune_selector = widgets.SelectMultiple(\n",
        "    options=[],\n",
        "    description='Communes',\n",
        "    layout=widgets.Layout(height='120px', width='50%')\n",
        ")\n",
        "duration_selector = widgets.IntSlider(value=10, min=1, max=30, step=1, description='Dur√©e (min)')\n",
        "\n",
        "csp_widgets = {\n",
        "    'Cadres': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Cadres'),\n",
        "    'Employ√©s': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Employ√©s'),\n",
        "    'Ouvriers': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Ouvriers'),\n",
        "    'Prof. interm√©diaires': widgets.IntSlider(value=20, min=0, max=100, step=1, description='Interm√©diaires'),\n",
        "    'Artisans/Commer√ßants': widgets.IntSlider(value=10, min=0, max=100, step=1, description='Artisans'),\n",
        "    'Agriculteurs': widgets.IntSlider(value=10, min=0, max=100, step=1, description='Agriculteurs')\n",
        "}\n",
        "\n",
        "run_button = widgets.Button(description=\"Trouver les IRIS id√©aux\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "# --- Callback principal ---\n",
        "def on_run_clicked(b):\n",
        "    output.clear_output()\n",
        "    with output:\n",
        "        communes = list(commune_selector.value)\n",
        "        if not communes:\n",
        "            print(\"‚ùå Veuillez s√©lectionner au moins une commune.\")\n",
        "            return\n",
        "\n",
        "        duree_min = duration_selector.value\n",
        "        max_distance = duree_min * 80  # ~80m par minute de marche\n",
        "\n",
        "        csp_target = {k: w.value for k, w in csp_widgets.items()}\n",
        "        total_pct = sum(csp_target.values())\n",
        "        if total_pct == 0:\n",
        "            print(\"‚ö†Ô∏è La somme des pourcentages CSP ne peut pas √™tre 0.\")\n",
        "            return\n",
        "        csp_target = {k: round((v / total_pct) * 100, 2) for k, v in csp_target.items()}\n",
        "\n",
        "        print(f\"üéØ R√©partition cible : {csp_target}\")\n",
        "        print(f\"üìç Communes s√©lectionn√©es : {', '.join(communes)} ‚Äî Dur√©e max : {duree_min} min (~{max_distance} m)\")\n",
        "\n",
        "        df_zone = df_popiris[df_popiris['nom_com'].isin(communes)].copy() # Corrected column name\n",
        "        if df_zone.empty:\n",
        "            print(\"‚ùå Aucune IRIS trouv√©e dans les communes s√©lectionn√©es.\")\n",
        "            return\n",
        "\n",
        "        df_csp, csp_labels = compute_iris_csp_distribution(df_zone)\n",
        "\n",
        "        # Distance √† partir du centre moyen de la s√©lection\n",
        "        center = df_zone.unary_union.centroid\n",
        "        df_csp['distance'] = df_csp.geometry.centroid.distance(center)\n",
        "        df_filtered = df_csp[df_csp['distance'] <= max_distance]\n",
        "\n",
        "        if df_filtered.empty:\n",
        "            print(\"‚ùå Aucune IRIS accessible dans la dur√©e de marche indiqu√©e.\")\n",
        "            return\n",
        "\n",
        "        closest = find_closest_iris_to_csp_target(csp_target, df_filtered, csp_labels).head(5)\n",
        "\n",
        "        display(HTML(\"<h4>üìä Top 5 IRIS dans les communes s√©lectionn√©es :</h4>\"))\n",
        "        display(closest[['code_iris', 'nom_iris', 'nom_com', 'score', 'total_actifs', 'distance'] + csp_labels].round(2).reset_index(drop=True)) # Corrected column name\n",
        "\n",
        "        best = closest.iloc[0]\n",
        "        print(f\"‚úÖ Meilleure correspondance : {best['nom_iris']} √† {best['nom_com']} (score : {round(best['score'],2)}, distance : {int(best['distance'])} m)\") # Corrected column name\n",
        "\n",
        "        centroid = best.geometry.centroid\n",
        "        fmap = folium.Map(location=[centroid.y, centroid.x], zoom_start=14)\n",
        "        folium.GeoJson(best.geometry, style_function=lambda x: {\n",
        "            'fillColor': 'green', 'color': 'green', 'fillOpacity': 0.4\n",
        "        }).add_to(fmap)\n",
        "        folium.Marker([centroid.y, centroid.x], popup=f\"{best['nom_iris']} (score {round(best['score'], 2)})\").add_to(fmap)\n",
        "        display(fmap)\n",
        "\n",
        "# --- Affichage Interface ---\n",
        "update_zone_options()\n",
        "display(widgets.VBox([\n",
        "    widgets.HTML(\"<h3>üîç Trouver les IRIS id√©aux selon votre profil CSP</h3>\"),\n",
        "    commune_selector,\n",
        "    duration_selector,\n",
        "    widgets.HTML(\"<b>D√©finissez votre r√©partition cible :</b>\"),\n",
        "    *csp_widgets.values(),\n",
        "    run_button,\n",
        "    output\n",
        "]))\n",
        "run_button.on_click(on_run_clicked)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 39,
      "metadata": {
        "id": "QThm_aQFddpl",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 292,
          "referenced_widgets": [
            "f204ea8621aa487b930d7aa96e87fea0",
            "2c40ddd19d6a4f36b62c10c683144ce6",
            "7d9516554c9d43f4849132ef9caf7fe2",
            "c9251dd7ab754fd3a7eb8fac9b28d57c",
            "be33022d5c12426dbc0d73b5efa13886",
            "fbece76a3f444a6c96ed629aeb68f9e7",
            "b2cbe9dbd4f44072b790151021fafa05",
            "308bac0c97df4177b051fa1de32b38df",
            "333084df5cd44ac09a753c4305130232",
            "904a1dedc48a4d5a807318a3ebe7c92a",
            "edaaf81482094429b43ab1a3b220a1da",
            "3cb6f739e99b4e8a8ab5f7b5479a6769",
            "03d3f40ec8fd43ed92fca7c8ea190202",
            "174b6e0da7674584bc5762867bbe5d54",
            "7e6d2c959de046bda306eb289b3c1c25",
            "2d21274638f54fc7a430ff16f6984c56",
            "c7a72fde83b544fbbcac8d6d40911ed7",
            "a522735744314b8598d0432145688acd",
            "0f5d70602b4c4fc08de687cd15b3d125",
            "660a835f126244cea9ac5f840acaa5d0",
            "e290803f4f8f48ec92e948db680fde73",
            "d9381646a92f43c3b04f364b7411ddcb",
            "5b71e1975b8543c78461a6c1b875df65",
            "1e28a8c37a5e4b6497d02755d7070892",
            "9ca96f5f795441bfac7a16460953393f",
            "888410c687c841b2909313539568182e",
            "0272a7ae10b54080b282821819d3e5e2",
            "516fb4ead38a4ae09b06a9336bb3ff87",
            "3bb7f76d7e2f4817b7f276fe7223a7d1",
            "debbfb0979384e2295306914b1c064ba",
            "6a26f8a81963481ab64291e1d9e3b80c",
            "30b3b8f924b84dea8fcfa96bbd1bb515",
            "1ea3fe98951348819d5023378dfae89f",
            "c554f86713ef4566821b014a7b0baa63",
            "1f5cfafffa494702a0e9d61c36ac465e",
            "a95546bd87254d90aa2aab7929b8f6a1",
            "620b7651e42943c7bdc1ca3e0d8a32d2",
            "936318c7701948d8a936b7d256b4bd41",
            "056461fc18ec42e29112a5d8a09f2721",
            "1cbe7624c8bb48e78247274111576ec8",
            "00c034152bf641ff8e4f6fbd8bee50df",
            "1216fca78e8d4ecba9eb160eb8bc8554"
          ]
        },
        "outputId": "8d422bf1-106d-4b5f-db11-fed599c53bf2"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "üìç Analyse autour de : (45.75, 4.85)\n",
            "üïí Dur√©e s√©lectionn√©e : 6 min √† pied\n",
            "üéØ Cible CSP normalis√©e : {'C21_ACT1564_CS1': 5.0, 'C21_ACT1564_CS2': 10.0, 'C21_ACT1564_CS3': 15.0, 'C21_ACT1564_CS4': 20.0, 'C21_ACT1564_CS5': 30.0, 'C21_ACT1564_CS6': 20.0}\n",
            "\n"
          ]
        },
        {
          "output_type": "error",
          "ename": "TypeError",
          "evalue": "generate_result_content() takes 4 positional arguments but 5 were given",
          "traceback": [
            "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
            "\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)",
            "\u001b[0;32m/tmp/ipython-input-1729002004.py\u001b[0m in \u001b[0;36mon_button_click\u001b[0;34m(b)\u001b[0m\n\u001b[1;32m    113\u001b[0m         \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34mf\"üéØ Cible CSP normalis√©e : {cible_csp}\\n\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    114\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 115\u001b[0;31m         \u001b[0mmap_out\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdf_scores\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mgenerate_result_content\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mlat\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mlon\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mminutes\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdf_popiris\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcible_csp\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    116\u001b[0m         \u001b[0mdisplay\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mmap_out\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    117\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
            "\u001b[0;31mTypeError\u001b[0m: generate_result_content() takes 4 positional arguments but 5 were given"
          ]
        }
      ],
      "source": [
        "import ipywidgets as widgets\n",
        "from IPython.display import display, HTML, clear_output\n",
        "import geopandas as gpd\n",
        "import folium\n",
        "import requests\n",
        "from shapely.geometry import shape\n",
        "import pandas as pd\n",
        "\n",
        "# --- Cl√© API ORS ---\n",
        "ORS_API_KEY = 'eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImU5MmQwMTIzNWU4MzRkODBhOWE4YzQwMzQ5Mzc4NDI2IiwiaCI6Im11cm11cjY0In0='\n",
        "\n",
        "# --- Fonction ORS : Isochrone ---\n",
        "def get_isochrone_from_coords(lat, lon, minutes, api_key=ORS_API_KEY):\n",
        "    url = 'https://api.openrouteservice.org/v2/isochrones/foot-walking'\n",
        "    headers = {\n",
        "        'Authorization': api_key,\n",
        "        'Content-Type': 'application/json'\n",
        "    }\n",
        "    body = {\n",
        "        \"locations\": [[lon, lat]],\n",
        "        \"range\": [minutes * 60],\n",
        "        \"units\": \"m\"\n",
        "    }\n",
        "    response = requests.post(url, json=body, headers=headers)\n",
        "    response.raise_for_status()\n",
        "    return response.json()\n",
        "\n",
        "# --- Fonction : Score CSP ---\n",
        "def compute_csp_score(df_proj, isochrone_proj, cible_csp):\n",
        "    scores = []\n",
        "    for _, row in df_proj.iterrows():\n",
        "        geom = row['geometry']\n",
        "        if geom.intersects(isochrone_proj):\n",
        "            intersection = geom.intersection(isochrone_proj)\n",
        "            ratio = intersection.area / geom.area\n",
        "            if ratio > 0:\n",
        "                try:\n",
        "                    total = sum(float(row.get(k, 0)) for k in cible_csp.keys())\n",
        "                    if total == 0:\n",
        "                        continue\n",
        "                    valeurs = {k: float(row.get(k, 0)) * ratio / total * 100 for k in cible_csp.keys()}\n",
        "                    score = sum(abs(valeurs[k] - cible_csp[k]) for k in cible_csp)\n",
        "                    scores.append({\n",
        "                        'NOM_IRIS': row.get('NOM_IRIS', 'Inconnu'),\n",
        "                        'Score': round(score, 2),\n",
        "                        **{k: round(valeurs[k], 2) for k in valeurs}\n",
        "                    })\n",
        "                except:\n",
        "                    continue\n",
        "    if scores:\n",
        "        return pd.DataFrame(scores).sort_values(\"Score\")\n",
        "    else:\n",
        "        return pd.DataFrame()  # Aucun IRIS trouv√©\n",
        "\n",
        "# --- Fonction : G√©n√©ration de la carte + r√©sultats ---\n",
        "def generate_result_content(lat, lon, minutes, df_popiris, cible_csp):\n",
        "    isochrone_geojson = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(isochrone_geojson['features'][0]['geometry'])\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    fmap = folium.Map(location=[lat, lon], zoom_start=13)\n",
        "    folium.GeoJson(\n",
        "        isochrone_geojson,\n",
        "        name='Isochrone',\n",
        "        style_function=lambda x: {'fillColor': 'blue', 'color': 'blue', 'fillOpacity': 0.3}\n",
        "    ).add_to(fmap)\n",
        "    folium.Marker([lat, lon], icon=folium.Icon(color='red'), popup=\"Point s√©lectionn√©\").add_to(fmap)\n",
        "\n",
        "    df_scores = compute_csp_score(df_proj, isochrone_proj, cible_csp)\n",
        "\n",
        "    return fmap, df_scores\n",
        "\n",
        "# --- Chargement des donn√©es IRIS ---\n",
        "df_popiris = gpd.read_file(\"iris_population.geojson\")\n",
        "\n",
        "# --- Widgets pour la r√©partition cible ---\n",
        "csp_sliders = {\n",
        "    'C21_ACT1564_CS1': widgets.FloatSlider(min=0, max=100, value=5, step=1, description=\"Agriculteurs\"),\n",
        "    'C21_ACT1564_CS2': widgets.FloatSlider(min=0, max=100, value=10, step=1, description=\"Artisans\"),\n",
        "    'C21_ACT1564_CS3': widgets.FloatSlider(min=0, max=100, value=15, step=1, description=\"Cadres\"),\n",
        "    'C21_ACT1564_CS4': widgets.FloatSlider(min=0, max=100, value=20, step=1, description=\"Interm√©diaires\"),\n",
        "    'C21_ACT1564_CS5': widgets.FloatSlider(min=0, max=100, value=30, step=1, description=\"Employ√©s\"),\n",
        "    'C21_ACT1564_CS6': widgets.FloatSlider(min=0, max=100, value=20, step=1, description=\"Ouvriers\")\n",
        "}\n",
        "\n",
        "# --- Widgets pour coord et dur√©e ---\n",
        "lat_widget = widgets.FloatText(value=45.75, description='Latitude :')\n",
        "lon_widget = widgets.FloatText(value=4.85, description='Longitude :')\n",
        "minutes_widget = widgets.IntSlider(value=10, min=1, max=60, description=\"Dur√©e (min)\")\n",
        "\n",
        "run_button = widgets.Button(description=\"Analyser\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "# --- Callback bouton ---\n",
        "def on_button_click(b):\n",
        "    with output:\n",
        "        clear_output()\n",
        "\n",
        "        lat = lat_widget.value\n",
        "        lon = lon_widget.value\n",
        "        minutes = minutes_widget.value\n",
        "\n",
        "        cible_csp = {k: slider.value for k, slider in csp_sliders.items()}\n",
        "        total = sum(cible_csp.values())\n",
        "        if total == 0:\n",
        "            print(\"‚ö†Ô∏è La somme des pourcentages doit √™tre > 0\")\n",
        "            return\n",
        "        cible_csp = {k: (v / total) * 100 for k, v in cible_csp.items()}\n",
        "\n",
        "        print(f\"üìç Analyse autour de : ({lat}, {lon})\")\n",
        "        print(f\"üïí Dur√©e s√©lectionn√©e : {minutes} min √† pied\")\n",
        "        print(f\"üéØ Cible CSP normalis√©e : {cible_csp}\\n\")\n",
        "\n",
        "        map_out, df_scores = generate_result_content(lat, lon, minutes, df_popiris, cible_csp)\n",
        "        display(map_out)\n",
        "\n",
        "        if df_scores.empty:\n",
        "            display(HTML(\"<b style='color:red;'>‚ùå Aucun IRIS trouv√© dans la zone d'isochrone.</b>\"))\n",
        "            return\n",
        "\n",
        "        display(HTML(\"<h4>üîé IRIS les plus proches du profil cible :</h4>\"))\n",
        "        display(df_scores.head(10).style.set_table_attributes('class=\"table table-striped\"').format({'Score': '{:.2f}'}))\n",
        "\n",
        "# --- Affichage interface ---\n",
        "run_button.on_click(on_button_click)\n",
        "\n",
        "display(widgets.HTML(\"<h3>üìç Saisissez les coordonn√©es du point √† analyser</h3>\"))\n",
        "display(widgets.HBox([lat_widget, lon_widget]))\n",
        "display(minutes_widget)\n",
        "display(widgets.HTML(\"<h4>üéØ D√©finir une r√©partition cible CSP (%)</h4>\"))\n",
        "display(widgets.VBox(list(csp_sliders.values())))\n",
        "display(run_button, output)"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "import ipywidgets as widgets\n",
        "from IPython.display import display, HTML, clear_output\n",
        "import geopandas as gpd\n",
        "import folium\n",
        "import requests\n",
        "from shapely.geometry import shape\n",
        "\n",
        "# --- Cl√© API ORS ---\n",
        "ORS_API_KEY = '5b3ce3597851110001cf6248ab2580d70bc148e6b2da078f1f784bf1'\n",
        "\n",
        "# --- Fonction ORS : Isochrone ---\n",
        "def get_isochrone_from_coords(lat, lon, minutes, api_key=ORS_API_KEY):\n",
        "    url = 'https://api.openrouteservice.org/v2/isochrones/foot-walking'\n",
        "    headers = {\n",
        "        'Authorization': api_key,\n",
        "        'Content-Type': 'application/json'\n",
        "    }\n",
        "    body = {\n",
        "        \"locations\": [[lon, lat]],\n",
        "        \"range\": [minutes * 60],\n",
        "        \"units\": \"m\"\n",
        "    }\n",
        "    response = requests.post(url, json=body, headers=headers)\n",
        "    response.raise_for_status()\n",
        "    return response.json()\n",
        "\n",
        "# --- Fonction : Carte et IRIS intersect√©s ---\n",
        "def get_iris_in_isochrone(lat, lon, minutes, df_popiris):\n",
        "    isochrone_geojson = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(isochrone_geojson['features'][0]['geometry'])\n",
        "\n",
        "    # Projection\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    # Intersection\n",
        "    intersected = df_proj[df_proj.geometry.intersects(isochrone_proj)].copy()\n",
        "\n",
        "    # Reprojection pour l'affichage\n",
        "    intersected_display = intersected.to_crs(epsg=4326)\n",
        "\n",
        "    # Carte\n",
        "    fmap = folium.Map(location=[lat, lon], zoom_start=13)\n",
        "\n",
        "    folium.GeoJson(\n",
        "        isochrone_geojson,\n",
        "        name='Isochrone',\n",
        "        style_function=lambda x: {'fillColor': 'blue', 'color': 'blue', 'fillOpacity': 0.3}\n",
        "    ).add_to(fmap)\n",
        "\n",
        "    folium.Marker([lat, lon], icon=folium.Icon(color='red'), popup=\"Point s√©lectionn√©\").add_to(fmap)\n",
        "\n",
        "    for _, row in intersected_display.iterrows():\n",
        "        folium.GeoJson(row['geometry'], style_function=lambda x: {'fillColor': 'green', 'color': 'green', 'fillOpacity': 0.2}).add_to(fmap)\n",
        "\n",
        "    return fmap, intersected_display\n",
        "\n",
        "# --- Chargement des donn√©es IRIS avec CSP ---\n",
        "df_popiris = gpd.read_file(\"iris_population.geojson\")\n",
        "\n",
        "# --- Widgets coordonn√©es et dur√©e ---\n",
        "lat_widget = widgets.FloatText(value=45.4397, description='Latitude :')  # Saint-√âtienne\n",
        "lon_widget = widgets.FloatText(value=4.3872, description='Longitude :')\n",
        "minutes_widget = widgets.IntSlider(value=10, min=1, max=60, description=\"Dur√©e (min)\")\n",
        "\n",
        "run_button = widgets.Button(description=\"Afficher les IRIS\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "# --- Callback bouton ---\n",
        "def on_button_click(b):\n",
        "    with output:\n",
        "        clear_output()\n",
        "\n",
        "        lat = lat_widget.value\n",
        "        lon = lon_widget.value\n",
        "        minutes = minutes_widget.value\n",
        "\n",
        "        print(f\"üìç Analyse autour de : ({lat}, {lon})\")\n",
        "        print(f\"üïí Dur√©e s√©lectionn√©e : {minutes} min √† pied\\n\")\n",
        "\n",
        "        map_out, df_intersected = get_iris_in_isochrone(lat, lon, minutes, df_popiris)\n",
        "\n",
        "        display(map_out)\n",
        "\n",
        "        if df_intersected.empty:\n",
        "            display(HTML(\"<b style='color:red;'>‚ùå Aucun IRIS trouv√© dans la zone d'isochrone.</b>\"))\n",
        "        else:\n",
        "            display(HTML(f\"<h4>‚úÖ {len(df_intersected)} IRIS intersect√©s :</h4>\"))\n",
        "\n",
        "            # Colonnes CSP √† afficher\n",
        "            csp_columns = [\n",
        "                'C21_ACT1564_CS1',  # Agriculteurs\n",
        "                'C21_ACT1564_CS2',  # Artisans, commer√ßants\n",
        "                'C21_ACT1564_CS3',  # Cadres\n",
        "                'C21_ACT1564_CS4',  # Prof. interm√©diaires\n",
        "                'C21_ACT1564_CS5',  # Employ√©s\n",
        "                'C21_ACT1564_CS6'   # Ouvriers\n",
        "            ]\n",
        "\n",
        "            # S'assurer que toutes les colonnes existent\n",
        "            existing_cols = ['nom_iris', 'code_iris'] + [col for col in csp_columns if col in df_intersected.columns]\n",
        "\n",
        "            display(df_intersected[existing_cols])\n",
        "\n",
        "# --- Affichage interface ---\n",
        "run_button.on_click(on_button_click)\n",
        "\n",
        "display(widgets.HTML(\"<h3>üìç Saisissez les coordonn√©es du point √† analyser</h3>\"))\n",
        "display(widgets.HBox([lat_widget, lon_widget]))\n",
        "display(minutes_widget)\n",
        "display(run_button, output)"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000,
          "referenced_widgets": [
            "04eede4cb1ad45aeaf3e825f3a1a1818",
            "6fc88f8fd67c46e7bae4e8b73e91b406",
            "f1c3fcbb39954c20a53ac85a07b85862",
            "5982e6cebb4b4bbc8728070d68dd9e8e",
            "1155702bb9c14985a2823434bb771fee",
            "0e027829c84a4067b15dac2b11e1083e",
            "bfd8872e3d304769a535c436b9bd980a",
            "d8e07c33f17c41b9b1e4e1adc20abc27",
            "9bb8d1da91b843eeb0abf95510817f32",
            "2388ef3633df40218c8d395ca6497b31",
            "07e80d5defdf4a0ca2985209c924558f",
            "9198e20854764ee59bbf047161345475",
            "66628bafb9c54d2080e415c50e20806d",
            "8a585e529dab475aab527fc9537edc0d",
            "d5d7d151b3a1474d8715956bae01946a",
            "31adebffcc6a474bb492cf63e87cad59",
            "00a31e196d2945e3bb4cabce4d4a6afb",
            "330aa8ca98564c9dbeb5bec7d4e58ec1",
            "3080f70cadb64bfcab952b6d81f426ac"
          ]
        },
        "id": "MhTIvqUZLG1e",
        "outputId": "b7bf7961-26d6-4b43-87c8-42e1793368d8"
      },
      "execution_count": 40,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "üìç Analyse autour de : (45.75, 4.85)\n",
            "üïí Dur√©e s√©lectionn√©e : 6 min √† pied\n",
            "\n"
          ]
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "<folium.folium.Map at 0x79140e782660>"
            ],
            "text/html": [
              "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n",
              "&lt;html&gt;\n",
              "&lt;head&gt;\n",
              "    \n",
              "    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n",
              "    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n",
              "    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n",
              "    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n",
              "    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n",
              "    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n",
              "    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n",
              "    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n",
              "    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n",
              "    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n",
              "    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n",
              "    \n",
              "            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n",
              "                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n",
              "            &lt;style&gt;\n",
              "                #map_2ae5cfd3e8c984532ae9eb54a365e095 {\n",
              "                    position: relative;\n",
              "                    width: 100.0%;\n",
              "                    height: 100.0%;\n",
              "                    left: 0.0%;\n",
              "                    top: 0.0%;\n",
              "                }\n",
              "                .leaflet-container { font-size: 1rem; }\n",
              "            &lt;/style&gt;\n",
              "\n",
              "            &lt;style&gt;html, body {\n",
              "                width: 100%;\n",
              "                height: 100%;\n",
              "                margin: 0;\n",
              "                padding: 0;\n",
              "            }\n",
              "            &lt;/style&gt;\n",
              "\n",
              "            &lt;style&gt;#map {\n",
              "                position:absolute;\n",
              "                top:0;\n",
              "                bottom:0;\n",
              "                right:0;\n",
              "                left:0;\n",
              "                }\n",
              "            &lt;/style&gt;\n",
              "\n",
              "            &lt;script&gt;\n",
              "                L_NO_TOUCH = false;\n",
              "                L_DISABLE_3D = false;\n",
              "            &lt;/script&gt;\n",
              "\n",
              "        \n",
              "&lt;/head&gt;\n",
              "&lt;body&gt;\n",
              "    \n",
              "    \n",
              "            &lt;div class=&quot;folium-map&quot; id=&quot;map_2ae5cfd3e8c984532ae9eb54a365e095&quot; &gt;&lt;/div&gt;\n",
              "        \n",
              "&lt;/body&gt;\n",
              "&lt;script&gt;\n",
              "    \n",
              "    \n",
              "            var map_2ae5cfd3e8c984532ae9eb54a365e095 = L.map(\n",
              "                &quot;map_2ae5cfd3e8c984532ae9eb54a365e095&quot;,\n",
              "                {\n",
              "                    center: [45.75, 4.85],\n",
              "                    crs: L.CRS.EPSG3857,\n",
              "                    ...{\n",
              "  &quot;zoom&quot;: 13,\n",
              "  &quot;zoomControl&quot;: true,\n",
              "  &quot;preferCanvas&quot;: false,\n",
              "}\n",
              "\n",
              "                }\n",
              "            );\n",
              "\n",
              "            \n",
              "\n",
              "        \n",
              "    \n",
              "            var tile_layer_87a41b28fc4bc919aaa8be9da08e93da = L.tileLayer(\n",
              "                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n",
              "                {\n",
              "  &quot;minZoom&quot;: 0,\n",
              "  &quot;maxZoom&quot;: 19,\n",
              "  &quot;maxNativeZoom&quot;: 19,\n",
              "  &quot;noWrap&quot;: false,\n",
              "  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n",
              "  &quot;subdomains&quot;: &quot;abc&quot;,\n",
              "  &quot;detectRetina&quot;: false,\n",
              "  &quot;tms&quot;: false,\n",
              "  &quot;opacity&quot;: 1,\n",
              "}\n",
              "\n",
              "            );\n",
              "        \n",
              "    \n",
              "            tile_layer_87a41b28fc4bc919aaa8be9da08e93da.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_2054bc0e47e89234efab34ac7c4e1b28_styler(feature) {\n",
              "            switch(feature.properties.group_index) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;blue&quot;, &quot;fillColor&quot;: &quot;blue&quot;, &quot;fillOpacity&quot;: 0.3};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_2054bc0e47e89234efab34ac7c4e1b28_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_2054bc0e47e89234efab34ac7c4e1b28 = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_2054bc0e47e89234efab34ac7c4e1b28_onEachFeature,\n",
              "            \n",
              "                style: geo_json_2054bc0e47e89234efab34ac7c4e1b28_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_2054bc0e47e89234efab34ac7c4e1b28_add (data) {\n",
              "            geo_json_2054bc0e47e89234efab34ac7c4e1b28\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_2054bc0e47e89234efab34ac7c4e1b28_add({&quot;bbox&quot;: [4.844918, 45.746078, 4.855574, 45.754232], &quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[4.845238, 45.752743], [4.845221, 45.752687], [4.845042, 45.751821], [4.844918, 45.750409], [4.845136, 45.748989], [4.845832, 45.747491], [4.846056, 45.747209], [4.846111, 45.747143], [4.846456, 45.746874], [4.846531, 45.746823], [4.846862, 45.746608], [4.847827, 45.746184], [4.849701, 45.746078], [4.850168, 45.746111], [4.855076, 45.748235], [4.855203, 45.748572], [4.855574, 45.749934], [4.854781, 45.75251], [4.854732, 45.752539], [4.853406, 45.753124], [4.852068, 45.753693], [4.850274, 45.754232], [4.849919, 45.75417], [4.8454, 45.753065], [4.845238, 45.752743]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;properties&quot;: {&quot;center&quot;: [4.849801990725081, 45.75002697056922], &quot;group_index&quot;: 0, &quot;value&quot;: 360.0}, &quot;type&quot;: &quot;Feature&quot;}], &quot;metadata&quot;: {&quot;attribution&quot;: &quot;openrouteservice.org | OpenStreetMap contributors&quot;, &quot;engine&quot;: {&quot;build_date&quot;: &quot;2025-10-31T12:33:09Z&quot;, &quot;graph_date&quot;: &quot;2025-11-17T13:55:10Z&quot;, &quot;osm_date&quot;: &quot;2025-11-10T00:59:58Z&quot;, &quot;version&quot;: &quot;9.5.0&quot;}, &quot;query&quot;: {&quot;locations&quot;: [[4.85, 45.75]], &quot;profile&quot;: &quot;foot-walking&quot;, &quot;profileName&quot;: &quot;foot-walking&quot;, &quot;range&quot;: [360.0], &quot;units&quot;: &quot;m&quot;}, &quot;service&quot;: &quot;isochrones&quot;, &quot;timestamp&quot;: 1763633760532}, &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_2054bc0e47e89234efab34ac7c4e1b28.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "            var marker_11762ed4665b3e9e2660f705941c8827 = L.marker(\n",
              "                [45.75, 4.85],\n",
              "                {\n",
              "}\n",
              "            ).addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "            var icon_eeb789ff5b69937cf61dc22f45886719 = L.AwesomeMarkers.icon(\n",
              "                {\n",
              "  &quot;markerColor&quot;: &quot;red&quot;,\n",
              "  &quot;iconColor&quot;: &quot;white&quot;,\n",
              "  &quot;icon&quot;: &quot;info-sign&quot;,\n",
              "  &quot;prefix&quot;: &quot;glyphicon&quot;,\n",
              "  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,\n",
              "}\n",
              "            );\n",
              "        \n",
              "    \n",
              "        var popup_a9574a2eadcffad10ead43cc51199b4e = L.popup({\n",
              "  &quot;maxWidth&quot;: &quot;100%&quot;,\n",
              "});\n",
              "\n",
              "        \n",
              "            \n",
              "                var html_401dddf50d7a01355257db77c1997a85 = $(`&lt;div id=&quot;html_401dddf50d7a01355257db77c1997a85&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Point s√©lectionn√©&lt;/div&gt;`)[0];\n",
              "                popup_a9574a2eadcffad10ead43cc51199b4e.setContent(html_401dddf50d7a01355257db77c1997a85);\n",
              "            \n",
              "        \n",
              "\n",
              "        marker_11762ed4665b3e9e2660f705941c8827.bindPopup(popup_a9574a2eadcffad10ead43cc51199b4e)\n",
              "        ;\n",
              "\n",
              "        \n",
              "    \n",
              "    \n",
              "                marker_11762ed4665b3e9e2660f705941c8827.setIcon(icon_eeb789ff5b69937cf61dc22f45886719);\n",
              "            \n",
              "    \n",
              "        function geo_json_c881f1fdb9b804c800d55995c9a56ddb_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_c881f1fdb9b804c800d55995c9a56ddb_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_c881f1fdb9b804c800d55995c9a56ddb = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_c881f1fdb9b804c800d55995c9a56ddb_onEachFeature,\n",
              "            \n",
              "                style: geo_json_c881f1fdb9b804c800d55995c9a56ddb_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_c881f1fdb9b804c800d55995c9a56ddb_add (data) {\n",
              "            geo_json_c881f1fdb9b804c800d55995c9a56ddb\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_c881f1fdb9b804c800d55995c9a56ddb_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.8534732081699605, 45.74907628950072], [4.853752709422304, 45.748932081117594], [4.854067911904417, 45.74877827767951], [4.854342900849743, 45.74865305743806], [4.854660110965175, 45.74852083695421], [4.855269413632454, 45.74827482121465], [4.856180709183118, 45.74794186450333], [4.85658678618224, 45.74781267931733], [4.85752143832264, 45.74752436383015], [4.857574929707755, 45.747508170147434], [4.858279512979843, 45.74734163451463], [4.858400881363584, 45.74731621521043], [4.859242758159728, 45.74717713507693], [4.8592428867439, 45.74717713295685], [4.859236918311173, 45.74715651439983], [4.859045582413252, 45.746478711415826], [4.858848773212754, 45.745714527648815], [4.85864232631612, 45.74496581505636], [4.858504443503821, 45.74446547635039], [4.858121314034759, 45.74313329519484], [4.85795233292862, 45.74258392796056], [4.857902082713234, 45.742466759422115], [4.857829778474423, 45.74230581813814], [4.8576732065747015, 45.74204898561556], [4.85743362446861, 45.741695340088974], [4.857232630995993, 45.74145635279329], [4.856808761057616, 45.741054399471054], [4.85659942212192, 45.74087319571046], [4.856451705488029, 45.74076483737773], [4.856262303177295, 45.74064095190209], [4.856228753259793, 45.74061871561195], [4.85622811948338, 45.740618996266825], [4.852678365515628, 45.74259774844712], [4.852497901966089, 45.74316277247487], [4.8523801456928055, 45.74344933948635], [4.852114366876205, 45.743810396667136], [4.852092037502955, 45.74383508329748], [4.852057894899029, 45.743852758074155], [4.852022164880502, 45.743861451558686], [4.852019514077136, 45.74389752451577], [4.852005472322379, 45.7439391889787], [4.851981415842271, 45.74398912454533], [4.851417992628567, 45.744797329273275], [4.850585016905832, 45.74597024912309], [4.850248865640406, 45.746266702791154], [4.8500273213531235, 45.74641265389638], [4.8499334958321745, 45.74645382553598], [4.849741836245432, 45.74653173065499], [4.84979263562807, 45.74662727598461], [4.849824610354035, 45.746660078654415], [4.849861246392287, 45.746678393087585], [4.849528131124872, 45.74695047483683], [4.848927824529018, 45.747350337510305], [4.848771390305554, 45.74744297582894], [4.849015741384087, 45.74747860177625], [4.8532625639066165, 45.74889510059729], [4.8534732081699605, 45.74907628950072]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_c881f1fdb9b804c800d55995c9a56ddb.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_7e316d2982436416756cff69aed346bb_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_7e316d2982436416756cff69aed346bb_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_7e316d2982436416756cff69aed346bb = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_7e316d2982436416756cff69aed346bb_onEachFeature,\n",
              "            \n",
              "                style: geo_json_7e316d2982436416756cff69aed346bb_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_7e316d2982436416756cff69aed346bb_add (data) {\n",
              "            geo_json_7e316d2982436416756cff69aed346bb\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_7e316d2982436416756cff69aed346bb_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.845660967350639, 45.75157965771034], [4.845341846612983, 45.75107776675653], [4.844990588384209, 45.75042237529824], [4.844872072135063, 45.75022525203659], [4.844436334024958, 45.74950548753695], [4.844057167446329, 45.74886135883897], [4.843691643797226, 45.74820169350935], [4.842835880873257, 45.74869757396534], [4.841148275043646, 45.74853553577738], [4.839798314002958, 45.74862197085733], [4.839112294581786, 45.748884465468414], [4.83946588565107, 45.74938040619215], [4.840122900070305, 45.75029473954452], [4.840245614032598, 45.7504638763108], [4.841037336374345, 45.751558855329485], [4.841777831408188, 45.751231507643396], [4.842433942633246, 45.75080465150293], [4.8429930089572615, 45.7504388258217], [4.845038259344762, 45.75208164806665], [4.845730155246052, 45.752688229879915], [4.845754167859237, 45.75267522659792], [4.8461472726017245, 45.75242559384564], [4.845949013377794, 45.75203701980923], [4.845660967350639, 45.75157965771034]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_7e316d2982436416756cff69aed346bb.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_b5ccfad7134524561f7cf69fade7785e_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_b5ccfad7134524561f7cf69fade7785e_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_b5ccfad7134524561f7cf69fade7785e = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_b5ccfad7134524561f7cf69fade7785e_onEachFeature,\n",
              "            \n",
              "                style: geo_json_b5ccfad7134524561f7cf69fade7785e_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_b5ccfad7134524561f7cf69fade7785e_add (data) {\n",
              "            geo_json_b5ccfad7134524561f7cf69fade7785e\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_b5ccfad7134524561f7cf69fade7785e_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.849016939962508, 45.75320635587382], [4.847989181365604, 45.75356187801851], [4.846359626282914, 45.75412180322636], [4.845396668923435, 45.75445372194365], [4.845385349631194, 45.754457690243584], [4.845167978911429, 45.754888014684134], [4.845787306563612, 45.75505442423572], [4.846507820863335, 45.75524529511263], [4.846578039151544, 45.75599896102811], [4.846514690491138, 45.75629814136855], [4.84734693837571, 45.756520505008844], [4.847793708790009, 45.75664379276435], [4.848950520706127, 45.75679777532065], [4.8495817190483015, 45.756818050844274], [4.849709149213972, 45.75605033585047], [4.8499493078578855, 45.75484481568421], [4.850241067134816, 45.753374532866715], [4.850323651956646, 45.75284354547519], [4.850309075266062, 45.75275019822224], [4.8492574911053445, 45.75312765066161], [4.849016939962508, 45.75320635587382]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_b5ccfad7134524561f7cf69fade7785e.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_69f25f1c85cab74e58ae334458be6380_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_69f25f1c85cab74e58ae334458be6380_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_69f25f1c85cab74e58ae334458be6380 = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_69f25f1c85cab74e58ae334458be6380_onEachFeature,\n",
              "            \n",
              "                style: geo_json_69f25f1c85cab74e58ae334458be6380_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_69f25f1c85cab74e58ae334458be6380_add (data) {\n",
              "            geo_json_69f25f1c85cab74e58ae334458be6380\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_69f25f1c85cab74e58ae334458be6380_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.847924286115193, 45.747888312715475], [4.848148895211504, 45.747756727440795], [4.848771390305554, 45.74744297582894], [4.848927824529018, 45.747350337510305], [4.849528131124872, 45.74695047483683], [4.849861246392287, 45.746678393087585], [4.849824610354035, 45.746660078654415], [4.84979263562807, 45.74662727598461], [4.849741836245432, 45.74653173065499], [4.8499334958321745, 45.74645382553598], [4.849153469389829, 45.745557778178785], [4.848600827292473, 45.7451128692907], [4.84612217006702, 45.74615349610825], [4.843532228228751, 45.74712522119236], [4.843150026575952, 45.747315218572574], [4.843691643797226, 45.74820169350935], [4.844057167446329, 45.74886135883897], [4.844436334024958, 45.74950548753695], [4.844754455749512, 45.749284107818724], [4.844957247928927, 45.74915378673626], [4.845541758070574, 45.74878032575604], [4.846382360002544, 45.74840897394708], [4.847045666964595, 45.7481224866548], [4.847213152946206, 45.748090919705575], [4.847924286115193, 45.747888312715475]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_69f25f1c85cab74e58ae334458be6380.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_9c3e2515b36c13ddf2b9f14b0de410aa_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_9c3e2515b36c13ddf2b9f14b0de410aa_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_9c3e2515b36c13ddf2b9f14b0de410aa = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_9c3e2515b36c13ddf2b9f14b0de410aa_onEachFeature,\n",
              "            \n",
              "                style: geo_json_9c3e2515b36c13ddf2b9f14b0de410aa_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_9c3e2515b36c13ddf2b9f14b0de410aa_add (data) {\n",
              "            geo_json_9c3e2515b36c13ddf2b9f14b0de410aa\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_9c3e2515b36c13ddf2b9f14b0de410aa_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.847924286115193, 45.747888312715475], [4.847213152946206, 45.748090919705575], [4.847045666964595, 45.7481224866548], [4.846382360002544, 45.74840897394708], [4.845541758070574, 45.74878032575604], [4.844957247928927, 45.74915378673626], [4.844754455749512, 45.749284107818724], [4.844436334024958, 45.74950548753695], [4.844872072135063, 45.75022525203659], [4.844990588384209, 45.75042237529824], [4.845341846612983, 45.75107776675653], [4.845660967350639, 45.75157965771034], [4.846066473112845, 45.75131631116236], [4.846701947221376, 45.7508888667597], [4.8478670754476925, 45.74967900987142], [4.847917165516218, 45.74967638760241], [4.847911424998149, 45.74954317294221], [4.847886603525918, 45.749262550475684], [4.847862392564267, 45.74903866428843], [4.847832496516174, 45.74879865803652], [4.847810083495799, 45.74859005487695], [4.847924286115193, 45.747888312715475]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_9c3e2515b36c13ddf2b9f14b0de410aa.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_cd3298d2d95bb650c868458d06ceee02_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_cd3298d2d95bb650c868458d06ceee02_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_cd3298d2d95bb650c868458d06ceee02 = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_cd3298d2d95bb650c868458d06ceee02_onEachFeature,\n",
              "            \n",
              "                style: geo_json_cd3298d2d95bb650c868458d06ceee02_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_cd3298d2d95bb650c868458d06ceee02_add (data) {\n",
              "            geo_json_cd3298d2d95bb650c868458d06ceee02\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_cd3298d2d95bb650c868458d06ceee02_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.849016939962508, 45.75320635587382], [4.84917000786743, 45.752474250688294], [4.848439012613847, 45.75123826622512], [4.847946619281319, 45.74994162167609], [4.847917165516218, 45.74967638760241], [4.8478670754476925, 45.74967900987142], [4.846701947221376, 45.7508888667597], [4.846066473112845, 45.75131631116236], [4.845660967350639, 45.75157965771034], [4.845949013377794, 45.75203701980923], [4.8461472726017245, 45.75242559384564], [4.845754167859237, 45.75267522659792], [4.845730155246052, 45.752688229879915], [4.845076395995943, 45.75303129854165], [4.8448959262365685, 45.75313693465246], [4.844517828013424, 45.753412438725036], [4.844117670817118, 45.75379819170819], [4.843808803854691, 45.75410498762308], [4.843641319107909, 45.75429147538123], [4.843378713453077, 45.754596613047106], [4.843276447621624, 45.754732493850874], [4.843157022599122, 45.75493260707663], [4.843070373066286, 45.75511236840862], [4.8430195518649395, 45.755286139778356], [4.843712482798027, 45.75503611958931], [4.845385349631194, 45.754457690243584], [4.845396668923435, 45.75445372194365], [4.846359626282914, 45.75412180322636], [4.847989181365604, 45.75356187801851], [4.849016939962508, 45.75320635587382]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_cd3298d2d95bb650c868458d06ceee02.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_e6db63a3d7c569a161717d20955ac686_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_e6db63a3d7c569a161717d20955ac686_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_e6db63a3d7c569a161717d20955ac686 = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_e6db63a3d7c569a161717d20955ac686_onEachFeature,\n",
              "            \n",
              "                style: geo_json_e6db63a3d7c569a161717d20955ac686_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_e6db63a3d7c569a161717d20955ac686_add (data) {\n",
              "            geo_json_e6db63a3d7c569a161717d20955ac686\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_e6db63a3d7c569a161717d20955ac686_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.852772816950102, 45.756085617821675], [4.853045422405933, 45.754698508925934], [4.853533123469747, 45.75205223785311], [4.853598632081306, 45.75162691435733], [4.853598629062065, 45.75162682433336], [4.85292719708807, 45.75186313243632], [4.850725086154873, 45.752612675231255], [4.8503356477260775, 45.75274066481645], [4.850309075266062, 45.75275019822224], [4.850323651956646, 45.75284354547519], [4.850241067134816, 45.753374532866715], [4.8499493078578855, 45.75484481568421], [4.849709149213972, 45.75605033585047], [4.850478961616446, 45.756060226142566], [4.851172836933172, 45.75606955614707], [4.851454753669132, 45.75607303512469], [4.851826754384722, 45.75607683577378], [4.852772816950102, 45.756085617821675]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_e6db63a3d7c569a161717d20955ac686.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_b9af89c96a107c40d9e1c93d097e352e_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_b9af89c96a107c40d9e1c93d097e352e_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_b9af89c96a107c40d9e1c93d097e352e = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_b9af89c96a107c40d9e1c93d097e352e_onEachFeature,\n",
              "            \n",
              "                style: geo_json_b9af89c96a107c40d9e1c93d097e352e_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_b9af89c96a107c40d9e1c93d097e352e_add (data) {\n",
              "            geo_json_b9af89c96a107c40d9e1c93d097e352e\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_b9af89c96a107c40d9e1c93d097e352e_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.8534732081699605, 45.74907628950072], [4.853559236317182, 45.749147835122116], [4.853645729924496, 45.74927161572833], [4.85378291205309, 45.74948733885734], [4.853897842358014, 45.74969171808491], [4.853914662224837, 45.74973287543729], [4.853923175311485, 45.749794886285116], [4.853910499775384, 45.74999235591235], [4.853824250073085, 45.75025949100068], [4.85371460601767, 45.7505963672605], [4.853676958872637, 45.75070147149684], [4.853600228516799, 45.751099056669226], [4.853584622902527, 45.751209202994715], [4.853570345665052, 45.751358959879056], [4.853568354151435, 45.75149140084164], [4.853598629062065, 45.75162682433336], [4.853606257188077, 45.75162408681805], [4.85518784394018, 45.751057637816366], [4.856928459124363, 45.75047683802699], [4.859548649128056, 45.74965362353899], [4.859757961421703, 45.74960333344155], [4.859909377686912, 45.74955309711251], [4.859885804264771, 45.749464312861875], [4.859513846482871, 45.74812204256196], [4.8592428867439, 45.74717713295685], [4.859242758159728, 45.74717713507693], [4.858400881363584, 45.74731621521043], [4.858279512979843, 45.74734163451463], [4.857574929707755, 45.747508170147434], [4.85752143832264, 45.74752436383015], [4.85658678618224, 45.74781267931733], [4.856180709183118, 45.74794186450333], [4.855269413632454, 45.74827482121465], [4.854660110965175, 45.74852083695421], [4.854342900849743, 45.74865305743806], [4.854067911904417, 45.74877827767951], [4.853752709422304, 45.748932081117594], [4.8534732081699605, 45.74907628950072]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_b9af89c96a107c40d9e1c93d097e352e.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_c11a6e2f11f04959556562ea41b00bf0_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_c11a6e2f11f04959556562ea41b00bf0_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_c11a6e2f11f04959556562ea41b00bf0 = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_c11a6e2f11f04959556562ea41b00bf0_onEachFeature,\n",
              "            \n",
              "                style: geo_json_c11a6e2f11f04959556562ea41b00bf0_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_c11a6e2f11f04959556562ea41b00bf0_add (data) {\n",
              "            geo_json_c11a6e2f11f04959556562ea41b00bf0\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_c11a6e2f11f04959556562ea41b00bf0_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.842705460350585, 45.75539422594275], [4.842868598430427, 45.75533958801896], [4.842926751934864, 45.75532008264918], [4.8430195518649395, 45.755286139778356], [4.843070373066286, 45.75511236840862], [4.843157022599122, 45.75493260707663], [4.843276447621624, 45.754732493850874], [4.843378713453077, 45.754596613047106], [4.843641319107909, 45.75429147538123], [4.843808803854691, 45.75410498762308], [4.844117670817118, 45.75379819170819], [4.844517828013424, 45.753412438725036], [4.8448959262365685, 45.75313693465246], [4.845076395995943, 45.75303129854165], [4.845730155246052, 45.752688229879915], [4.845038259344762, 45.75208164806665], [4.8429930089572615, 45.7504388258217], [4.842433942633246, 45.75080465150293], [4.841777831408188, 45.751231507643396], [4.841037336374345, 45.751558855329485], [4.8412992200776355, 45.75185002016555], [4.842080909786943, 45.7527199730968], [4.8419155348506715, 45.753959598218835], [4.842465628496459, 45.75503577916939], [4.842705460350585, 45.75539422594275]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_c11a6e2f11f04959556562ea41b00bf0.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_ac8ee1cbe56b523244054a1d8043c32b_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_ac8ee1cbe56b523244054a1d8043c32b_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_ac8ee1cbe56b523244054a1d8043c32b = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_ac8ee1cbe56b523244054a1d8043c32b_onEachFeature,\n",
              "            \n",
              "                style: geo_json_ac8ee1cbe56b523244054a1d8043c32b_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_ac8ee1cbe56b523244054a1d8043c32b_add (data) {\n",
              "            geo_json_ac8ee1cbe56b523244054a1d8043c32b\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_ac8ee1cbe56b523244054a1d8043c32b_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.847924286115193, 45.747888312715475], [4.847810083495799, 45.74859005487695], [4.847832496516174, 45.74879865803652], [4.847862392564267, 45.74903866428843], [4.847886603525918, 45.749262550475684], [4.847911424998149, 45.74954317294221], [4.847917165516218, 45.74967638760241], [4.847946619281319, 45.74994162167609], [4.848439012613847, 45.75123826622512], [4.84917000786743, 45.752474250688294], [4.849016939962508, 45.75320635587382], [4.8492574911053445, 45.75312765066161], [4.850309075266062, 45.75275019822224], [4.8503356477260775, 45.75274066481645], [4.850725086154873, 45.752612675231255], [4.85292719708807, 45.75186313243632], [4.853598629062065, 45.75162682433336], [4.853568354151435, 45.75149140084164], [4.853570345665052, 45.751358959879056], [4.853584622902527, 45.751209202994715], [4.853600228516799, 45.751099056669226], [4.853676958872637, 45.75070147149684], [4.85371460601767, 45.7505963672605], [4.853824250073085, 45.75025949100068], [4.853910499775384, 45.74999235591235], [4.853923175311485, 45.749794886285116], [4.853914662224837, 45.74973287543729], [4.853897842358014, 45.74969171808491], [4.85378291205309, 45.74948733885734], [4.853645729924496, 45.74927161572833], [4.853559236317182, 45.749147835122116], [4.8534732081699605, 45.74907628950072], [4.8532625639066165, 45.74889510059729], [4.849015741384087, 45.74747860177625], [4.848771390305554, 45.74744297582894], [4.848148895211504, 45.747756727440795], [4.847924286115193, 45.747888312715475]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_ac8ee1cbe56b523244054a1d8043c32b.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_72c38c1db04dd5338c02950fd70aa9e2_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_72c38c1db04dd5338c02950fd70aa9e2_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_72c38c1db04dd5338c02950fd70aa9e2 = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_72c38c1db04dd5338c02950fd70aa9e2_onEachFeature,\n",
              "            \n",
              "                style: geo_json_72c38c1db04dd5338c02950fd70aa9e2_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_72c38c1db04dd5338c02950fd70aa9e2_add (data) {\n",
              "            geo_json_72c38c1db04dd5338c02950fd70aa9e2\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_72c38c1db04dd5338c02950fd70aa9e2_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.852772816950102, 45.756085617821675], [4.852658285122237, 45.75673783085608], [4.852652198431445, 45.7567865705987], [4.852620116589722, 45.75701948754767], [4.852694799377903, 45.75702096297423], [4.856498377476835, 45.75705479665745], [4.860135935732172, 45.757087637482755], [4.860146224307717, 45.75708746779397], [4.860155950520531, 45.757032362343004], [4.860638963524809, 45.753912343927944], [4.860643678979543, 45.753823093041696], [4.860649225786744, 45.75372031736537], [4.86065136111697, 45.753210464282304], [4.860641143111205, 45.7528305213308], [4.860611536517644, 45.75229507056549], [4.860546594767046, 45.751856581768365], [4.860222191115896, 45.75066665397238], [4.860083018145818, 45.75020146662537], [4.860081641342389, 45.75019878712117], [4.8601281479716825, 45.7494818432785], [4.859909377686912, 45.74955309711251], [4.859757961421703, 45.74960333344155], [4.859548649128056, 45.74965362353899], [4.856928459124363, 45.75047683802699], [4.85518784394018, 45.751057637816366], [4.853606257188077, 45.75162408681805], [4.853598629062065, 45.75162682433336], [4.853598632081306, 45.75162691435733], [4.853533123469747, 45.75205223785311], [4.853045422405933, 45.754698508925934], [4.852772816950102, 45.756085617821675]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_72c38c1db04dd5338c02950fd70aa9e2.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "    \n",
              "        function geo_json_97c3fedbeec75db9095d7f5dc27f41e5_styler(feature) {\n",
              "            switch(feature.id) {\n",
              "                default:\n",
              "                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.2};\n",
              "            }\n",
              "        }\n",
              "\n",
              "        function geo_json_97c3fedbeec75db9095d7f5dc27f41e5_onEachFeature(feature, layer) {\n",
              "\n",
              "            layer.on({\n",
              "            });\n",
              "        };\n",
              "        var geo_json_97c3fedbeec75db9095d7f5dc27f41e5 = L.geoJson(null, {\n",
              "                onEachFeature: geo_json_97c3fedbeec75db9095d7f5dc27f41e5_onEachFeature,\n",
              "            \n",
              "                style: geo_json_97c3fedbeec75db9095d7f5dc27f41e5_styler,\n",
              "            ...{\n",
              "}\n",
              "        });\n",
              "\n",
              "        function geo_json_97c3fedbeec75db9095d7f5dc27f41e5_add (data) {\n",
              "            geo_json_97c3fedbeec75db9095d7f5dc27f41e5\n",
              "                .addData(data);\n",
              "        }\n",
              "            geo_json_97c3fedbeec75db9095d7f5dc27f41e5_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.841796576837431, 45.74604117812099], [4.841957573764829, 45.74631687482897], [4.842682993603248, 45.74658154794992], [4.843150026575952, 45.747315218572574], [4.843532228228751, 45.74712522119236], [4.84612217006702, 45.74615349610825], [4.848600827292473, 45.7451128692907], [4.849153469389829, 45.745557778178785], [4.8499334958321745, 45.74645382553598], [4.8500273213531235, 45.74641265389638], [4.850248865640406, 45.746266702791154], [4.850585016905832, 45.74597024912309], [4.851417992628567, 45.744797329273275], [4.851981415842271, 45.74398912454533], [4.852005472322379, 45.7439391889787], [4.852019514077136, 45.74389752451577], [4.852022164880502, 45.743861451558686], [4.851975726445243, 45.74385771061557], [4.851931407135291, 45.74384042381748], [4.851819342296309, 45.743759396662405], [4.851219364981831, 45.74332248386222], [4.8505939320120435, 45.742586041070616], [4.849822980570194, 45.74265183505876], [4.848824956490136, 45.74296724777262], [4.846503086867105, 45.743704264472186], [4.846024449207445, 45.74385621900178], [4.844491852511143, 45.744345177406956], [4.843892435576695, 45.74454053206826], [4.842973462481047, 45.74483658455807], [4.842376456419539, 45.74502738792423], [4.842119245327372, 45.745107251742695], [4.841973684091416, 45.74514025454252], [4.841840174856475, 45.74518747201842], [4.841516393527278, 45.745508917420985], [4.841512389994834, 45.74554321064711], [4.841796576837431, 45.74604117812099]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n",
              "\n",
              "        \n",
              "    \n",
              "            geo_json_97c3fedbeec75db9095d7f5dc27f41e5.addTo(map_2ae5cfd3e8c984532ae9eb54a365e095);\n",
              "        \n",
              "&lt;/script&gt;\n",
              "&lt;/html&gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
            ]
          },
          "metadata": {}
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "<IPython.core.display.HTML object>"
            ],
            "text/html": [
              "<h4>‚úÖ 12 IRIS intersect√©s :</h4>"
            ]
          },
          "metadata": {}
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "              nom_iris  code_iris\n",
              "11             Lamothe  693870503\n",
              "18            Le Prado  693870202\n",
              "356       Saxe-Vileroy  693830203\n",
              "453              Domer  693870401\n",
              "502        Saint-Louis  693870302\n",
              "646        Victor Bach  693870301\n",
              "691        Saint-Amour  693830204\n",
              "915      Jules Brunard  693870501\n",
              "993       Saint-Michel  693870201\n",
              "1034        Stalingrad  693870502\n",
              "1054  Danton-Bir Akeim  693830302\n",
              "1215         Jean-Mace  693870402"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-1c300df9-7cf2-4064-9a65-06af0ff0cf6e\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>nom_iris</th>\n",
              "      <th>code_iris</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>11</th>\n",
              "      <td>Lamothe</td>\n",
              "      <td>693870503</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>18</th>\n",
              "      <td>Le Prado</td>\n",
              "      <td>693870202</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>356</th>\n",
              "      <td>Saxe-Vileroy</td>\n",
              "      <td>693830203</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>453</th>\n",
              "      <td>Domer</td>\n",
              "      <td>693870401</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>502</th>\n",
              "      <td>Saint-Louis</td>\n",
              "      <td>693870302</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>646</th>\n",
              "      <td>Victor Bach</td>\n",
              "      <td>693870301</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>691</th>\n",
              "      <td>Saint-Amour</td>\n",
              "      <td>693830204</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>915</th>\n",
              "      <td>Jules Brunard</td>\n",
              "      <td>693870501</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>993</th>\n",
              "      <td>Saint-Michel</td>\n",
              "      <td>693870201</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1034</th>\n",
              "      <td>Stalingrad</td>\n",
              "      <td>693870502</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1054</th>\n",
              "      <td>Danton-Bir Akeim</td>\n",
              "      <td>693830302</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1215</th>\n",
              "      <td>Jean-Mace</td>\n",
              "      <td>693870402</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1c300df9-7cf2-4064-9a65-06af0ff0cf6e')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-1c300df9-7cf2-4064-9a65-06af0ff0cf6e button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-1c300df9-7cf2-4064-9a65-06af0ff0cf6e');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    <div id=\"df-fec829eb-3f9c-4c44-9620-3d2b1cb443e7\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-fec829eb-3f9c-4c44-9620-3d2b1cb443e7')\"\n",
              "                title=\"Suggest charts\"\n",
              "                style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "      <script>\n",
              "        async function quickchart(key) {\n",
              "          const quickchartButtonEl =\n",
              "            document.querySelector('#' + key + ' button');\n",
              "          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "          quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "          try {\n",
              "            const charts = await google.colab.kernel.invokeFunction(\n",
              "                'suggestCharts', [key], {});\n",
              "          } catch (error) {\n",
              "            console.error('Error during call to suggestCharts:', error);\n",
              "          }\n",
              "          quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "        }\n",
              "        (() => {\n",
              "          let quickchartButtonEl =\n",
              "            document.querySelector('#df-fec829eb-3f9c-4c44-9620-3d2b1cb443e7 button');\n",
              "          quickchartButtonEl.style.display =\n",
              "            google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "        })();\n",
              "      </script>\n",
              "    </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "summary": "{\n  \"name\": \"run_button\",\n  \"rows\": 12,\n  \"fields\": [\n    {\n      \"column\": \"nom_iris\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 12,\n        \"samples\": [\n          \"Danton-Bir Akeim\",\n          \"Stalingrad\",\n          \"Lamothe\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"code_iris\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 12,\n        \"samples\": [\n          \"693830302\",\n          \"693870502\",\n          \"693870503\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "df_popiris.code_"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 274
        },
        "id": "-EZeC-KQLIHE",
        "outputId": "e650fb40-f8a0-443f-9b31-c88c945c206f"
      },
      "execution_count": 41,
      "outputs": [
        {
          "output_type": "error",
          "ename": "AttributeError",
          "evalue": "'GeoDataFrame' object has no attribute 'code_'",
          "traceback": [
            "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
            "\u001b[0;31mAttributeError\u001b[0m                            Traceback (most recent call last)",
            "\u001b[0;32m/tmp/ipython-input-959448897.py\u001b[0m in \u001b[0;36m<cell line: 0>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mdf_popiris\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcode_\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
            "\u001b[0;32m/usr/local/lib/python3.12/dist-packages/pandas/core/generic.py\u001b[0m in \u001b[0;36m__getattr__\u001b[0;34m(self, name)\u001b[0m\n\u001b[1;32m   6297\u001b[0m         ):\n\u001b[1;32m   6298\u001b[0m             \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mname\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 6299\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mobject\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m__getattribute__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mname\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   6300\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   6301\u001b[0m     \u001b[0;34m@\u001b[0m\u001b[0mfinal\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
            "\u001b[0;31mAttributeError\u001b[0m: 'GeoDataFrame' object has no attribute 'code_'"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "import ipywidgets as widgets\n",
        "from IPython.display import display, HTML, clear_output\n",
        "import geopandas as gpd\n",
        "import folium\n",
        "import requests\n",
        "from shapely.geometry import shape\n",
        "\n",
        "# --- Cl√© API ORS ---\n",
        "ORS_API_KEY = '5b3ce3597851110001cf6248ab2580d70bc148e6b2da078f1f784bf1'\n",
        "\n",
        "# --- Fonction ORS : Isochrone ---\n",
        "def get_isochrone_from_coords(lat, lon, minutes, api_key=ORS_API_KEY):\n",
        "    url = 'https://api.openrouteservice.org/v2/isochrones/foot-walking'\n",
        "    headers = {\n",
        "        'Authorization': api_key,\n",
        "        'Content-Type': 'application/json'\n",
        "    }\n",
        "    body = {\n",
        "        \"locations\": [[lon, lat]],\n",
        "        \"range\": [minutes * 60],\n",
        "        \"units\": \"m\"\n",
        "    }\n",
        "    response = requests.post(url, json=body, headers=headers)\n",
        "    response.raise_for_status()\n",
        "    return response.json()\n",
        "\n",
        "# --- Fonction : Carte et IRIS intersect√©s ---\n",
        "def get_iris_in_isochrone(lat, lon, minutes, df_popiris):\n",
        "    isochrone_geojson = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(isochrone_geojson['features'][0]['geometry'])\n",
        "\n",
        "    # Projection\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    # Filtrage par intersection\n",
        "    intersected = df_proj[df_proj.geometry.intersects(isochrone_proj)]\n",
        "\n",
        "    # Reprojection pour l'affichage\n",
        "    intersected_display = intersected.to_crs(epsg=4326)\n",
        "\n",
        "    # Carte\n",
        "    fmap = folium.Map(location=[lat, lon], zoom_start=13)\n",
        "\n",
        "    folium.GeoJson(\n",
        "        isochrone_geojson,\n",
        "        name='Isochrone',\n",
        "        style_function=lambda x: {'fillColor': 'blue', 'color': 'blue', 'fillOpacity': 0.3}\n",
        "    ).add_to(fmap)\n",
        "\n",
        "    folium.Marker([lat, lon], icon=folium.Icon(color='red'), popup=\"Point s√©lectionn√©\").add_to(fmap)\n",
        "\n",
        "    for _, row in intersected_display.iterrows():\n",
        "        folium.GeoJson(row['geometry'], style_function=lambda x: {'fillColor': 'green', 'color': 'green', 'fillOpacity': 0.2}).add_to(fmap)\n",
        "\n",
        "    return fmap, intersected_display\n",
        "\n",
        "# --- Chargement des donn√©es IRIS ---\n",
        "df_popiris = gpd.read_file(\"iris_population.geojson\")\n",
        "\n",
        "# --- Widgets coordonn√©es et dur√©e ---\n",
        "lat_widget = widgets.FloatText(value=45.75, description='Latitude :')\n",
        "lon_widget = widgets.FloatText(value=4.85, description='Longitude :')\n",
        "minutes_widget = widgets.IntSlider(value=10, min=1, max=60, description=\"Dur√©e (min)\")\n",
        "\n",
        "run_button = widgets.Button(description=\"Afficher les IRIS\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "# --- Callback bouton ---\n",
        "def on_button_click(b):\n",
        "    with output:\n",
        "        clear_output()\n",
        "\n",
        "        lat = lat_widget.value\n",
        "        lon = lon_widget.value\n",
        "        minutes = minutes_widget.value\n",
        "\n",
        "        print(f\"üìç Analyse autour de : ({lat}, {lon})\")\n",
        "        print(f\"üïí Dur√©e s√©lectionn√©e : {minutes} min √† pied\\n\")\n",
        "\n",
        "        map_out, df_intersected = get_iris_in_isochrone(lat, lon, minutes, df_popiris)\n",
        "\n",
        "        display(map_out)\n",
        "\n",
        "        if df_intersected.empty:\n",
        "            display(HTML(\"<b style='color:red;'>‚ùå Aucun IRIS trouv√© dans la zone d'isochrone.</b>\"))\n",
        "        else:\n",
        "            display(HTML(f\"<h4>‚úÖ {len(df_intersected)} IRIS intersect√©s :</h4>\"))\n",
        "\n",
        "            # Colonnes CSP √† afficher (√† adapter si noms diff√©rents)\n",
        "            csp_columns = [\n",
        "                'C21_ACT1564_CS1',  # Agriculteurs\n",
        "                'C21_ACT1564_CS2',  # Artisans\n",
        "                'C21_ACT1564_CS3',  # Cadres\n",
        "                'C21_ACT1564_CS4',  # Interm√©diaires\n",
        "                'C21_ACT1564_CS5',  # Employ√©s\n",
        "                'C21_ACT1564_CS6',  # Ouvriers\n",
        "            ]\n",
        "\n",
        "            available_columns = ['nom_iris', 'code_iris'] + [col for col in csp_columns if col in df_intersected.columns]\n",
        "            display(df_intersected[available_columns].head(20))  # Affiche les 20 premiers IRIS\n",
        "\n",
        "# --- Affichage interface ---\n",
        "run_button.on_click(on_button_click)\n",
        "\n",
        "display(widgets.HTML(\"<h3>üìç Saisissez les coordonn√©es du point √† analyser</h3>\"))\n",
        "display(widgets.HBox([lat_widget, lon_widget]))\n",
        "display(minutes_widget)\n",
        "display(run_button, output)"
      ],
      "metadata": {
        "id": "7UiGzkVwLXFf"
      },
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "pip install matplotlib"
      ],
      "metadata": {
        "id": "aNrIrchOPujn"
      },
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "import ipywidgets as widgets\n",
        "from IPython.display import display, HTML\n",
        "import geopandas as gpd\n",
        "import folium\n",
        "import requests\n",
        "from shapely.geometry import shape\n",
        "import pandas as pd\n",
        "import matplotlib.pyplot as plt\n",
        "\n",
        "ORS_API_KEY = '5b3ce3597851110001cf6248ab2580d70bc148e6b2da078f1f784bf1'  # Ta cl√© ORS\n",
        "\n",
        "def get_isochrone_from_coords(lat, lon, minutes, api_key=ORS_API_KEY):\n",
        "    url = 'https://api.openrouteservice.org/v2/isochrones/foot-walking'\n",
        "    headers = {\n",
        "        'Authorization': api_key,\n",
        "        'Content-Type': 'application/json'\n",
        "    }\n",
        "    body = {\n",
        "        \"locations\": [[lon, lat]],\n",
        "        \"range\": [minutes * 60],  # en secondes\n",
        "        \"units\": \"m\"\n",
        "    }\n",
        "    response = requests.post(url, json=body, headers=headers)\n",
        "    response.raise_for_status()\n",
        "    return response.json()\n",
        "\n",
        "def compute_csp_by_iris_in_isochrone(lat, lon, minutes, df_popiris):\n",
        "    data = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(data['features'][0]['geometry'])\n",
        "    # Projection en Web Mercator pour calculs d'aires correctes\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    csp_cols = {\n",
        "        'C21_ACT1564_CS1': 'Agriculteurs',\n",
        "        'C21_ACT1564_CS2': 'Artisans/Commer√ßants',\n",
        "        'C21_ACT1564_CS3': 'Cadres',\n",
        "        'C21_ACT1564_CS4': 'Prof. interm√©diaires',\n",
        "        'C21_ACT1564_CS5': 'Employ√©s',\n",
        "        'C21_ACT1564_CS6': 'Ouvriers'\n",
        "    }\n",
        "\n",
        "    rows = []\n",
        "\n",
        "    for _, row in df_proj.iterrows():\n",
        "        geom = row['geometry']\n",
        "        if geom.intersects(isochrone_proj):\n",
        "            inter = geom.intersection(isochrone_proj)\n",
        "            if not inter.is_empty and geom.area > 0:\n",
        "                ratio = inter.area / geom.area\n",
        "                csp_values = {}\n",
        "                try:\n",
        "                    # Calcul des valeurs pond√©r√©es par la surface intersect√©e\n",
        "                    for col_code, csp_name in csp_cols.items():\n",
        "                        val = float(row.get(col_code, 0)) * ratio\n",
        "                        csp_values[csp_name] = val\n",
        "                    total = sum(csp_values.values())\n",
        "                    # Calcul des pourcentages pour chaque CSP\n",
        "                    if total > 0:\n",
        "                        for k in csp_values:\n",
        "                            csp_values[k] = round((csp_values[k] / total) * 100, 2)\n",
        "                    else:\n",
        "                        # Si total = 0, mettre 0% partout\n",
        "                        for k in csp_values:\n",
        "                            csp_values[k] = 0.0\n",
        "                except Exception as e:\n",
        "                    continue\n",
        "\n",
        "                rows.append({\n",
        "                    'Nom IRIS': row.get('nom_iris', 'Inconnu'),  # <-- Changement ici\n",
        "                    '% Surface dans isochrone': round(ratio * 100, 2),\n",
        "                    **csp_values\n",
        "                })\n",
        "\n",
        "    df_result = pd.DataFrame(rows)\n",
        "    return df_result, data\n",
        "\n",
        "# Widgets\n",
        "lat_widget = widgets.FloatText(value=45.75, description='Latitude:')\n",
        "lon_widget = widgets.FloatText(value=4.85, description='Longitude:')\n",
        "minutes_widget = widgets.IntSlider(value=10, min=1, max=60, step=1, description='Dur√©e (min):')\n",
        "run_button = widgets.Button(description=\"Afficher CSP par IRIS\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "def on_button_click(b):\n",
        "    output.clear_output()\n",
        "    with output:\n",
        "        lat = lat_widget.value\n",
        "        lon = lon_widget.value\n",
        "        minutes = minutes_widget.value\n",
        "        print(f\"üìç Point : ({lat}, {lon}) ‚Äì {minutes} min √† pied\\n\")\n",
        "\n",
        "\n",
        "        df_csp_iris, isochrone_geojson = compute_csp_by_iris_in_isochrone(lat, lon, minutes, df_popiris)\n",
        "\n",
        "        if df_csp_iris.empty:\n",
        "            print(\"Aucun IRIS ne croise l'isochrone.\")\n",
        "            return\n",
        "\n",
        "        display(HTML(f\"<h4>üìã CSP des IRIS intersectant l'isochrone (en %)</h4>\"))\n",
        "        display(df_csp_iris.style.set_table_attributes('class=\"table\"').format({col: \"{:.2f} %\" for col in df_csp_iris.columns if col not in ['Nom IRIS', '% Surface dans isochrone']}))\n",
        "\n",
        "run_button.on_click(on_button_click)\n",
        "\n",
        "display(widgets.VBox([\n",
        "    widgets.HTML(\"<h3>üó∫Ô∏è Isochrone et CSP par IRIS</h3>\"),\n",
        "    lat_widget,\n",
        "    lon_widget,\n",
        "    minutes_widget,\n",
        "    run_button,\n",
        "    output\n",
        "]))"
      ],
      "metadata": {
        "id": "hF8hrhUMSRrM"
      },
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "import ipywidgets as widgets\n",
        "from IPython.display import display, HTML\n",
        "import geopandas as gpd\n",
        "import folium\n",
        "from folium import GeoJson\n",
        "import requests\n",
        "from shapely.geometry import shape\n",
        "import pandas as pd\n",
        "import matplotlib.pyplot as plt\n",
        "\n",
        "ORS_API_KEY = '5b3ce3597851110001cf6248ab2580d70bc148e6b2da078f1f784bf1'  # Ta cl√© ORS\n",
        "\n",
        "def get_isochrone_from_coords(lat, lon, minutes, api_key=ORS_API_KEY):\n",
        "    url = 'https://api.openrouteservice.org/v2/isochrones/foot-walking'\n",
        "    headers = {\n",
        "        'Authorization': api_key,\n",
        "        'Content-Type': 'application/json'\n",
        "    }\n",
        "    body = {\n",
        "        \"locations\": [[lon, lat]],\n",
        "        \"range\": [minutes * 60],  # en secondes\n",
        "        \"units\": \"m\"\n",
        "    }\n",
        "    response = requests.post(url, json=body, headers=headers)\n",
        "    response.raise_for_status()\n",
        "    return response.json()\n",
        "\n",
        "def compute_csp_by_iris_in_isochrone(lat, lon, minutes, df_popiris):\n",
        "    data = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(data['features'][0]['geometry'])\n",
        "    # Projection en Web Mercator pour calculs d'aires correctes\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    csp_cols = {\n",
        "        'C21_ACT1564_CS1': 'Agriculteurs',\n",
        "        'C21_ACT1564_CS2': 'Artisans/Commer√ßants',\n",
        "        'C21_ACT1564_CS3': 'Cadres',\n",
        "        'C21_ACT1564_CS4': 'Prof. interm√©diaires',\n",
        "        'C21_ACT1564_CS5': 'Employ√©s',\n",
        "        'C21_ACT1564_CS6': 'Ouvriers'\n",
        "    }\n",
        "\n",
        "    rows = []\n",
        "\n",
        "    for _, row in df_proj.iterrows():\n",
        "        geom = row['geometry']\n",
        "        if geom.intersects(isochrone_proj):\n",
        "            inter = geom.intersection(isochrone_proj)\n",
        "            if not inter.is_empty and geom.area > 0:\n",
        "                ratio = inter.area / geom.area\n",
        "                csp_values = {}\n",
        "                try:\n",
        "                    # Calcul des valeurs pond√©r√©es par la surface intersect√©e\n",
        "                    for col_code, csp_name in csp_cols.items():\n",
        "                        val = float(row.get(col_code, 0)) * ratio\n",
        "                        csp_values[csp_name] = val\n",
        "                    total = sum(csp_values.values())\n",
        "                    # Calcul des pourcentages pour chaque CSP\n",
        "                    if total > 0:\n",
        "                        for k in csp_values:\n",
        "                            csp_values[k] = round((csp_values[k] / total) * 100, 2)\n",
        "                    else:\n",
        "                        # Si total = 0, mettre 0% partout\n",
        "                        for k in csp_values:\n",
        "                            csp_values[k] = 0.0\n",
        "                except Exception as e:\n",
        "                    continue\n",
        "\n",
        "                rows.append({\n",
        "                    'Nom IRIS': row.get('NOM_IRIS', 'Inconnu'),\n",
        "                    '% Surface dans isochrone': round(ratio * 100, 2),\n",
        "                    **csp_values\n",
        "                })\n",
        "\n",
        "    df_result = pd.DataFrame(rows)\n",
        "    return df_result, data\n",
        "\n",
        "# Widgets\n",
        "lat_widget = widgets.FloatText(value=45.75, description='Latitude:')\n",
        "lon_widget = widgets.FloatText(value=4.85, description='Longitude:')\n",
        "minutes_widget = widgets.IntSlider(value=10, min=1, max=60, step=1, description='Dur√©e (min):')\n",
        "run_button = widgets.Button(description=\"Afficher CSP par IRIS\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "def on_button_click(b):\n",
        "    output.clear_output()\n",
        "    with output:\n",
        "        lat = lat_widget.value\n",
        "        lon = lon_widget.value\n",
        "        minutes = minutes_widget.value\n",
        "        print(f\"üìç Point : ({lat}, {lon}) ‚Äì {minutes} min √† pied\\n\")\n",
        "\n",
        "        df_csp_iris, isochrone_geojson = compute_csp_by_iris_in_isochrone(lat, lon, minutes, df_popiris)\n",
        "\n",
        "        if df_csp_iris.empty:\n",
        "            print(\"Aucun IRIS ne croise l'isochrone.\")\n",
        "            return\n",
        "\n",
        "        # Cr√©ation et affichage de la carte Folium avec l'isochrone\n",
        "        fmap = folium.Map(location=[lat, lon], zoom_start=14)\n",
        "        folium.Marker(location=[lat, lon], tooltip=\"Point de d√©part\").add_to(fmap)\n",
        "        GeoJson(isochrone_geojson, name=\"Isochrone\").add_to(fmap)\n",
        "        display(fmap)\n",
        "\n",
        "        display(HTML(f\"<h4>üìã CSP des IRIS intersectant l'isochrone (en %)</h4>\"))\n",
        "        display(df_csp_iris.style.set_table_attributes('class=\"table\"').format({col: \"{:.2f} %\" for col in df_csp_iris.columns if col not in ['Nom IRIS', '% Surface dans isochrone']}))\n",
        "\n",
        "run_button.on_click(on_button_click)\n",
        "\n",
        "display(widgets.VBox([\n",
        "    widgets.HTML(\"<h3>üó∫Ô∏è Isochrone et CSP par IRIS</h3>\"),\n",
        "    lat_widget,\n",
        "    lon_widget,\n",
        "    minutes_widget,\n",
        "    run_button,\n",
        "    output\n",
        "]))"
      ],
      "metadata": {
        "id": "ZivI1N-ZQfMB"
      },
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "df_popiris.columns"
      ],
      "metadata": {
        "id": "SL2E_44pSwkY"
      },
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "import ipywidgets as widgets\n",
        "from IPython.display import display, HTML\n",
        "import geopandas as gpd\n",
        "import folium\n",
        "from folium import GeoJson\n",
        "import requests\n",
        "from shapely.geometry import shape\n",
        "import pandas as pd\n",
        "import matplotlib.pyplot as plt\n",
        "\n",
        "ORS_API_KEY = '5b3ce3597851110001cf6248ab2580d70bc148e6b2da078f1f784bf1'  # Ta cl√© ORS\n",
        "\n",
        "def get_isochrone_from_coords(lat, lon, minutes, api_key=ORS_API_KEY):\n",
        "    url = 'https://api.openrouteservice.org/v2/isochrones/foot-walking'\n",
        "    headers = {\n",
        "        'Authorization': api_key,\n",
        "        'Content-Type': 'application/json'\n",
        "    }\n",
        "    body = {\n",
        "        \"locations\": [[lon, lat]],\n",
        "        \"range\": [minutes * 60],  # en secondes\n",
        "        \"units\": \"m\"\n",
        "    }\n",
        "    response = requests.post(url, json=body, headers=headers)\n",
        "    response.raise_for_status()\n",
        "    return response.json()\n",
        "\n",
        "def compute_csp_by_iris_in_isochrone(lat, lon, minutes, df_popiris):\n",
        "    data = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(data['features'][0]['geometry'])\n",
        "    # Projection en Web Mercator pour calculs d'aires correctes\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    csp_cols = {\n",
        "        'C21_ACT1564_CS1': 'Agriculteurs',\n",
        "        'C21_ACT1564_CS2': 'Artisans/Commer√ßants',\n",
        "        'C21_ACT1564_CS3': 'Cadres',\n",
        "        'C21_ACT1564_CS4': 'Prof. interm√©diaires',\n",
        "        'C21_ACT1564_CS5': 'Employ√©s',\n",
        "        'C21_ACT1564_CS6': 'Ouvriers'\n",
        "    }\n",
        "\n",
        "    rows = []\n",
        "\n",
        "    for _, row in df_proj.iterrows():\n",
        "        geom = row['geometry']\n",
        "        if geom.intersects(isochrone_proj):\n",
        "            inter = geom.intersection(isochrone_proj)\n",
        "            if not inter.is_empty and geom.area > 0:\n",
        "                ratio = inter.area / geom.area\n",
        "                csp_values = {}\n",
        "                try:\n",
        "                    # Calcul des valeurs pond√©r√©es par la surface intersect√©e\n",
        "                    for col_code, csp_name in csp_cols.items():\n",
        "                        val = float(row.get(col_code, 0)) * ratio\n",
        "                        csp_values[csp_name] = val\n",
        "                    total = sum(csp_values.values())\n",
        "                    # Calcul des pourcentages pour chaque CSP\n",
        "                    if total > 0:\n",
        "                        for k in csp_values:\n",
        "                            csp_values[k] = round((csp_values[k] / total) * 100, 2)\n",
        "                    else:\n",
        "                        # Si total = 0, mettre 0% partout\n",
        "                        for k in csp_values:\n",
        "                            csp_values[k] = 0.0\n",
        "                except Exception as e:\n",
        "                    continue\n",
        "\n",
        "                rows.append({\n",
        "                    'Nom IRIS': row.get('nom_iris', 'Inconnu'),  # <-- Modifi√© ici\n",
        "                    '% Surface dans isochrone': round(ratio * 100, 2),\n",
        "                    **csp_values\n",
        "                })\n",
        "\n",
        "    df_result = pd.DataFrame(rows)\n",
        "    return df_result, data\n",
        "\n",
        "# Widgets\n",
        "lat_widget = widgets.FloatText(value=45.75, description='Latitude:')\n",
        "lon_widget = widgets.FloatText(value=4.85, description='Longitude:')\n",
        "minutes_widget = widgets.IntSlider(value=10, min=1, max=60, step=1, description='Dur√©e (min):')\n",
        "run_button = widgets.Button(description=\"Afficher CSP par IRIS\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "def on_button_click(b):\n",
        "    output.clear_output()\n",
        "    with output:\n",
        "        lat = lat_widget.value\n",
        "        lon = lon_widget.value\n",
        "        minutes = minutes_widget.value\n",
        "        print(f\"üìç Point : ({lat}, {lon}) ‚Äì {minutes} min √† pied\\n\")\n",
        "\n",
        "        df_csp_iris, isochrone_geojson = compute_csp_by_iris_in_isochrone(lat, lon, minutes, df_popiris)\n",
        "\n",
        "        if df_csp_iris.empty:\n",
        "            print(\"Aucun IRIS ne croise l'isochrone.\")\n",
        "            return\n",
        "\n",
        "        # Cr√©ation et affichage de la carte Folium avec l'isochrone\n",
        "        fmap = folium.Map(location=[lat, lon], zoom_start=14)\n",
        "        folium.Marker(location=[lat, lon], tooltip=\"Point de d√©part\").add_to(fmap)\n",
        "        GeoJson(isochrone_geojson, name=\"Isochrone\").add_to(fmap)\n",
        "        display(fmap)\n",
        "\n",
        "        display(HTML(f\"<h4>üìã CSP des IRIS intersectant l'isochrone (en %)</h4>\"))\n",
        "        display(df_csp_iris.style.set_table_attributes('class=\"table\"').format({col: \"{:.2f} %\" for col in df_csp_iris.columns if col not in ['Nom IRIS', '% Surface dans isochrone']}))\n",
        "\n",
        "run_button.on_click(on_button_click)\n",
        "\n",
        "display(widgets.VBox([\n",
        "    widgets.HTML(\"<h3>üó∫Ô∏è Isochrone et CSP par IRIS</h3>\"),\n",
        "    lat_widget,\n",
        "    lon_widget,\n",
        "    minutes_widget,\n",
        "    run_button,\n",
        "    output\n",
        "]))"
      ],
      "metadata": {
        "id": "vXr15fFKaM3A"
      },
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "import ipywidgets as widgets\n",
        "from IPython.display import display, HTML\n",
        "import geopandas as gpd\n",
        "import folium\n",
        "import requests\n",
        "from shapely.geometry import shape\n",
        "import pandas as pd\n",
        "\n",
        "ORS_API_KEY = '5b3ce3597851110001cf6248ab2580d70bc148e6b2da078f1f784bf1'  # Ta cl√© ORS\n",
        "\n",
        "def get_isochrone_from_coords(lat, lon, minutes, api_key=ORS_API_KEY):\n",
        "    url = 'https://api.openrouteservice.org/v2/isochrones/foot-walking'\n",
        "    headers = {\n",
        "        'Authorization': api_key,\n",
        "        'Content-Type': 'application/json'\n",
        "    }\n",
        "    body = {\n",
        "        \"locations\": [[lon, lat]],\n",
        "        \"range\": [minutes * 60],  # en secondes\n",
        "        \"units\": \"m\"\n",
        "    }\n",
        "    response = requests.post(url, json=body, headers=headers)\n",
        "    response.raise_for_status()\n",
        "    return response.json()\n",
        "\n",
        "def compute_csp_by_iris_in_isochrone(lat, lon, minutes, df_popiris):\n",
        "    data = get_isochrone_from_coords(lat, lon, minutes)\n",
        "    isochrone_geom = shape(data['features'][0]['geometry'])\n",
        "    # Projection en Web Mercator pour calculs d'aires correctes\n",
        "    isochrone_proj = gpd.GeoSeries([isochrone_geom], crs=\"EPSG:4326\").to_crs(epsg=3857).iloc[0]\n",
        "    df_proj = df_popiris.to_crs(epsg=3857)\n",
        "\n",
        "    csp_cols = {\n",
        "        'C21_ACT1564_CS1': 'Agriculteurs',\n",
        "        'C21_ACT1564_CS2': 'Artisans/Commer√ßants',\n",
        "        'C21_ACT1564_CS3': 'Cadres',\n",
        "        'C21_ACT1564_CS4': 'Prof. interm√©diaires',\n",
        "        'C21_ACT1564_CS5': 'Employ√©s',\n",
        "        'C21_ACT1564_CS6': 'Ouvriers'\n",
        "    }\n",
        "\n",
        "    rows = []\n",
        "    iris_intersect = []\n",
        "\n",
        "    for _, row in df_proj.iterrows():\n",
        "        geom = row['geometry']\n",
        "        if geom.intersects(isochrone_proj):\n",
        "            inter = geom.intersection(isochrone_proj)\n",
        "            if not inter.is_empty and geom.area > 0:\n",
        "                ratio = inter.area / geom.area\n",
        "                csp_values = {}\n",
        "                try:\n",
        "                    for col_code, csp_name in csp_cols.items():\n",
        "                        val = float(row.get(col_code, 0)) * ratio\n",
        "                        csp_values[csp_name] = val\n",
        "                    total = sum(csp_values.values())\n",
        "                    if total > 0:\n",
        "                        for k in csp_values:\n",
        "                            csp_values[k] = round((csp_values[k] / total) * 100, 2)\n",
        "                    else:\n",
        "                        for k in csp_values:\n",
        "                            csp_values[k] = 0.0\n",
        "                except Exception:\n",
        "                    continue\n",
        "\n",
        "                rows.append({\n",
        "                    'Nom IRIS': row.get('nom_iris', 'Inconnu'),\n",
        "                    '% Surface dans isochrone': round(ratio * 100, 2),\n",
        "                    **csp_values\n",
        "                })\n",
        "\n",
        "                # Reprojection en EPSG:4326 pour afficher sur la carte\n",
        "                geom_wgs84 = gpd.GeoSeries([geom], crs=\"EPSG:3857\").to_crs(epsg=4326).iloc[0]\n",
        "                iris_intersect.append({'geometry': geom_wgs84, 'nom_iris': row.get('nom_iris', 'Inconnu')})\n",
        "\n",
        "    df_result = pd.DataFrame(rows)\n",
        "    return df_result, data, iris_intersect\n",
        "\n",
        "# Widgets\n",
        "lat_widget = widgets.FloatText(value=45.75, description='Latitude:')\n",
        "lon_widget = widgets.FloatText(value=4.85, description='Longitude:')\n",
        "minutes_widget = widgets.IntSlider(value=10, min=1, max=60, step=1, description='Dur√©e (min):')\n",
        "run_button = widgets.Button(description=\"Afficher CSP par IRIS\", button_style='success')\n",
        "output = widgets.Output()\n",
        "\n",
        "def on_button_click(b):\n",
        "    output.clear_output()\n",
        "    with output:\n",
        "        lat = lat_widget.value\n",
        "        lon = lon_widget.value\n",
        "        minutes = minutes_widget.value\n",
        "        print(f\"üìç Point : ({lat}, {lon}) ‚Äì {minutes} min √† pied\\n\")\n",
        "\n",
        "        df_csp_iris, isochrone_geojson, iris_intersect = compute_csp_by_iris_in_isochrone(lat, lon, minutes, df_popiris)\n",
        "\n",
        "        if df_csp_iris.empty:\n",
        "            print(\"Aucun IRIS ne croise l'isochrone.\")\n",
        "            return\n",
        "\n",
        "        # Cr√©ation de la carte centr√©e sur le point\n",
        "        fmap = folium.Map(location=[lat, lon], zoom_start=14)\n",
        "        # Point de d√©part\n",
        "        folium.Marker([lat, lon], tooltip=\"Point de d√©part\").add_to(fmap)\n",
        "        # Polygone isochrone\n",
        "        folium.GeoJson(isochrone_geojson['features'][0]['geometry'],\n",
        "                       style_function=lambda x: {'fillColor': 'blue', 'color': 'blue', 'weight': 2, 'fillOpacity': 0.3},\n",
        "                       name=\"Isochrone\").add_to(fmap)\n",
        "\n",
        "        # Ajout des IRIS intersect√©s\n",
        "        for iris in iris_intersect:\n",
        "            geojson_iris = folium.GeoJson(iris['geometry'].__geo_interface__,\n",
        "                                         style_function=lambda x: {'fillColor': 'orange', 'color': 'red', 'weight': 2, 'fillOpacity': 0.4})\n",
        "            popup = folium.Popup(iris['nom_iris'], parse_html=True)\n",
        "            geojson_iris.add_child(popup)\n",
        "            geojson_iris.add_to(fmap)\n",
        "\n",
        "        display(HTML(f\"<h4>üìã CSP des IRIS intersectant l'isochrone (en %)</h4>\"))\n",
        "        display(df_csp_iris.style.set_table_attributes('class=\"table\"').format({col: \"{:.2f} %\" for col in df_csp_iris.columns if col not in ['Nom IRIS', '% Surface dans isochrone']}))\n",
        "        display(fmap)\n",
        "\n",
        "run_button.on_click(on_button_click)\n",
        "\n",
        "display(widgets.VBox([\n",
        "    widgets.HTML(\"<h3>üó∫Ô∏è Isochrone et CSP par IRIS</h3>\"),\n",
        "    lat_widget,\n",
        "    lon_widget,\n",
        "    minutes_widget,\n",
        "    run_button,\n",
        "    output\n",
        "]))"
      ],
      "metadata": {
        "id": "DK6M-LHradSY"
      },
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [],
      "metadata": {
        "id": "jnqDxqFrcxKp"
      },
      "execution_count": null,
      "outputs": []
    }
  ],
  "metadata": {
    "colab": {
      "provenance": []
    },
    "kernelspec": {
      "display_name": "Python 3",
      "name": "python3"
    },
    "language_info": {
      "name": "python"
    },
    "widgets": {
      "application/vnd.jupyter.widget-state+json": {
        "17323e556d954df2bea0d61c8df6215e": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "VBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "VBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "VBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_7d0de0e535d24d60aecb3a8474ccbb5f",
              "IPY_MODEL_783cefef97eb4b42bc0b557cc6b92d6c",
              "IPY_MODEL_9b5e2db63f174db193507498e61fcbb5",
              "IPY_MODEL_b97a616350ee498a9d2f52fb45e2babd",
              "IPY_MODEL_a782beae5dfd4d0ba2aea8275fc97f4d",
              "IPY_MODEL_d9cad61da81e4dd0947bc1a457ac0d94"
            ],
            "layout": "IPY_MODEL_2de40967e76141b8a4b5052d9adf0985"
          }
        },
        "7d0de0e535d24d60aecb3a8474ccbb5f": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_048444641064425587d209a32f3d7d41",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_65940292ddac4c258ae5735fbd3bc0b5",
            "value": "<h3>üó∫Ô∏è Isochrone + Population & CSP estim√©e</h3>"
          }
        },
        "783cefef97eb4b42bc0b557cc6b92d6c": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatTextModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatTextModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatTextView",
            "continuous_update": false,
            "description": "Latitude:",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_e7b66f96c9f7460c98ec3be98bd55bfb",
            "step": null,
            "style": "IPY_MODEL_312556e9cd794bd587df0d54b9e1757b",
            "value": 45.75
          }
        },
        "9b5e2db63f174db193507498e61fcbb5": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatTextModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatTextModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatTextView",
            "continuous_update": false,
            "description": "Longitude:",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_0e34eb38be7b406e94c3cc7210068288",
            "step": null,
            "style": "IPY_MODEL_316d34f337234436a9cb32becee16869",
            "value": 4.85
          }
        },
        "b97a616350ee498a9d2f52fb45e2babd": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Dur√©e (min):",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_da029311cfc84a9cba5291e90be886d9",
            "max": 60,
            "min": 1,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_67caef1e4d274cd7a61f3441e406bcc3",
            "value": 10
          }
        },
        "a782beae5dfd4d0ba2aea8275fc97f4d": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ButtonView",
            "button_style": "success",
            "description": "Afficher l'isochrone",
            "disabled": false,
            "icon": "",
            "layout": "IPY_MODEL_6a788bd5a7f346808c28e971bd524298",
            "style": "IPY_MODEL_157b7a1171984376bc1d46a6fd855610",
            "tooltip": ""
          }
        },
        "d9cad61da81e4dd0947bc1a457ac0d94": {
          "model_module": "@jupyter-widgets/output",
          "model_name": "OutputModel",
          "model_module_version": "1.0.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/output",
            "_model_module_version": "1.0.0",
            "_model_name": "OutputModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/output",
            "_view_module_version": "1.0.0",
            "_view_name": "OutputView",
            "layout": "IPY_MODEL_16625a940f9f48dcbb1559810475e87b",
            "msg_id": "",
            "outputs": [
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "üéØ R√©partition CSP cible (normalis√©e √† 100%) : {'Cadres': 20.0, 'Employ√©s': 20.0, 'Ouvriers': 20.0, 'Prof. interm√©diaires': 20.0, 'Artisans/Commer√ßants': 10.0, 'Agriculteurs': 10.0}\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<IPython.core.display.HTML object>",
                  "text/html": "<h4>üìç IRIS avec la r√©partition CSP la plus proche (Rh√¥ne uniquement) :</h4>"
                },
                "metadata": {}
              },
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "- Score : 16.59 ‚Äì Actifs : 533\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "         Agriculteurs Artisans/Commer√ßants     Cadres Prof. interm√©diaires  \\\n% Actifs     8.630394             5.816135  17.260788            20.262664   \n\n           Employ√©s   Ouvriers  \n% Actifs  23.076923  24.953096  ",
                  "text/html": "\n  <div id=\"df-53e5ce25-b333-42fd-9d0b-9c72cb5afd99\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Agriculteurs</th>\n      <th>Artisans/Commer√ßants</th>\n      <th>Cadres</th>\n      <th>Prof. interm√©diaires</th>\n      <th>Employ√©s</th>\n      <th>Ouvriers</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>% Actifs</th>\n      <td>8.630394</td>\n      <td>5.816135</td>\n      <td>17.260788</td>\n      <td>20.262664</td>\n      <td>23.076923</td>\n      <td>24.953096</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n    <div class=\"colab-df-buttons\">\n\n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-53e5ce25-b333-42fd-9d0b-9c72cb5afd99')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n\n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-53e5ce25-b333-42fd-9d0b-9c72cb5afd99 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-53e5ce25-b333-42fd-9d0b-9c72cb5afd99');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n\n\n    </div>\n  </div>\n",
                  "application/vnd.google.colaboratory.intrinsic+json": {
                    "type": "dataframe",
                    "summary": "{\n  \"name\": \"run_button\",\n  \"rows\": 1,\n  \"fields\": [\n    {\n      \"column\": \"Agriculteurs\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 8.630393996247655,\n        \"max\": 8.630393996247655,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          8.630393996247655\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Artisans/Commer\\u00e7ants\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 5.816135084427768,\n        \"max\": 5.816135084427768,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          5.816135084427768\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Cadres\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 17.26078799249531,\n        \"max\": 17.26078799249531,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          17.26078799249531\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Prof. interm\\u00e9diaires\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 20.26266416510319,\n        \"max\": 20.26266416510319,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          20.26266416510319\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Employ\\u00e9s\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 23.076923076923077,\n        \"max\": 23.076923076923077,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          23.076923076923077\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Ouvriers\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 24.953095684803,\n        \"max\": 24.953095684803,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          24.953095684803\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
                  }
                },
                "metadata": {}
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<folium.folium.Map at 0x79140e7f46b0>",
                  "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    \n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n    \n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n            &lt;style&gt;\n                #map_d989468279d2f97252360cd3ebcb228c {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            &lt;/style&gt;\n\n            &lt;style&gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            &lt;/style&gt;\n\n            &lt;style&gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            &lt;/style&gt;\n\n            &lt;script&gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            &lt;/script&gt;\n\n        \n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n            &lt;div class=&quot;folium-map&quot; id=&quot;map_d989468279d2f97252360cd3ebcb228c&quot; &gt;&lt;/div&gt;\n        \n&lt;/body&gt;\n&lt;script&gt;\n    \n    \n            var map_d989468279d2f97252360cd3ebcb228c = L.map(\n                &quot;map_d989468279d2f97252360cd3ebcb228c&quot;,\n                {\n                    center: [45.74080553417779, 4.570553689443725],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  &quot;zoom&quot;: 13,\n  &quot;zoomControl&quot;: true,\n  &quot;preferCanvas&quot;: false,\n}\n\n                }\n            );\n\n            \n\n        \n    \n            var tile_layer_ee013af20f516cdfa9852ee5600e6e4a = L.tileLayer(\n                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n                {\n  &quot;minZoom&quot;: 0,\n  &quot;maxZoom&quot;: 19,\n  &quot;maxNativeZoom&quot;: 19,\n  &quot;noWrap&quot;: false,\n  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n  &quot;subdomains&quot;: &quot;abc&quot;,\n  &quot;detectRetina&quot;: false,\n  &quot;tms&quot;: false,\n  &quot;opacity&quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_ee013af20f516cdfa9852ee5600e6e4a.addTo(map_d989468279d2f97252360cd3ebcb228c);\n        \n    \n        function geo_json_f309cd0c5c52a52be927d98f622b4c9d_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.4};\n            }\n        }\n\n        function geo_json_f309cd0c5c52a52be927d98f622b4c9d_onEachFeature(feature, layer) {\n\n            layer.on({\n            });\n        };\n        var geo_json_f309cd0c5c52a52be927d98f622b4c9d = L.geoJson(null, {\n                onEachFeature: geo_json_f309cd0c5c52a52be927d98f622b4c9d_onEachFeature,\n            \n                style: geo_json_f309cd0c5c52a52be927d98f622b4c9d_styler,\n            ...{\n}\n        });\n\n        function geo_json_f309cd0c5c52a52be927d98f622b4c9d_add (data) {\n            geo_json_f309cd0c5c52a52be927d98f622b4c9d\n                .addData(data);\n        }\n            geo_json_f309cd0c5c52a52be927d98f622b4c9d_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.566320078093018, 45.7190607391848], [4.564347028055776, 45.7176290663647], [4.559804563311642, 45.716494141045985], [4.556464768914047, 45.716056657126046], [4.556379614706537, 45.71604612446476], [4.555853609614042, 45.71608671133831], [4.555286628394825, 45.716133265163585], [4.553718260123221, 45.7162782872071], [4.553079761361767, 45.71638796132121], [4.552507034580104, 45.71650483176353], [4.552065753519593, 45.71663249848936], [4.550709699876919, 45.717196963951125], [4.548615286150716, 45.71809489678874], [4.546745151010684, 45.71901493076948], [4.543450272396364, 45.72092536130001], [4.540256336573566, 45.72263616864471], [4.539546043202187, 45.723172756890925], [4.539006993591622, 45.72357910924065], [4.535747183086309, 45.72269679245784], [4.534826421000119, 45.722277018266716], [4.534266713108489, 45.721939686561576], [4.531565011186215, 45.72031021471442], [4.530449063030606, 45.720175863653296], [4.529575710896973, 45.720816376051964], [4.528982162230004, 45.72125314088093], [4.528480889019986, 45.72228398435301], [4.528355561577231, 45.72254146980403], [4.527863024111952, 45.72319121471277], [4.527024916644736, 45.72413294814266], [4.526646455379113, 45.72444429705295], [4.52652447775131, 45.724544120337924], [4.523824876826123, 45.72674356770231], [4.521991192767199, 45.7282188431681], [4.521282032588489, 45.72871206646474], [4.521190046516427, 45.72878085678574], [4.521209034713219, 45.72881662672436], [4.522853089350148, 45.73114738986607], [4.523317317772508, 45.731916131493286], [4.52357174260411, 45.73242156339302], [4.523711534496909, 45.73273400268839], [4.523771386356208, 45.732945748304665], [4.523789444032645, 45.73304097365476], [4.524242018219681, 45.735531921857785], [4.524153409299225, 45.736866539582735], [4.523541594432927, 45.73912194276856], [4.523537878848035, 45.739313832511385], [4.523552493805317, 45.73933074748109], [4.52367408544281, 45.739448891594755], [4.5262083382051, 45.74120782303242], [4.527930531098752, 45.74224907532724], [4.52978283186019, 45.742202345301955], [4.53210866451573, 45.742347296367846], [4.532228846890792, 45.742367279129994], [4.53236483383693, 45.74240055684855], [4.533219784171655, 45.74270866864596], [4.533621508340053, 45.7428617214087], [4.53372847218918, 45.74291520670355], [4.534535366243629, 45.74339148471258], [4.537913075238311, 45.7446307082514], [4.540064529020701, 45.74511472150135], [4.54135056644819, 45.745978445792055], [4.543059944156485, 45.74728219074692], [4.544765613292493, 45.748910649836056], [4.54626117802029, 45.75022223098449], [4.548362873630428, 45.75181278428305], [4.548375431800997, 45.75184773765985], [4.548423495513156, 45.75191012406418], [4.549969947366397, 45.7537915291007], [4.551490725137449, 45.75516709562216], [4.553212357215297, 45.75597245959464], [4.555596556880982, 45.75704786740567], [4.557193102861966, 45.7586839582359], [4.558360214806545, 45.759660799010454], [4.559552291432899, 45.76043918169552], [4.561476338947188, 45.761114733565286], [4.563179032651979, 45.762077276077164], [4.563906603619274, 45.76328864431926], [4.565140355442349, 45.76451655190628], [4.566527549930124, 45.76519621326959], [4.569022796863202, 45.767802289134806], [4.57004359567699, 45.76892112595188], [4.570600301855371, 45.76953573783097], [4.571331880481314, 45.770687411365266], [4.571465075137395, 45.77093594167592], [4.571573840890826, 45.771275779557676], [4.571634711783203, 45.77151540981412], [4.571680996157036, 45.77173993190489], [4.571687391139772, 45.77182900889674], [4.571682828116464, 45.7718948211894], [4.571634204008011, 45.772040506016886], [4.571592152454055, 45.7721005358562], [4.571570716902665, 45.77211614579826], [4.571478413912715, 45.77217417357221], [4.571385060891862, 45.77219528852876], [4.571288725079749, 45.772202034270904], [4.570529709522371, 45.772236470424765], [4.569782793858549, 45.772379713818346], [4.569590862898674, 45.77241931150932], [4.56953355721714, 45.772440824082935], [4.569486773926676, 45.77247029625081], [4.569459595483396, 45.77251030368139], [4.569463370557123, 45.77255258251536], [4.569490635755605, 45.772606243246045], [4.569596927076771, 45.77276868595248], [4.569895516279436, 45.773176136414065], [4.570189515401208, 45.77351249732644], [4.57033692928032, 45.77367256574424], [4.570451028299185, 45.77379256768433], [4.570713222906721, 45.774005978602304], [4.570783747055993, 45.77404192412408], [4.570943812594871, 45.77410364290823], [4.571200294559948, 45.77416131681325], [4.571504175387793, 45.77421112460853], [4.571598414642269, 45.774130553194496], [4.573138495391923, 45.773342621675596], [4.574473218253432, 45.77266651544486], [4.575263673142871, 45.772357810678386], [4.575940752650492, 45.77213557200651], [4.576474226915252, 45.771887415207964], [4.577366272799179, 45.77141875809236], [4.578784275758825, 45.77044354365835], [4.580679325680916, 45.769021190809156], [4.580919320297888, 45.76886291276094], [4.581328479638075, 45.768679746359894], [4.583482047678835, 45.76788847266769], [4.586031343749056, 45.7672113832559], [4.587018390853252, 45.76694171128768], [4.587747185669503, 45.766597307280094], [4.588503023968411, 45.76564330912777], [4.590350282192847, 45.76334434195275], [4.591012542596491, 45.7615629320095], [4.591415087260949, 45.759745552800446], [4.592429192397154, 45.75682567380253], [4.592536630141746, 45.756580074891815], [4.592582116445313, 45.756506478237625], [4.592650909032451, 45.7564379564943], [4.59271890827107, 45.75638655866963], [4.593389135415995, 45.75593576305406], [4.593971266738686, 45.75573209177879], [4.596294249070283, 45.75526151132966], [4.596758108992491, 45.75519550084094], [4.596872599845622, 45.75519478055768], [4.597302658854115, 45.755205803543774], [4.599410417349056, 45.75534706107265], [4.601727170875452, 45.75608425948419], [4.601917981981845, 45.75614189469585], [4.602292652628688, 45.75623924944905], [4.60314829776893, 45.7564612659157], [4.603614263365715, 45.75655641798631], [4.603739359663599, 45.75656634807391], [4.605001325279736, 45.75664566994929], [4.605913961844722, 45.75670293189526], [4.607319542942131, 45.75677030553589], [4.610055340963187, 45.7569077877432], [4.613374762514112, 45.75711974914402], [4.614813864984369, 45.7572054344339], [4.61615394795736, 45.75711688829352], [4.616474276632186, 45.75707086671388], [4.616554909626139, 45.757056200911045], [4.616623835475408, 45.75703719946517], [4.617317550958274, 45.756823701134095], [4.617525362006783, 45.75640640949699], [4.617670022000469, 45.75624941828752], [4.617723692100022, 45.7561928065085], [4.617779017182274, 45.75614878044714], [4.617907910176259, 45.75606857264786], [4.617918473215304, 45.755945928998486], [4.617892692558412, 45.75590036427075], [4.615971113514121, 45.75354832407785], [4.613540153140574, 45.75269236051996], [4.613093022372868, 45.75262490125944], [4.612316424473346, 45.752465778498596], [4.612014515841415, 45.75239263609762], [4.611921998363982, 45.752352527368394], [4.611846225923284, 45.75231307992229], [4.610365236271712, 45.75138132190113], [4.610324110329973, 45.751338676716784], [4.610265428347788, 45.75117919439192], [4.610237085802277, 45.75104539844364], [4.610238164429145, 45.750905778364626], [4.610249713963988, 45.750816446599906], [4.610324808660464, 45.75039115626839], [4.610568557290674, 45.749484298123924], [4.610581338971806, 45.74943728046492], [4.610598083513099, 45.74939380890944], [4.610627845246407, 45.74935555549311], [4.610861239463936, 45.749109039567834], [4.611055264956828, 45.748924331485874], [4.611428515829157, 45.7471593039564], [4.611680166883223, 45.74533882014906], [4.611678670661604, 45.745287503036316], [4.611494025462148, 45.74473442521454], [4.611309935168081, 45.74431058612983], [4.611233439913619, 45.74298813696229], [4.611793080201387, 45.74175522053484], [4.612714960190093, 45.741167408258946], [4.614852240163879, 45.73885720880096], [4.616047181822385, 45.736964880883924], [4.61484111991038, 45.735702301084714], [4.610844948334982, 45.73407070182756], [4.607742162174694, 45.73232625291937], [4.606434375031465, 45.73149195757724], [4.60565044609919, 45.7309366018628], [4.60520296591345, 45.730363391088865], [4.604665252166333, 45.729516757880866], [4.603541768853657, 45.72851498405674], [4.603380995885574, 45.72838126929327], [4.602929683279922, 45.728029219804505], [4.602053854200226, 45.72736166242377], [4.602005378784345, 45.72733082779764], [4.601950736891334, 45.72730908750278], [4.601313486327142, 45.72657508704815], [4.600719567477793, 45.72596025730805], [4.599736727565388, 45.72510326002321], [4.598877909504202, 45.724643042613764], [4.597373392124305, 45.72386502727558], [4.597114036584871, 45.72374531037385], [4.596814757158583, 45.72362345644902], [4.596495146820448, 45.72350999573798], [4.596094324821917, 45.723389578064555], [4.595645607802576, 45.72325812827431], [4.595055215831692, 45.723118774218634], [4.594463982759872, 45.72299474040513], [4.593823622807442, 45.722861490806935], [4.593482442932964, 45.722802366890214], [4.593251453894347, 45.722774108616896], [4.593075410197307, 45.72277839812631], [4.592983356366465, 45.72279681181556], [4.591513135222944, 45.72309408523833], [4.591371261523066, 45.72312400903064], [4.591246434373564, 45.723165400705156], [4.591112842516487, 45.72321502198238], [4.591006321132356, 45.72326696302191], [4.590892553465547, 45.72333521827774], [4.587119721429148, 45.72445569527884], [4.583083505209284, 45.723478485497786], [4.581651313472278, 45.723264416881904], [4.580036528500773, 45.72290933874998], [4.578520640329989, 45.72211041508137], [4.578200512382137, 45.721887029116125], [4.577791414418319, 45.72170001367596], [4.577618382581734, 45.72162948162185], [4.577217024745242, 45.72148828979493], [4.576494209432078, 45.721257023088214], [4.574460359371735, 45.72072793878962], [4.572617495981691, 45.72062847306129], [4.572453947029024, 45.72066498005364], [4.572296619725001, 45.72069419469934], [4.571776516671044, 45.72076269371574], [4.570638986217572, 45.720868616770304], [4.570517058634613, 45.720876620346274], [4.568743324702134, 45.720902221072365], [4.568347237670214, 45.72090052763901], [4.568328860015221, 45.720887273384264], [4.56823414590183, 45.7208120347432], [4.567526033771096, 45.72019051916612], [4.5672780919201, 45.719971503052996], [4.567344979194914, 45.7199723743054], [4.566320078093018, 45.7190607391848]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n\n        \n    \n            geo_json_f309cd0c5c52a52be927d98f622b4c9d.addTo(map_d989468279d2f97252360cd3ebcb228c);\n        \n    \n            var marker_4688e94b9f1365087f197f73c99945c1 = L.marker(\n                [45.74080553417779, 4.570553689443725],\n                {\n}\n            ).addTo(map_d989468279d2f97252360cd3ebcb228c);\n        \n    \n        var popup_0946d55d33bb10cb10f7cff6dab994e4 = L.popup({\n  &quot;maxWidth&quot;: &quot;100%&quot;,\n});\n\n        \n            \n                var html_77955104f1fd6889ddf5938b71657e2b = $(`&lt;div id=&quot;html_77955104f1fd6889ddf5938b71657e2b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Score : 16.59&lt;/div&gt;`)[0];\n                popup_0946d55d33bb10cb10f7cff6dab994e4.setContent(html_77955104f1fd6889ddf5938b71657e2b);\n            \n        \n\n        marker_4688e94b9f1365087f197f73c99945c1.bindPopup(popup_0946d55d33bb10cb10f7cff6dab994e4)\n        ;\n\n        \n    \n&lt;/script&gt;\n&lt;/html&gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                },
                "metadata": {}
              },
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "- Score : 16.92 ‚Äì Actifs : 117\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "         Agriculteurs Artisans/Commer√ßants     Cadres Prof. interm√©diaires  \\\n% Actifs     9.401709            17.094017  21.367521            17.948718   \n\n           Employ√©s   Ouvriers  \n% Actifs  17.094017  17.094017  ",
                  "text/html": "\n  <div id=\"df-35c2f6d9-1d79-47d3-98b4-83c58c65baea\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Agriculteurs</th>\n      <th>Artisans/Commer√ßants</th>\n      <th>Cadres</th>\n      <th>Prof. interm√©diaires</th>\n      <th>Employ√©s</th>\n      <th>Ouvriers</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>% Actifs</th>\n      <td>9.401709</td>\n      <td>17.094017</td>\n      <td>21.367521</td>\n      <td>17.948718</td>\n      <td>17.094017</td>\n      <td>17.094017</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n    <div class=\"colab-df-buttons\">\n\n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-35c2f6d9-1d79-47d3-98b4-83c58c65baea')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n\n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-35c2f6d9-1d79-47d3-98b4-83c58c65baea button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-35c2f6d9-1d79-47d3-98b4-83c58c65baea');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n\n\n    </div>\n  </div>\n",
                  "application/vnd.google.colaboratory.intrinsic+json": {
                    "type": "dataframe",
                    "summary": "{\n  \"name\": \"run_button\",\n  \"rows\": 1,\n  \"fields\": [\n    {\n      \"column\": \"Agriculteurs\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 9.401709401709402,\n        \"max\": 9.401709401709402,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          9.401709401709402\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Artisans/Commer\\u00e7ants\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 17.094017094017094,\n        \"max\": 17.094017094017094,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          17.094017094017094\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Cadres\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 21.367521367521366,\n        \"max\": 21.367521367521366,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          21.367521367521366\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Prof. interm\\u00e9diaires\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 17.94871794871795,\n        \"max\": 17.94871794871795,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          17.94871794871795\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Employ\\u00e9s\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 17.094017094017094,\n        \"max\": 17.094017094017094,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          17.094017094017094\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Ouvriers\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 17.094017094017094,\n        \"max\": 17.094017094017094,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          17.094017094017094\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
                  }
                },
                "metadata": {}
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<folium.folium.Map at 0x79140e7806e0>",
                  "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    \n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n    \n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n            &lt;style&gt;\n                #map_af6f6ab5dad85222b80a021a6624045e {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            &lt;/style&gt;\n\n            &lt;style&gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            &lt;/style&gt;\n\n            &lt;style&gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            &lt;/style&gt;\n\n            &lt;script&gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            &lt;/script&gt;\n\n        \n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n            &lt;div class=&quot;folium-map&quot; id=&quot;map_af6f6ab5dad85222b80a021a6624045e&quot; &gt;&lt;/div&gt;\n        \n&lt;/body&gt;\n&lt;script&gt;\n    \n    \n            var map_af6f6ab5dad85222b80a021a6624045e = L.map(\n                &quot;map_af6f6ab5dad85222b80a021a6624045e&quot;,\n                {\n                    center: [45.63235677654519, 4.596846504201115],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  &quot;zoom&quot;: 13,\n  &quot;zoomControl&quot;: true,\n  &quot;preferCanvas&quot;: false,\n}\n\n                }\n            );\n\n            \n\n        \n    \n            var tile_layer_73ef666a7f25d1e4e62a6dd636dee6cc = L.tileLayer(\n                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n                {\n  &quot;minZoom&quot;: 0,\n  &quot;maxZoom&quot;: 19,\n  &quot;maxNativeZoom&quot;: 19,\n  &quot;noWrap&quot;: false,\n  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n  &quot;subdomains&quot;: &quot;abc&quot;,\n  &quot;detectRetina&quot;: false,\n  &quot;tms&quot;: false,\n  &quot;opacity&quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_73ef666a7f25d1e4e62a6dd636dee6cc.addTo(map_af6f6ab5dad85222b80a021a6624045e);\n        \n    \n        function geo_json_24721edbd1388910083170dd7d436e57_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.4};\n            }\n        }\n\n        function geo_json_24721edbd1388910083170dd7d436e57_onEachFeature(feature, layer) {\n\n            layer.on({\n            });\n        };\n        var geo_json_24721edbd1388910083170dd7d436e57 = L.geoJson(null, {\n                onEachFeature: geo_json_24721edbd1388910083170dd7d436e57_onEachFeature,\n            \n                style: geo_json_24721edbd1388910083170dd7d436e57_styler,\n            ...{\n}\n        });\n\n        function geo_json_24721edbd1388910083170dd7d436e57_add (data) {\n            geo_json_24721edbd1388910083170dd7d436e57\n                .addData(data);\n        }\n            geo_json_24721edbd1388910083170dd7d436e57_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.611548950303828, 45.626113387704336], [4.610828265185966, 45.62485826974504], [4.609826425164346, 45.62311450602505], [4.609364435468393, 45.62272031831933], [4.608382585148573, 45.62188322817144], [4.606925386621285, 45.61952539088098], [4.606724329762423, 45.61821329061656], [4.60648859026713, 45.617829370841164], [4.605939746412413, 45.61713738955822], [4.60545242473918, 45.61661925694247], [4.605069032706991, 45.61627707066264], [4.604341890748668, 45.61567589092844], [4.604127275627691, 45.615533043561086], [4.604127609841856, 45.61598787444614], [4.604128273879227, 45.616321110912814], [4.604391594715076, 45.617481015013055], [4.603808266806285, 45.61830068698075], [4.602558297458853, 45.61883832581246], [4.599984837522495, 45.61981344407239], [4.59859119207705, 45.62013317501768], [4.596526826575855, 45.62060651396464], [4.596167251828857, 45.620689072690986], [4.594896366952818, 45.621796897135205], [4.594442274097145, 45.62234192939601], [4.593022887932667, 45.624046273492446], [4.591887546877393, 45.625408832148345], [4.591427743458475, 45.62535499177179], [4.591186001653748, 45.62534039725924], [4.590643591838953, 45.62540480791419], [4.590503276782337, 45.625435612542155], [4.589626291217447, 45.62569478668732], [4.587557130437729, 45.62679966206247], [4.58569088883068, 45.627900192194545], [4.584495382991666, 45.62842500526222], [4.582861330696232, 45.62851825365872], [4.582788111940677, 45.628516581564014], [4.582827408072327, 45.62858898236235], [4.582835885133055, 45.628705949034796], [4.582818055243481, 45.62880076921738], [4.582651174831217, 45.628980546577985], [4.582277695393757, 45.62911819579382], [4.582140009825342, 45.62915165481633], [4.582014564718713, 45.62916422638972], [4.581775118090013, 45.62914057258455], [4.581464298862813, 45.62909000086378], [4.581287960837157, 45.62907356504976], [4.580658601036773, 45.62901665890796], [4.579575067840118, 45.62896882735029], [4.579294201658699, 45.62897817345089], [4.578958619806709, 45.62900449848082], [4.57810934612858, 45.62911368304253], [4.577888814134503, 45.629168113137254], [4.577719609851201, 45.629221823173545], [4.577290883103569, 45.62949352784763], [4.575964882526923, 45.630579387256994], [4.576768764165604, 45.63153543497733], [4.579639804078245, 45.63360226639925], [4.582468350305929, 45.635702049299525], [4.583296996186832, 45.636170447332155], [4.584525528633089, 45.63688359421104], [4.585728836054128, 45.63823925578065], [4.586759731881451, 45.63940099183049], [4.587996371221288, 45.64079579026884], [4.588067380482623, 45.64092133155143], [4.588126658077702, 45.641040733686395], [4.58873835479129, 45.64231194356703], [4.589641889478978, 45.644176169504945], [4.590248977552362, 45.64541861634741], [4.591104298370806, 45.64716552658733], [4.591151290758947, 45.64710271651808], [4.594034583481296, 45.64475261907029], [4.594672579824399, 45.64416625616201], [4.595448136093399, 45.643853543229056], [4.595631434889595, 45.64379780572874], [4.595939533723781, 45.643706073231115], [4.596778064342093, 45.643529359163075], [4.599870151871714, 45.64544349996885], [4.600234928607285, 45.645668885322586], [4.601208546706141, 45.645011964052784], [4.601980602774747, 45.64449030088961], [4.6029415525864, 45.643840749741834], [4.604765488848176, 45.64261957542372], [4.606482416810334, 45.64147465329663], [4.60794538574368, 45.64034143848219], [4.609575039354855, 45.63906981944068], [4.609666330655973, 45.638676723324025], [4.609807809985823, 45.638066749004054], [4.610245666456921, 45.636169082839466], [4.609434170885227, 45.63448743556934], [4.608849529619077, 45.63327719211786], [4.608244436424663, 45.63202490705907], [4.607773567649512, 45.631061617056154], [4.607147103537095, 45.62977900971433], [4.607490498402306, 45.629491295583904], [4.609589707359279, 45.627734710321825], [4.610994639682209, 45.62665091737941], [4.611400082594407, 45.62629114977762], [4.611548950303828, 45.626113387704336]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n\n        \n    \n            geo_json_24721edbd1388910083170dd7d436e57.addTo(map_af6f6ab5dad85222b80a021a6624045e);\n        \n    \n            var marker_3f872d42db461a06e9841e367c5ff3de = L.marker(\n                [45.63235677654519, 4.596846504201115],\n                {\n}\n            ).addTo(map_af6f6ab5dad85222b80a021a6624045e);\n        \n    \n        var popup_3965e5b210220c7fb49da9637b9342ad = L.popup({\n  &quot;maxWidth&quot;: &quot;100%&quot;,\n});\n\n        \n            \n                var html_8dc763aac14ecb07d68e8745e201cdc9 = $(`&lt;div id=&quot;html_8dc763aac14ecb07d68e8745e201cdc9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Score : 16.92&lt;/div&gt;`)[0];\n                popup_3965e5b210220c7fb49da9637b9342ad.setContent(html_8dc763aac14ecb07d68e8745e201cdc9);\n            \n        \n\n        marker_3f872d42db461a06e9841e367c5ff3de.bindPopup(popup_3965e5b210220c7fb49da9637b9342ad)\n        ;\n\n        \n    \n&lt;/script&gt;\n&lt;/html&gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                },
                "metadata": {}
              },
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "- Score : 16.99 ‚Äì Actifs : 612\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "         Agriculteurs Artisans/Commer√ßants     Cadres Prof. interm√©diaires  \\\n% Actifs     2.287582             13.72549  19.281046            22.222222   \n\n          Employ√©s   Ouvriers  \n% Actifs  22.54902  19.934641  ",
                  "text/html": "\n  <div id=\"df-a129ab4a-0e57-4866-9caa-b560716011bc\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Agriculteurs</th>\n      <th>Artisans/Commer√ßants</th>\n      <th>Cadres</th>\n      <th>Prof. interm√©diaires</th>\n      <th>Employ√©s</th>\n      <th>Ouvriers</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>% Actifs</th>\n      <td>2.287582</td>\n      <td>13.72549</td>\n      <td>19.281046</td>\n      <td>22.222222</td>\n      <td>22.54902</td>\n      <td>19.934641</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n    <div class=\"colab-df-buttons\">\n\n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a129ab4a-0e57-4866-9caa-b560716011bc')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n\n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-a129ab4a-0e57-4866-9caa-b560716011bc button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-a129ab4a-0e57-4866-9caa-b560716011bc');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n\n\n    </div>\n  </div>\n",
                  "application/vnd.google.colaboratory.intrinsic+json": {
                    "type": "dataframe",
                    "summary": "{\n  \"name\": \"run_button\",\n  \"rows\": 1,\n  \"fields\": [\n    {\n      \"column\": \"Agriculteurs\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 2.287581699346405,\n        \"max\": 2.287581699346405,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          2.287581699346405\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Artisans/Commer\\u00e7ants\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 13.725490196078432,\n        \"max\": 13.725490196078432,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          13.725490196078432\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Cadres\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 19.28104575163399,\n        \"max\": 19.28104575163399,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          19.28104575163399\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Prof. interm\\u00e9diaires\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 22.22222222222222,\n        \"max\": 22.22222222222222,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          22.22222222222222\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Employ\\u00e9s\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 22.54901960784314,\n        \"max\": 22.54901960784314,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          22.54901960784314\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Ouvriers\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 19.934640522875817,\n        \"max\": 19.934640522875817,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          19.934640522875817\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
                  }
                },
                "metadata": {}
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<folium.folium.Map at 0x79140e783710>",
                  "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    \n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n    \n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n            &lt;style&gt;\n                #map_77988b4cfab8817d00d0fbcb760f6479 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            &lt;/style&gt;\n\n            &lt;style&gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            &lt;/style&gt;\n\n            &lt;style&gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            &lt;/style&gt;\n\n            &lt;script&gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            &lt;/script&gt;\n\n        \n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n            &lt;div class=&quot;folium-map&quot; id=&quot;map_77988b4cfab8817d00d0fbcb760f6479&quot; &gt;&lt;/div&gt;\n        \n&lt;/body&gt;\n&lt;script&gt;\n    \n    \n            var map_77988b4cfab8817d00d0fbcb760f6479 = L.map(\n                &quot;map_77988b4cfab8817d00d0fbcb760f6479&quot;,\n                {\n                    center: [45.92197054725625, 4.5196429529652224],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  &quot;zoom&quot;: 13,\n  &quot;zoomControl&quot;: true,\n  &quot;preferCanvas&quot;: false,\n}\n\n                }\n            );\n\n            \n\n        \n    \n            var tile_layer_db7ceec315d6dbf463211aa9913e76a0 = L.tileLayer(\n                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n                {\n  &quot;minZoom&quot;: 0,\n  &quot;maxZoom&quot;: 19,\n  &quot;maxNativeZoom&quot;: 19,\n  &quot;noWrap&quot;: false,\n  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n  &quot;subdomains&quot;: &quot;abc&quot;,\n  &quot;detectRetina&quot;: false,\n  &quot;tms&quot;: false,\n  &quot;opacity&quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_db7ceec315d6dbf463211aa9913e76a0.addTo(map_77988b4cfab8817d00d0fbcb760f6479);\n        \n    \n        function geo_json_b3a3189cfd5c78692b6d188d975a1ddb_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.4};\n            }\n        }\n\n        function geo_json_b3a3189cfd5c78692b6d188d975a1ddb_onEachFeature(feature, layer) {\n\n            layer.on({\n            });\n        };\n        var geo_json_b3a3189cfd5c78692b6d188d975a1ddb = L.geoJson(null, {\n                onEachFeature: geo_json_b3a3189cfd5c78692b6d188d975a1ddb_onEachFeature,\n            \n                style: geo_json_b3a3189cfd5c78692b6d188d975a1ddb_styler,\n            ...{\n}\n        });\n\n        function geo_json_b3a3189cfd5c78692b6d188d975a1ddb_add (data) {\n            geo_json_b3a3189cfd5c78692b6d188d975a1ddb\n                .addData(data);\n        }\n            geo_json_b3a3189cfd5c78692b6d188d975a1ddb_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.561663384901527, 45.90986669629769], [4.561423433978056, 45.909731306181925], [4.559707537439536, 45.909279879286565], [4.557001072167862, 45.90842776063417], [4.556855073298775, 45.90837482972404], [4.556783274670851, 45.908345195334036], [4.555714608041042, 45.90686929556834], [4.555755464609196, 45.90680838883259], [4.557842693584703, 45.90379453176467], [4.559283786599566, 45.902009223481066], [4.55944978705797, 45.90158407073308], [4.559484000045905, 45.901471015399636], [4.559483149991646, 45.90139537098965], [4.55945914562518, 45.901230879728324], [4.559419991487839, 45.90116927355659], [4.558933848155132, 45.90085713984305], [4.55882799570749, 45.90080906229131], [4.558659745653051, 45.90078976541057], [4.558478804049463, 45.900777848536144], [4.558306185100075, 45.900786532049985], [4.557265167171205, 45.900879230676956], [4.557031082425853, 45.90090407000869], [4.556888307478542, 45.90096457915428], [4.556541425154156, 45.901152189846734], [4.556450408637792, 45.90121829066177], [4.553865301415475, 45.901451988147144], [4.552837396750526, 45.90136973620916], [4.550464414463201, 45.90079839939273], [4.548500085921587, 45.90067445318602], [4.546678171084134, 45.901028129544486], [4.545456251764205, 45.90138708809126], [4.545039406272435, 45.90217110529015], [4.544028909975657, 45.902610774359054], [4.543034548326768, 45.902851313833594], [4.542907635538779, 45.90288006536082], [4.542637326650963, 45.902901766252846], [4.542201194840448, 45.90289870803239], [4.541853717083917, 45.90288273081578], [4.541751361382698, 45.902867013671056], [4.541639550576841, 45.902836114036], [4.541562508291613, 45.902802939022045], [4.541483949913684, 45.90276167864442], [4.541411386377331, 45.90270412454748], [4.54128679231627, 45.90258513371871], [4.541032095128823, 45.90233461744584], [4.540963734475856, 45.902242780567555], [4.540904180497834, 45.9020967838078], [4.540891900848508, 45.90202669932898], [4.539960422220695, 45.90174757249549], [4.539194270122124, 45.90161389684863], [4.539031534637885, 45.901607105061984], [4.538659003632013, 45.90161757835514], [4.536941697937058, 45.90167785834589], [4.535694545618065, 45.90177520198029], [4.533688088746226, 45.90225342186719], [4.533484386999358, 45.902350753840025], [4.533375599586114, 45.90238195082208], [4.533057938132547, 45.90246371456924], [4.532769285154301, 45.90252166702112], [4.532685863024101, 45.90253720827276], [4.532669173585614, 45.9025401364511], [4.532543282420148, 45.90260578959042], [4.532365005524055, 45.902736099449925], [4.532246212188651, 45.90282507328742], [4.529065306269913, 45.90407231129977], [4.525456605290557, 45.90506403741314], [4.525170061563321, 45.90510572983853], [4.524742060551814, 45.905210573685515], [4.523952004841176, 45.90547250680335], [4.523319454052535, 45.90573861753291], [4.52290658005867, 45.90592430998132], [4.522337507307785, 45.90631700368406], [4.522086169244407, 45.90648926030844], [4.521639833990709, 45.90677176893495], [4.521265167567366, 45.90698666292503], [4.520618824017542, 45.90731508918681], [4.520258507173525, 45.90744242282939], [4.517836223457186, 45.90802886236653], [4.515749430753844, 45.908290119207685], [4.514035292894632, 45.90847384632165], [4.510687741662018, 45.90896330887074], [4.506788829541073, 45.9096748249213], [4.503601797165252, 45.910117580068466], [4.500697614213212, 45.910928012520976], [4.49916362559905, 45.91154909211169], [4.496773228580205, 45.912587681797795], [4.494564182758525, 45.913465308594056], [4.494269450275651, 45.913588088906614], [4.494232850176227, 45.913618293990886], [4.49399713587628, 45.91377632006891], [4.493769741527483, 45.9139081168025], [4.493634846663238, 45.91397744719653], [4.493301755031005, 45.914113340598824], [4.493214702989599, 45.9141388074713], [4.493041790962558, 45.91418612266266], [4.490960260920955, 45.91560689468166], [4.489866367679835, 45.91652735959262], [4.489434606625396, 45.91711937054396], [4.489606750359354, 45.91837981926723], [4.489827860744302, 45.919589636722975], [4.490232232996845, 45.921634647296685], [4.490507864284106, 45.92249744444231], [4.490598896286053, 45.92381119873352], [4.490151466416533, 45.925304972017635], [4.489899163889361, 45.9259018252894], [4.489261592985938, 45.92726209974278], [4.488063376401878, 45.92807944648754], [4.487081535267994, 45.92871380588034], [4.486738249468431, 45.92904975740212], [4.486537348272329, 45.92935321502041], [4.485739025000094, 45.93095515338107], [4.485682316012201, 45.931101803668334], [4.485689631010982, 45.931277334794046], [4.485756826399223, 45.931902405740345], [4.484313232367247, 45.934037884264946], [4.483390841517376, 45.93477635574588], [4.482805039078797, 45.93528358850652], [4.482404888283686, 45.93564804786903], [4.481711604968114, 45.936445450229485], [4.481068560447226, 45.93731644011974], [4.479134369724965, 45.93994281820587], [4.478880945887881, 45.940216325523366], [4.479153040298453, 45.94034966832585], [4.479642277118321, 45.941021462772866], [4.480813054561596, 45.94279394159383], [4.481282863614638, 45.94355785012365], [4.481577057415699, 45.9440799794992], [4.481784853710471, 45.94465367587995], [4.481867223310895, 45.94488406479842], [4.482072340959959, 45.945501927720876], [4.482430973820524, 45.9461150777086], [4.482613992531602, 45.94634324713429], [4.482892246590057, 45.946607995901005], [4.483230159644579, 45.946499092415834], [4.486499807444689, 45.9454222469787], [4.489757444718697, 45.94457422938727], [4.49253177453677, 45.94414138838365], [4.497066270709313, 45.94315877617083], [4.501514488049037, 45.94209516525645], [4.504911857964645, 45.94127367277933], [4.508394730698205, 45.9401838925088], [4.511696130056231, 45.938507397372916], [4.511789601176305, 45.93838546053323], [4.511936404741982, 45.93823128803048], [4.51222305264602, 45.93799869068687], [4.512434300453741, 45.937840954315526], [4.512591789994559, 45.9377469821832], [4.512811816690412, 45.93762695537265], [4.51297155977383, 45.937568078233745], [4.513597921545993, 45.93734354395322], [4.51412466316764, 45.93720500103211], [4.514646636647222, 45.93708092998153], [4.51511803216536, 45.93699536136677], [4.51865020167242, 45.9364463457026], [4.521025234481273, 45.936320777660974], [4.52597261088942, 45.93633072460473], [4.530492365698271, 45.93527895542877], [4.532409226080197, 45.93467478722867], [4.533400888229528, 45.93436143244912], [4.534046810979315, 45.934148226910104], [4.53553840517689, 45.93352545147611], [4.535917494007393, 45.93332576311885], [4.536289500938961, 45.933103653027594], [4.536556118451562, 45.93294421799333], [4.537459578657261, 45.93238614350981], [4.537921758200071, 45.93206553091591], [4.537860822470002, 45.93200961733729], [4.538036014061321, 45.93107234724185], [4.53811125013141, 45.93080833072724], [4.538302556239699, 45.93054093481777], [4.538457860894956, 45.93041723361618], [4.538836120755232, 45.93014279122544], [4.541527392958731, 45.927402812024354], [4.544439491031556, 45.92532173958753], [4.547090218006491, 45.923385118018835], [4.547412230366881, 45.92317896483682], [4.5478880857977, 45.92289054660633], [4.548253599696799, 45.92267118640892], [4.551165012143734, 45.920056298499716], [4.552978269049839, 45.919694570900354], [4.556039058556721, 45.91998395582135], [4.559861658395228, 45.92051494352542], [4.560063712811916, 45.92054097862465], [4.560320319340709, 45.92053383687497], [4.561444084162627, 45.920433668362705], [4.562247482387321, 45.92027666787646], [4.562377005114146, 45.92024785901239], [4.562055427645336, 45.92028472401794], [4.560506248061843, 45.919489198631304], [4.557934114309568, 45.918111953846136], [4.555703711484814, 45.91695061656135], [4.556597586433919, 45.914730855555774], [4.557642768768938, 45.91383103828256], [4.559390674892222, 45.91258204548834], [4.560454947187299, 45.912026966499496], [4.560995790420327, 45.91176101166556], [4.561171165005761, 45.91171175638711], [4.561688323696635, 45.90988166332189], [4.561663384901527, 45.90986669629769]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n\n        \n    \n            geo_json_b3a3189cfd5c78692b6d188d975a1ddb.addTo(map_77988b4cfab8817d00d0fbcb760f6479);\n        \n    \n            var marker_fcf8ffd48a1be966519baeca46454cd3 = L.marker(\n                [45.92197054725625, 4.5196429529652224],\n                {\n}\n            ).addTo(map_77988b4cfab8817d00d0fbcb760f6479);\n        \n    \n        var popup_6b1c4fdeccad37b6490e7731567d5d47 = L.popup({\n  &quot;maxWidth&quot;: &quot;100%&quot;,\n});\n\n        \n            \n                var html_0068521ca2f793e1220c6233e37239fc = $(`&lt;div id=&quot;html_0068521ca2f793e1220c6233e37239fc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Score : 16.99&lt;/div&gt;`)[0];\n                popup_6b1c4fdeccad37b6490e7731567d5d47.setContent(html_0068521ca2f793e1220c6233e37239fc);\n            \n        \n\n        marker_fcf8ffd48a1be966519baeca46454cd3.bindPopup(popup_6b1c4fdeccad37b6490e7731567d5d47)\n        ;\n\n        \n    \n&lt;/script&gt;\n&lt;/html&gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                },
                "metadata": {}
              },
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "- Score : 18.95 ‚Äì Actifs : 190\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "         Agriculteurs Artisans/Commer√ßants Cadres Prof. interm√©diaires  \\\n% Actifs         10.0             5.263158   20.0            23.684211   \n\n           Employ√©s   Ouvriers  \n% Actifs  15.263158  25.789474  ",
                  "text/html": "\n  <div id=\"df-2c5a0985-2029-4119-b4f1-0d453c287858\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Agriculteurs</th>\n      <th>Artisans/Commer√ßants</th>\n      <th>Cadres</th>\n      <th>Prof. interm√©diaires</th>\n      <th>Employ√©s</th>\n      <th>Ouvriers</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>% Actifs</th>\n      <td>10.0</td>\n      <td>5.263158</td>\n      <td>20.0</td>\n      <td>23.684211</td>\n      <td>15.263158</td>\n      <td>25.789474</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n    <div class=\"colab-df-buttons\">\n\n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-2c5a0985-2029-4119-b4f1-0d453c287858')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n\n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-2c5a0985-2029-4119-b4f1-0d453c287858 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-2c5a0985-2029-4119-b4f1-0d453c287858');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n\n\n    </div>\n  </div>\n",
                  "application/vnd.google.colaboratory.intrinsic+json": {
                    "type": "dataframe",
                    "summary": "{\n  \"name\": \"run_button\",\n  \"rows\": 1,\n  \"fields\": [\n    {\n      \"column\": \"Agriculteurs\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 10.0,\n        \"max\": 10.0,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          10.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Artisans/Commer\\u00e7ants\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 5.263157894736842,\n        \"max\": 5.263157894736842,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          5.263157894736842\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Cadres\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 20.0,\n        \"max\": 20.0,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          20.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Prof. interm\\u00e9diaires\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 23.684210526315788,\n        \"max\": 23.684210526315788,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          23.684210526315788\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Employ\\u00e9s\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 15.263157894736842,\n        \"max\": 15.263157894736842,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          15.263157894736842\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Ouvriers\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 25.789473684210527,\n        \"max\": 25.789473684210527,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          25.789473684210527\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
                  }
                },
                "metadata": {}
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<folium.folium.Map at 0x79140e7f75f0>",
                  "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    \n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n    \n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n            &lt;style&gt;\n                #map_e49c3783ae139f28fcc0036aecd2f313 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            &lt;/style&gt;\n\n            &lt;style&gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            &lt;/style&gt;\n\n            &lt;style&gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            &lt;/style&gt;\n\n            &lt;script&gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            &lt;/script&gt;\n\n        \n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n            &lt;div class=&quot;folium-map&quot; id=&quot;map_e49c3783ae139f28fcc0036aecd2f313&quot; &gt;&lt;/div&gt;\n        \n&lt;/body&gt;\n&lt;script&gt;\n    \n    \n            var map_e49c3783ae139f28fcc0036aecd2f313 = L.map(\n                &quot;map_e49c3783ae139f28fcc0036aecd2f313&quot;,\n                {\n                    center: [46.279230083553884, 4.660593166583832],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  &quot;zoom&quot;: 13,\n  &quot;zoomControl&quot;: true,\n  &quot;preferCanvas&quot;: false,\n}\n\n                }\n            );\n\n            \n\n        \n    \n            var tile_layer_2f9daf377153578221279d441c85ad7e = L.tileLayer(\n                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n                {\n  &quot;minZoom&quot;: 0,\n  &quot;maxZoom&quot;: 19,\n  &quot;maxNativeZoom&quot;: 19,\n  &quot;noWrap&quot;: false,\n  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n  &quot;subdomains&quot;: &quot;abc&quot;,\n  &quot;detectRetina&quot;: false,\n  &quot;tms&quot;: false,\n  &quot;opacity&quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_2f9daf377153578221279d441c85ad7e.addTo(map_e49c3783ae139f28fcc0036aecd2f313);\n        \n    \n        function geo_json_6ea9e761b81aedc11682c51685e61156_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.4};\n            }\n        }\n\n        function geo_json_6ea9e761b81aedc11682c51685e61156_onEachFeature(feature, layer) {\n\n            layer.on({\n            });\n        };\n        var geo_json_6ea9e761b81aedc11682c51685e61156 = L.geoJson(null, {\n                onEachFeature: geo_json_6ea9e761b81aedc11682c51685e61156_onEachFeature,\n            \n                style: geo_json_6ea9e761b81aedc11682c51685e61156_styler,\n            ...{\n}\n        });\n\n        function geo_json_6ea9e761b81aedc11682c51685e61156_add (data) {\n            geo_json_6ea9e761b81aedc11682c51685e61156\n                .addData(data);\n        }\n            geo_json_6ea9e761b81aedc11682c51685e61156_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.673477997686864, 46.25576214069212], [4.673407168962319, 46.25599375649952], [4.673310502492915, 46.256144690800234], [4.67294083484172, 46.25658245191318], [4.672608013507232, 46.256908886493115], [4.671638043466768, 46.25775896816809], [4.669647162068932, 46.25996333258895], [4.669405646938476, 46.260474858498036], [4.66824299537951, 46.26112057870718], [4.666093797492053, 46.26118177923023], [4.66323437639068, 46.260754343168784], [4.662154300100231, 46.26059358717266], [4.660100086515918, 46.26046774809963], [4.659864670633953, 46.26028384033294], [4.659601153437626, 46.26007242082057], [4.659473166695464, 46.25996260280567], [4.659411523894871, 46.25989955338047], [4.658894346916266, 46.25928742582565], [4.657252156892566, 46.25728482394272], [4.655954859454207, 46.255305103242236], [4.655804070495425, 46.25465520679557], [4.655242303395021, 46.25454088609395], [4.653136122731652, 46.25468543320788], [4.650616374386605, 46.255281774339956], [4.646402612680763, 46.25522481816296], [4.643529058947188, 46.25465659290384], [4.64337312983756, 46.254652539760556], [4.643194837902992, 46.25472536657244], [4.642669562272922, 46.25483112247987], [4.64171875237755, 46.25499165120729], [4.640883811370582, 46.25494604858011], [4.640720933919399, 46.25492678051927], [4.64055997805346, 46.254884967690984], [4.640401213624573, 46.2548296129514], [4.640048351359245, 46.254666272243355], [4.63967070170007, 46.254455551886174], [4.639494802333525, 46.25434820371398], [4.639317551936197, 46.2542390733919], [4.638030372801226, 46.253875720678366], [4.636639958575583, 46.253663349896385], [4.635274079012203, 46.25453321791568], [4.634622666231768, 46.25502443507195], [4.630305473957304, 46.25739343281995], [4.625429592666273, 46.2584669570571], [4.62533073624072, 46.25846116336236], [4.623145570118798, 46.2583356290068], [4.622101120305888, 46.25840726053778], [4.619867831486205, 46.25893713506006], [4.619635041836085, 46.259583524832934], [4.619180454210508, 46.261910587274215], [4.618494650693795, 46.26449397415336], [4.618324116284379, 46.26483144693779], [4.618328314619219, 46.264929560000226], [4.618334145551643, 46.26495109312363], [4.618497248716348, 46.26510909308427], [4.618734782026145, 46.26536871055913], [4.619270459863456, 46.266005069409175], [4.620288023663363, 46.26730196294372], [4.620966693820982, 46.26838030815112], [4.621852901954711, 46.2699312457686], [4.621957352740531, 46.270125202633615], [4.62199464467305, 46.2702003274314], [4.622017665062508, 46.27031978827087], [4.622021310339792, 46.27039899510006], [4.622023844111194, 46.270484522438984], [4.622023781454867, 46.27057008676925], [4.622015696801542, 46.27095478707846], [4.621931859663883, 46.27152250145225], [4.621689507225605, 46.27309671795835], [4.621395841450768, 46.27401327647305], [4.620914344079791, 46.27514461530155], [4.620562603154218, 46.27701805576959], [4.620534685344267, 46.27793983522959], [4.619887398312297, 46.279220786876195], [4.619640252139542, 46.279428753839035], [4.619606020278315, 46.27945716140587], [4.618798534060376, 46.279993542685034], [4.618550905142794, 46.28010443175572], [4.61706467603204, 46.28075781501253], [4.616917161283065, 46.280821155041345], [4.616868191984861, 46.28083445969972], [4.616876567780399, 46.28085415541256], [4.617815908912888, 46.28235393197824], [4.618824301307982, 46.282453084968935], [4.618979754831428, 46.28248239823651], [4.61905825073422, 46.28250109685272], [4.619123761668972, 46.28251998004514], [4.619811183214264, 46.28274707894835], [4.619912447119128, 46.28278887043566], [4.620030938177926, 46.282842125413474], [4.620201110633245, 46.28292977094018], [4.620494337485008, 46.28309312244964], [4.622767518794945, 46.284379777540764], [4.624735130455027, 46.28606929376162], [4.625746933493288, 46.28713340276157], [4.626972438496995, 46.28837053089836], [4.629250863885341, 46.28883872963763], [4.629629938043787, 46.288916167429406], [4.631730475842683, 46.289342729726364], [4.632965417857616, 46.28958352114787], [4.634498206986213, 46.289921800666825], [4.63580445209957, 46.29106941280246], [4.636393997556445, 46.292883898027746], [4.636277530801877, 46.29470312124706], [4.636066665123247, 46.29506011320843], [4.635926514729588, 46.29532692287273], [4.635576104721535, 46.29607996049574], [4.635248980101492, 46.29700378954161], [4.6350514215107, 46.29761097405488], [4.634987819511592, 46.29783074940422], [4.634935799200575, 46.29804675579593], [4.634925231275838, 46.2981279676203], [4.634855485484452, 46.29879456244971], [4.634850954485967, 46.298860376253536], [4.634851565228541, 46.29892431492368], [4.634859200474196, 46.29904939820491], [4.634882729531318, 46.299271525519664], [4.634896213851096, 46.29937490881188], [4.634902297046998, 46.29940454354746], [4.634944814499524, 46.299522821480736], [4.634987009350606, 46.29963029601288], [4.635142513005675, 46.30000724515114], [4.63521963720834, 46.300152946922836], [4.635259815317923, 46.30019290020665], [4.635477142667205, 46.30033388700406], [4.636314817729184, 46.30079560843079], [4.636768247095472, 46.30100975783476], [4.63709869692726, 46.301152718819345], [4.637632693732447, 46.30136660761973], [4.637763423337405, 46.30139264886615], [4.638783591801954, 46.30152478592909], [4.638977781976317, 46.3015436081311], [4.639451820813989, 46.30149085254239], [4.640111996633302, 46.30131832813176], [4.643182031042822, 46.301619941435554], [4.645814054914814, 46.30196112649612], [4.647260489381731, 46.30243829020388], [4.648199228502857, 46.302756158567185], [4.649693367573535, 46.30360728093676], [4.650037942739432, 46.30378602735605], [4.650595669401228, 46.304008519433104], [4.651490332333782, 46.30424233679666], [4.651713957134273, 46.30428863158339], [4.651852412931454, 46.30431184281452], [4.652157272054764, 46.30429391176751], [4.652481371384003, 46.30426759476146], [4.652811040827383, 46.30421057317058], [4.654259905807928, 46.3036464373163], [4.654723252630967, 46.30341183769473], [4.657873037024395, 46.301170199596505], [4.659034437345281, 46.299358247843166], [4.659035124526791, 46.29929519066703], [4.659055567927109, 46.299240852482], [4.659077228286338, 46.29918379454565], [4.659102676067151, 46.299123078743484], [4.659134263352427, 46.29905056474812], [4.659188984706381, 46.29896960770407], [4.659235077814143, 46.29890408777195], [4.659685169345668, 46.29836298052253], [4.661478755553291, 46.29666292882971], [4.661558558671551, 46.296595114792396], [4.662109149674468, 46.29615565838212], [4.662834207640413, 46.295642498904456], [4.663423368739051, 46.2952970436113], [4.663987607934528, 46.29520053566425], [4.664161472307588, 46.295320487346764], [4.664656260766253, 46.29569604409943], [4.668568012242524, 46.29742124484213], [4.672446844939239, 46.29924339361184], [4.67558689916093, 46.30033052598041], [4.67603726697608, 46.30243373780286], [4.676109079376412, 46.303505388181414], [4.676212808602044, 46.30428249761461], [4.676507310862802, 46.30492349928642], [4.677212427182032, 46.30539658070323], [4.678554224167812, 46.306111073669996], [4.680326927910451, 46.305730523359244], [4.681418897925034, 46.30464035228703], [4.682751391769862, 46.30342817793517], [4.683925556369746, 46.30268938297606], [4.685343393245637, 46.30222618127023], [4.686389019749469, 46.30199904659065], [4.690297824962443, 46.30131964258763], [4.691372145842235, 46.301307298665165], [4.691661378691506, 46.30137325687292], [4.692207348312707, 46.30188303946265], [4.692509762979582, 46.30216496334906], [4.693506181907495, 46.302448279953815], [4.693482696063048, 46.30236126296592], [4.693105344333704, 46.301085652303435], [4.692757723051668, 46.300119433243], [4.692691820116691, 46.299396264315895], [4.692676748457551, 46.29853093287967], [4.692828761384691, 46.29756404324413], [4.692872888907202, 46.297310295714084], [4.693174598920112, 46.29626822510943], [4.693299764547059, 46.295861957989736], [4.693341639258632, 46.29578747948466], [4.693476058342497, 46.29559633766937], [4.693579121350298, 46.29544168922377], [4.693801327852412, 46.295022269599926], [4.693874924255078, 46.294839237203405], [4.693886173404842, 46.29474089549136], [4.693925657124971, 46.294295371005994], [4.693946048119207, 46.294072599092175], [4.6939907528414, 46.293837756669376], [4.694023874129869, 46.29369045274154], [4.694091709931681, 46.29357325567183], [4.694717843050748, 46.29256148046724], [4.695513908305379, 46.29200291747343], [4.696584454410518, 46.29176991034875], [4.697406899571209, 46.29158112172698], [4.697699579800767, 46.291508307309435], [4.697986149819373, 46.2914270267265], [4.698304040712602, 46.291308350314274], [4.698404192560895, 46.291269928775776], [4.698580588717283, 46.29117632899377], [4.699143928394069, 46.290823864377046], [4.699350148167027, 46.290686585553054], [4.699743328361259, 46.29041951965065], [4.699733416998965, 46.28949376380098], [4.699905520657005, 46.2887184075528], [4.700080839322043, 46.28831858850175], [4.700605932133844, 46.28761451907481], [4.701258233679182, 46.28674011853202], [4.703875749474858, 46.28426733165751], [4.705133780284013, 46.283760572910666], [4.706884784256265, 46.283984487324595], [4.70698504986655, 46.28415861833562], [4.70709183676515, 46.28433355219187], [4.70721584204041, 46.28451903606294], [4.707341125382152, 46.28466216835802], [4.70741896711028, 46.28474206307958], [4.707483718145392, 46.284777119685984], [4.707517205606115, 46.28472617908976], [4.707560575657803, 46.284658877927555], [4.707588875487033, 46.28456658349143], [4.70764479799966, 46.28348582105844], [4.70762447621616, 46.28329247806072], [4.70758726767027, 46.28314081989647], [4.707552228413546, 46.283017050494394], [4.70746541726956, 46.2827328343861], [4.708345812488679, 46.279806806259835], [4.709065708719158, 46.27854677027706], [4.709404237579725, 46.27734375215632], [4.708489076387084, 46.27494904806708], [4.708073650258803, 46.27233337780055], [4.707770936831825, 46.270165458720804], [4.707707285321972, 46.269707062427166], [4.706795513739326, 46.270081010938924], [4.705511911004385, 46.27061003708058], [4.703991589762714, 46.27025271244182], [4.70330595952554, 46.269755885604624], [4.702943756715415, 46.269468580814284], [4.701290740602826, 46.26805760052811], [4.700735233328645, 46.267441724875574], [4.700611117459549, 46.26745979142604], [4.700229698325932, 46.267556458023506], [4.70008026255605, 46.2675956179397], [4.699929556401851, 46.26763569731323], [4.69976612033609, 46.26768407273648], [4.699305222475564, 46.267898111430156], [4.698948500300355, 46.268142117573795], [4.696980122148851, 46.269803068702956], [4.69569652791386, 46.270974621802004], [4.695599884224674, 46.27108324277329], [4.695181873817508, 46.271425423267175], [4.694867111883903, 46.2715787226247], [4.693765131435165, 46.27164375945946], [4.693411848893327, 46.27164361069503], [4.693311217801806, 46.27162349102408], [4.692601386713954, 46.27147552587288], [4.69249407034388, 46.27144920008731], [4.692342465972247, 46.271376696950846], [4.69089201488752, 46.27049263928993], [4.690215254165095, 46.26999602519729], [4.689356982748525, 46.26932964864586], [4.688933417452906, 46.268482084880574], [4.688722379337015, 46.26776646980871], [4.688712068409776, 46.26677947309105], [4.688725007893723, 46.26669371615761], [4.688723085142423, 46.26658926532888], [4.688695422561939, 46.26649240180359], [4.68864354048967, 46.266410308485305], [4.688551778567373, 46.2663405155804], [4.68723006991935, 46.26555129871537], [4.684598786108866, 46.26592532210254], [4.68433301425027, 46.26598239507005], [4.683676495299911, 46.26612901081007], [4.68352730071443, 46.266176251466575], [4.68242786199482, 46.26657439497884], [4.68235489362687, 46.266608798613255], [4.679897004874137, 46.26785381083004], [4.679769124872358, 46.267918745541685], [4.677381054902011, 46.26788550549759], [4.676839927746066, 46.26785745013515], [4.676630611931972, 46.26759573286323], [4.675937256378964, 46.26666743287807], [4.673988043136063, 46.26391030740889], [4.673695090564637, 46.26052895593267], [4.673610939492364, 46.259347599121014], [4.67350805845398, 46.25657591457983], [4.673477997686864, 46.25576214069212]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n\n        \n    \n            geo_json_6ea9e761b81aedc11682c51685e61156.addTo(map_e49c3783ae139f28fcc0036aecd2f313);\n        \n    \n            var marker_513ab09f5542e3715d1ba532a9e13f1f = L.marker(\n                [46.279230083553884, 4.660593166583832],\n                {\n}\n            ).addTo(map_e49c3783ae139f28fcc0036aecd2f313);\n        \n    \n        var popup_1c05f38be4d3f432eb8b169491a793ca = L.popup({\n  &quot;maxWidth&quot;: &quot;100%&quot;,\n});\n\n        \n            \n                var html_7bfb6ed18cb1b515e52fc0aa28a1223d = $(`&lt;div id=&quot;html_7bfb6ed18cb1b515e52fc0aa28a1223d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Score : 18.95&lt;/div&gt;`)[0];\n                popup_1c05f38be4d3f432eb8b169491a793ca.setContent(html_7bfb6ed18cb1b515e52fc0aa28a1223d);\n            \n        \n\n        marker_513ab09f5542e3715d1ba532a9e13f1f.bindPopup(popup_1c05f38be4d3f432eb8b169491a793ca)\n        ;\n\n        \n    \n&lt;/script&gt;\n&lt;/html&gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                },
                "metadata": {}
              },
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "- Score : 19.13 ‚Äì Actifs : 437\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "         Agriculteurs Artisans/Commer√ßants     Cadres Prof. interm√©diaires  \\\n% Actifs      7.78032             8.924485  13.729977            28.146453   \n\n           Employ√©s Ouvriers  \n% Actifs  21.281465  20.1373  ",
                  "text/html": "\n  <div id=\"df-66c25939-3766-4831-bcd8-41db994e7577\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Agriculteurs</th>\n      <th>Artisans/Commer√ßants</th>\n      <th>Cadres</th>\n      <th>Prof. interm√©diaires</th>\n      <th>Employ√©s</th>\n      <th>Ouvriers</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>% Actifs</th>\n      <td>7.78032</td>\n      <td>8.924485</td>\n      <td>13.729977</td>\n      <td>28.146453</td>\n      <td>21.281465</td>\n      <td>20.1373</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n    <div class=\"colab-df-buttons\">\n\n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-66c25939-3766-4831-bcd8-41db994e7577')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n\n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-66c25939-3766-4831-bcd8-41db994e7577 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-66c25939-3766-4831-bcd8-41db994e7577');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n\n\n    </div>\n  </div>\n",
                  "application/vnd.google.colaboratory.intrinsic+json": {
                    "type": "dataframe",
                    "summary": "{\n  \"name\": \"run_button\",\n  \"rows\": 1,\n  \"fields\": [\n    {\n      \"column\": \"Agriculteurs\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 7.780320366132723,\n        \"max\": 7.780320366132723,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          7.780320366132723\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Artisans/Commer\\u00e7ants\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 8.924485125858125,\n        \"max\": 8.924485125858125,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          8.924485125858125\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Cadres\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 13.729977116704806,\n        \"max\": 13.729977116704806,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          13.729977116704806\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Prof. interm\\u00e9diaires\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 28.14645308924485,\n        \"max\": 28.14645308924485,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          28.14645308924485\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Employ\\u00e9s\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 21.28146453089245,\n        \"max\": 21.28146453089245,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          21.28146453089245\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Ouvriers\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 20.137299771167047,\n        \"max\": 20.137299771167047,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          20.137299771167047\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
                  }
                },
                "metadata": {}
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<folium.folium.Map at 0x79140e7f7aa0>",
                  "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    \n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n    \n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n            &lt;style&gt;\n                #map_c502e3e70d37da19eeb0d9e75b467317 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            &lt;/style&gt;\n\n            &lt;style&gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            &lt;/style&gt;\n\n            &lt;style&gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            &lt;/style&gt;\n\n            &lt;script&gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            &lt;/script&gt;\n\n        \n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n            &lt;div class=&quot;folium-map&quot; id=&quot;map_c502e3e70d37da19eeb0d9e75b467317&quot; &gt;&lt;/div&gt;\n        \n&lt;/body&gt;\n&lt;script&gt;\n    \n    \n            var map_c502e3e70d37da19eeb0d9e75b467317 = L.map(\n                &quot;map_c502e3e70d37da19eeb0d9e75b467317&quot;,\n                {\n                    center: [45.77423176193451, 4.379574439829842],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  &quot;zoom&quot;: 13,\n  &quot;zoomControl&quot;: true,\n  &quot;preferCanvas&quot;: false,\n}\n\n                }\n            );\n\n            \n\n        \n    \n            var tile_layer_d2e3a70840ae1761ff31bcce460dd7e5 = L.tileLayer(\n                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n                {\n  &quot;minZoom&quot;: 0,\n  &quot;maxZoom&quot;: 19,\n  &quot;maxNativeZoom&quot;: 19,\n  &quot;noWrap&quot;: false,\n  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n  &quot;subdomains&quot;: &quot;abc&quot;,\n  &quot;detectRetina&quot;: false,\n  &quot;tms&quot;: false,\n  &quot;opacity&quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_d2e3a70840ae1761ff31bcce460dd7e5.addTo(map_c502e3e70d37da19eeb0d9e75b467317);\n        \n    \n        function geo_json_e7aa88d1b5ccde41d889a40961cfcf95_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.4};\n            }\n        }\n\n        function geo_json_e7aa88d1b5ccde41d889a40961cfcf95_onEachFeature(feature, layer) {\n\n            layer.on({\n            });\n        };\n        var geo_json_e7aa88d1b5ccde41d889a40961cfcf95 = L.geoJson(null, {\n                onEachFeature: geo_json_e7aa88d1b5ccde41d889a40961cfcf95_onEachFeature,\n            \n                style: geo_json_e7aa88d1b5ccde41d889a40961cfcf95_styler,\n            ...{\n}\n        });\n\n        function geo_json_e7aa88d1b5ccde41d889a40961cfcf95_add (data) {\n            geo_json_e7aa88d1b5ccde41d889a40961cfcf95\n                .addData(data);\n        }\n            geo_json_e7aa88d1b5ccde41d889a40961cfcf95_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.406603385708568, 45.77156181255289], [4.406557828890604, 45.77154166598407], [4.406315572327413, 45.77142850442267], [4.402530496002059, 45.76962437422672], [4.400601351770221, 45.76868331460194], [4.397737517808298, 45.76673114189094], [4.396133178680058, 45.7656252210648], [4.393724910721544, 45.76356013672092], [4.392617932534309, 45.76262724721592], [4.392149503622262, 45.76109295431669], [4.392024386140048, 45.7597679655323], [4.391421760227986, 45.75830368126001], [4.390590122759548, 45.757007125750995], [4.390775920411746, 45.755391810158656], [4.390810819984319, 45.75509147069728], [4.390767089765871, 45.75509200992853], [4.388920947470254, 45.755019292452076], [4.386291772240908, 45.754863407218586], [4.38529311024372, 45.75474958961999], [4.382019926279709, 45.7535603892708], [4.379453004512994, 45.75153928795167], [4.375692012836831, 45.749965903051844], [4.374377480764851, 45.74987160370035], [4.371696649270304, 45.749358913933875], [4.370142754018334, 45.74905267784873], [4.369547468638335, 45.74891040496555], [4.364997623629241, 45.74944199509456], [4.362453618063578, 45.75040490131151], [4.360507169611157, 45.750926442609725], [4.360195223639328, 45.75100585747711], [4.359908644313489, 45.751070555659666], [4.359177802403462, 45.751222564523076], [4.359242302897869, 45.75133436487497], [4.360151176136853, 45.75256176242161], [4.360384579805702, 45.75300205333334], [4.360518021850766, 45.75345795962729], [4.360596050875575, 45.75385779510197], [4.360785127577524, 45.755110080463446], [4.360834421499413, 45.75544001401827], [4.360837879791041, 45.755580469332536], [4.360800151817912, 45.756347353893496], [4.360031354163855, 45.75699876999392], [4.358746856875135, 45.75729434410256], [4.356789265243616, 45.757530455357866], [4.355623015651559, 45.758609012137356], [4.355294872284469, 45.76054839023361], [4.353815116718751, 45.76285733941344], [4.351512329517295, 45.76419410366874], [4.35004837351847, 45.76515763564967], [4.349373842434441, 45.76783514466332], [4.349043147830204, 45.769273337796115], [4.349087529666399, 45.77076108203307], [4.349459453761648, 45.771182627589], [4.34955042612225, 45.77127160149986], [4.350426258229271, 45.772564319945694], [4.353481984175148, 45.77428976992821], [4.356231668802818, 45.77507496665756], [4.358838712726765, 45.77631077563694], [4.358485889065456, 45.77729850395695], [4.358054608710241, 45.77787018712906], [4.357235006103009, 45.77885091952157], [4.356626382636326, 45.78087653314881], [4.356377187158087, 45.781893629547994], [4.356788894437458, 45.78225253159541], [4.357234555213314, 45.78257860143386], [4.358668457187021, 45.78362318066136], [4.360047567957086, 45.780610194925295], [4.360257537868217, 45.77930986620757], [4.361462325701273, 45.77887319884938], [4.363610837649679, 45.77916582112989], [4.368078208428477, 45.78050438627023], [4.369941863396528, 45.78091470233275], [4.374589443242558, 45.781698976506085], [4.375754977174588, 45.781957153340606], [4.377400711342977, 45.78312050043979], [4.378931274754342, 45.78456622741363], [4.378722396959477, 45.7849393875131], [4.378332057277888, 45.78564979686182], [4.378181693393857, 45.78609834416935], [4.377996673586896, 45.78700258129668], [4.377940112872581, 45.78854109229708], [4.377968421822874, 45.78874699021747], [4.378036200423471, 45.788935294293715], [4.378351374970231, 45.78928719314288], [4.378219530436797, 45.790787896961355], [4.377885260886638, 45.792638263798324], [4.376800848327151, 45.79396596217614], [4.375344223510685, 45.79523919457052], [4.374062585035193, 45.798528581321925], [4.373471071811547, 45.79985294967067], [4.373102590752847, 45.801191707300674], [4.373986715846539, 45.80407015975256], [4.374944170273967, 45.80528695754401], [4.377115243535975, 45.80569729876353], [4.379979766437515, 45.807213651358005], [4.38279089231, 45.80561441244695], [4.383197846737168, 45.80525547998928], [4.38388570069179, 45.80472378471746], [4.384473896655315, 45.80427526457318], [4.385583570696941, 45.80369695571684], [4.386458011611812, 45.803341278530375], [4.386640447580956, 45.80332462768212], [4.387939090848517, 45.80283763928272], [4.387924387496725, 45.80281620495258], [4.387861912246015, 45.802431053350695], [4.387820118639535, 45.80192091029934], [4.387952948831507, 45.7999820233855], [4.388598626501414, 45.79828945507332], [4.390012753497081, 45.79779201422092], [4.391480925315006, 45.79678323194159], [4.392647717098211, 45.795925852205265], [4.393069692698591, 45.79496822853615], [4.394266414882378, 45.79325891591918], [4.396143910255405, 45.79192348829759], [4.397412338126935, 45.79127374638361], [4.398170234243968, 45.79202089005102], [4.398369345017295, 45.792410197828445], [4.39819269013842, 45.79331481879652], [4.398288001756898, 45.7933163399325], [4.398482896574258, 45.79333554039802], [4.398852128988406, 45.79342643172337], [4.399356587135136, 45.79356968326066], [4.399468895461601, 45.793632235611916], [4.401558351417616, 45.79111915828246], [4.403681822877914, 45.7872097487909], [4.403368207290774, 45.78601310673114], [4.403225812655394, 45.78532319211163], [4.40320916399384, 45.785225230254525], [4.403208666934831, 45.78515498715122], [4.403713566899942, 45.78334249067776], [4.405074984324234, 45.782513627745054], [4.406239836555296, 45.78134720896324], [4.408038942548602, 45.77885704084681], [4.408366042212685, 45.77739933765825], [4.406575740710384, 45.77588519099354], [4.405867327011396, 45.77501546277624], [4.40555887390089, 45.77401013842038], [4.406522372004662, 45.771665494594274], [4.406603385708568, 45.77156181255289]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n\n        \n    \n            geo_json_e7aa88d1b5ccde41d889a40961cfcf95.addTo(map_c502e3e70d37da19eeb0d9e75b467317);\n        \n    \n            var marker_487e2a5c13786d2fe7797b7fccd3071a = L.marker(\n                [45.77423176193451, 4.379574439829842],\n                {\n}\n            ).addTo(map_c502e3e70d37da19eeb0d9e75b467317);\n        \n    \n        var popup_650b2e481c2b07e310d1047bdd23cffc = L.popup({\n  &quot;maxWidth&quot;: &quot;100%&quot;,\n});\n\n        \n            \n                var html_b50a22bef6d71737894e9cf4f397a466 = $(`&lt;div id=&quot;html_b50a22bef6d71737894e9cf4f397a466&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Score : 19.13&lt;/div&gt;`)[0];\n                popup_650b2e481c2b07e310d1047bdd23cffc.setContent(html_b50a22bef6d71737894e9cf4f397a466);\n            \n        \n\n        marker_487e2a5c13786d2fe7797b7fccd3071a.bindPopup(popup_650b2e481c2b07e310d1047bdd23cffc)\n        ;\n\n        \n    \n&lt;/script&gt;\n&lt;/html&gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                },
                "metadata": {}
              }
            ]
          }
        },
        "2de40967e76141b8a4b5052d9adf0985": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "048444641064425587d209a32f3d7d41": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "65940292ddac4c258ae5735fbd3bc0b5": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "e7b66f96c9f7460c98ec3be98bd55bfb": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "312556e9cd794bd587df0d54b9e1757b": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "0e34eb38be7b406e94c3cc7210068288": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "316d34f337234436a9cb32becee16869": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "da029311cfc84a9cba5291e90be886d9": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "67caef1e4d274cd7a61f3441e406bcc3": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "6a788bd5a7f346808c28e971bd524298": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "157b7a1171984376bc1d46a6fd855610": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "button_color": null,
            "font_weight": ""
          }
        },
        "16625a940f9f48dcbb1559810475e87b": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "c2411be1d56a43a59ab7ca17568501e3": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "VBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "VBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "VBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_1bee9d65db264865b7ca28fcab894825",
              "IPY_MODEL_ffaa2ca05a1a49449fb730efe7c5c1fa",
              "IPY_MODEL_1b7a45008abc40618fd5b97a670711f7",
              "IPY_MODEL_30d8e75d984140e39aa4f1db031ce2de",
              "IPY_MODEL_085e73281eb44ddfb1acf962f983870c",
              "IPY_MODEL_39336c6ead9142d788cddc83d0183e9c",
              "IPY_MODEL_97141288cc0b4c5ba567d5ea1c5f2c18",
              "IPY_MODEL_3431009325fb4630918c9db4d30d87cd",
              "IPY_MODEL_c8d31407ee234b0583a7b4760097f946",
              "IPY_MODEL_74e02a4c879040208a2708f3f4dc2e0d"
            ],
            "layout": "IPY_MODEL_64f9d3dca3fd46d6918ab807597377ea"
          }
        },
        "1bee9d65db264865b7ca28fcab894825": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_dc8ab22db85e49b6badc9b59acc2d854",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_f90ba32856474948ac694a01f4485cb0",
            "value": "<h3>üîç Comparaison entre IRIS selon une r√©partition CSP cible</h3>"
          }
        },
        "ffaa2ca05a1a49449fb730efe7c5c1fa": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_7b7486f58e094745953498e19db7c37a",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_48fd476fe83d4c8d8bae82d07f6942cf",
            "value": "<b>D√©finissez votre r√©partition cible :</b>"
          }
        },
        "1b7a45008abc40618fd5b97a670711f7": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Cadres",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_1244b382e282459b9fc820cf16440d21",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_36baaaf10a9b4031980ffcca736eabe2",
            "value": 42
          }
        },
        "30d8e75d984140e39aa4f1db031ce2de": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Employ√©s",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_b12f228823a140c090eacbadce8703bf",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_70c6734e7987412cb41413359ca7735d",
            "value": 20
          }
        },
        "085e73281eb44ddfb1acf962f983870c": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Ouvriers",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_833cfd67f0dd40e89ab271de3a938fed",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_5a2cf17f902d41c392e03b772e0155b1",
            "value": 20
          }
        },
        "39336c6ead9142d788cddc83d0183e9c": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Interm√©diaires",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_0e156fc77cb948e090c30e9debfb9e49",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_7378e17073564b51988eaa5faa649e8e",
            "value": 20
          }
        },
        "97141288cc0b4c5ba567d5ea1c5f2c18": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Artisans",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_a47677f039f34d74aeba696aeeb3368f",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_e915dd2144cc4e4c9995d10055a0d35e",
            "value": 10
          }
        },
        "3431009325fb4630918c9db4d30d87cd": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Agriculteurs",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_58eaa2fd81e9411fa947afca09bb05a4",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_ba98c7c32d9341da99e7e341ce8cbf1a",
            "value": 10
          }
        },
        "c8d31407ee234b0583a7b4760097f946": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ButtonView",
            "button_style": "success",
            "description": "Comparer les IRIS",
            "disabled": false,
            "icon": "",
            "layout": "IPY_MODEL_5053e6b19c4f408392af71a30ed4f7e2",
            "style": "IPY_MODEL_2150f75479b5478ead6cc736bed49579",
            "tooltip": ""
          }
        },
        "74e02a4c879040208a2708f3f4dc2e0d": {
          "model_module": "@jupyter-widgets/output",
          "model_name": "OutputModel",
          "model_module_version": "1.0.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/output",
            "_model_module_version": "1.0.0",
            "_model_name": "OutputModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/output",
            "_view_module_version": "1.0.0",
            "_view_name": "OutputView",
            "layout": "IPY_MODEL_1811340698194cd4b85bddbc6bc3ece2",
            "msg_id": "",
            "outputs": [
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "üéØ R√©partition cible : {'Cadres': 34.43, 'Employ√©s': 16.39, 'Ouvriers': 16.39, 'Prof. interm√©diaires': 16.39, 'Artisans/Commer√ßants': 8.2, 'Agriculteurs': 8.2}\n",
                  "üìç Communes s√©lectionn√©es : Aigueperse ‚Äî Dur√©e max : 5 min (~400 m)\n"
                ]
              },
              {
                "output_type": "stream",
                "name": "stderr",
                "text": [
                  "/tmp/ipython-input-2602217195.py:86: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n",
                  "  center = df_zone.unary_union.centroid\n",
                  "/tmp/ipython-input-2602217195.py:87: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.\n",
                  "\n",
                  "  df_csp['distance'] = df_csp.geometry.centroid.distance(center)\n",
                  "/tmp/ipython-input-2602217195.py:87: UserWarning: Geometry is in a geographic CRS. Results from 'distance' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.\n",
                  "\n",
                  "  df_csp['distance'] = df_csp.geometry.centroid.distance(center)\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<IPython.core.display.HTML object>",
                  "text/html": "<h4>üìä Top 5 IRIS dans les communes s√©lectionn√©es :</h4>"
                },
                "metadata": {}
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "   code_iris    nom_iris     nom_com  score  total_actifs  distance  \\\n0  690020000  Aigueperse  Aigueperse  84.83         119.0       0.0   \n\n   Agriculteurs  Artisans/Commer√ßants  Cadres  Prof. interm√©diaires  Employ√©s  \\\n0         16.81                   8.4     4.2                   4.2     36.97   \n\n   Ouvriers  \n0     29.41  ",
                  "text/html": "\n  <div id=\"df-a763cd4f-38f0-48f3-a75f-f31846c24391\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>code_iris</th>\n      <th>nom_iris</th>\n      <th>nom_com</th>\n      <th>score</th>\n      <th>total_actifs</th>\n      <th>distance</th>\n      <th>Agriculteurs</th>\n      <th>Artisans/Commer√ßants</th>\n      <th>Cadres</th>\n      <th>Prof. interm√©diaires</th>\n      <th>Employ√©s</th>\n      <th>Ouvriers</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>690020000</td>\n      <td>Aigueperse</td>\n      <td>Aigueperse</td>\n      <td>84.83</td>\n      <td>119.0</td>\n      <td>0.0</td>\n      <td>16.81</td>\n      <td>8.4</td>\n      <td>4.2</td>\n      <td>4.2</td>\n      <td>36.97</td>\n      <td>29.41</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n    <div class=\"colab-df-buttons\">\n\n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a763cd4f-38f0-48f3-a75f-f31846c24391')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n\n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-a763cd4f-38f0-48f3-a75f-f31846c24391 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-a763cd4f-38f0-48f3-a75f-f31846c24391');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n\n\n    </div>\n  </div>\n",
                  "application/vnd.google.colaboratory.intrinsic+json": {
                    "type": "dataframe",
                    "summary": "{\n  \"name\": \"run_button\",\n  \"rows\": 1,\n  \"fields\": [\n    {\n      \"column\": \"code_iris\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"690020000\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"nom_iris\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"Aigueperse\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"nom_com\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"Aigueperse\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"score\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 84.83,\n        \"max\": 84.83,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          84.83\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"total_actifs\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 119.0,\n        \"max\": 119.0,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          119.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"distance\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 0.0,\n        \"max\": 0.0,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          0.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Agriculteurs\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 16.81,\n        \"max\": 16.81,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          16.81\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Artisans/Commer\\u00e7ants\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 8.4,\n        \"max\": 8.4,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          8.4\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Cadres\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 4.2,\n        \"max\": 4.2,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          4.2\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Prof. interm\\u00e9diaires\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 4.2,\n        \"max\": 4.2,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          4.2\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Employ\\u00e9s\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 36.97,\n        \"max\": 36.97,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          36.97\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Ouvriers\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": null,\n        \"min\": 29.41,\n        \"max\": 29.41,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          29.41\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
                  }
                },
                "metadata": {}
              },
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "‚úÖ Meilleure correspondance : Aigueperse √† Aigueperse (score : 84.83, distance : 0 m)\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<folium.folium.Map at 0x79140e336420>",
                  "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    \n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n    \n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n            &lt;style&gt;\n                #map_b679fe1e98e7db9aca6f7274ee02a36d {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            &lt;/style&gt;\n\n            &lt;style&gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            &lt;/style&gt;\n\n            &lt;style&gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            &lt;/style&gt;\n\n            &lt;script&gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            &lt;/script&gt;\n\n        \n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n            &lt;div class=&quot;folium-map&quot; id=&quot;map_b679fe1e98e7db9aca6f7274ee02a36d&quot; &gt;&lt;/div&gt;\n        \n&lt;/body&gt;\n&lt;script&gt;\n    \n    \n            var map_b679fe1e98e7db9aca6f7274ee02a36d = L.map(\n                &quot;map_b679fe1e98e7db9aca6f7274ee02a36d&quot;,\n                {\n                    center: [46.28014416565339, 4.424098225727284],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  &quot;zoom&quot;: 14,\n  &quot;zoomControl&quot;: true,\n  &quot;preferCanvas&quot;: false,\n}\n\n                }\n            );\n\n            \n\n        \n    \n            var tile_layer_1aa40c60e4d65d4eede650de7431ce4e = L.tileLayer(\n                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n                {\n  &quot;minZoom&quot;: 0,\n  &quot;maxZoom&quot;: 19,\n  &quot;maxNativeZoom&quot;: 19,\n  &quot;noWrap&quot;: false,\n  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n  &quot;subdomains&quot;: &quot;abc&quot;,\n  &quot;detectRetina&quot;: false,\n  &quot;tms&quot;: false,\n  &quot;opacity&quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_1aa40c60e4d65d4eede650de7431ce4e.addTo(map_b679fe1e98e7db9aca6f7274ee02a36d);\n        \n    \n        function geo_json_1d99373fd6113217475cb563318c85d2_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.4};\n            }\n        }\n\n        function geo_json_1d99373fd6113217475cb563318c85d2_onEachFeature(feature, layer) {\n\n            layer.on({\n            });\n        };\n        var geo_json_1d99373fd6113217475cb563318c85d2 = L.geoJson(null, {\n                onEachFeature: geo_json_1d99373fd6113217475cb563318c85d2_onEachFeature,\n            \n                style: geo_json_1d99373fd6113217475cb563318c85d2_styler,\n            ...{\n}\n        });\n\n        function geo_json_1d99373fd6113217475cb563318c85d2_add (data) {\n            geo_json_1d99373fd6113217475cb563318c85d2\n                .addData(data);\n        }\n            geo_json_1d99373fd6113217475cb563318c85d2_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.439895176185965, 46.293125631426186], [4.439884963348913, 46.2929843623513], [4.439852051324178, 46.29247412381287], [4.439867135533386, 46.292405485589526], [4.439899621143344, 46.29230690673416], [4.441116143286882, 46.291633163396746], [4.44154126091412, 46.29070644330711], [4.442158857712213, 46.28761848308048], [4.442694800160008, 46.287349612840465], [4.444262420741275, 46.28684205425997], [4.445965466832432, 46.28605265922981], [4.44737628338473, 46.28536557122113], [4.447435234469904, 46.28533510125914], [4.448928278271189, 46.28446772337261], [4.449344936071564, 46.28420979516641], [4.449754023976345, 46.28391143347501], [4.450399860688567, 46.28342947916411], [4.451411222452017, 46.2826240402617], [4.452181891020589, 46.282025654080535], [4.453133277316025, 46.281287160180845], [4.454038186989949, 46.280584826286926], [4.455186155363426, 46.27969384925325], [4.455220209348085, 46.27965558760746], [4.45524038680544, 46.2796328139987], [4.457046409426425, 46.27755357997269], [4.45749064767864, 46.27692015506161], [4.456255379574516, 46.274574507080786], [4.455230173905024, 46.27172360993149], [4.451314167768487, 46.27151601520258], [4.44702143410775, 46.27100866226653], [4.446198254928537, 46.27091825117706], [4.444376067110602, 46.27071802695353], [4.440953148111173, 46.270341707703196], [4.439816851888361, 46.27017145490557], [4.43915978400066, 46.26995190391735], [4.438567352535285, 46.26954780452718], [4.438459828828364, 46.2694591003866], [4.438449206301808, 46.26945022832662], [4.438389224050388, 46.2693915447682], [4.438171839419159, 46.26917453799074], [4.438014813892394, 46.268981085371465], [4.436983116165403, 46.26704245311818], [4.436040367827998, 46.265150423284794], [4.435147292027124, 46.26466814190929], [4.434438658248754, 46.26428620122755], [4.433643109175133, 46.26385761764852], [4.433261029910812, 46.26404435541306], [4.429561915646903, 46.265852492593304], [4.428715734245337, 46.26577215213452], [4.425252909596053, 46.26544269926712], [4.423645188760109, 46.265289896131094], [4.422171739558189, 46.264706695893345], [4.421400912964558, 46.26440155488769], [4.419543738179765, 46.26366595294374], [4.419213112259294, 46.26353498176786], [4.41755886895841, 46.262786010463046], [4.415105852192941, 46.26167589148973], [4.412630071640334, 46.26295130235341], [4.408829601362759, 46.26493113431659], [4.408796567485516, 46.264959462391445], [4.408700526290215, 46.26501198630871], [4.406867796608293, 46.26529763175566], [4.405457977315334, 46.265516784888874], [4.404266729660996, 46.265701702779694], [4.402280000848197, 46.266009887549515], [4.400544222830225, 46.26628072679777], [4.398161997901057, 46.26666395231161], [4.397680884595629, 46.266741008943576], [4.396946241578125, 46.266857199545534], [4.397052452484211, 46.26689732469419], [4.396729009290478, 46.27020296197036], [4.396722823410282, 46.27057139088603], [4.396712498113518, 46.27118483882323], [4.396705047485893, 46.27160551908941], [4.396695412161558, 46.27214420715839], [4.396670335420624, 46.27345221272442], [4.396290108673645, 46.27473755534922], [4.396349392241092, 46.27502502614554], [4.39637146494542, 46.27502475545324], [4.396436453555534, 46.275026660284226], [4.396496248592489, 46.27502862877672], [4.396561352043096, 46.27503503521899], [4.396633039352344, 46.27504496333926], [4.396704795593628, 46.27505759242379], [4.396821018897032, 46.27508228461889], [4.396870679529126, 46.27509428404182], [4.39705028283439, 46.275159626874085], [4.397108032652355, 46.27518323498057], [4.397187458837969, 46.275216483873365], [4.397264288321161, 46.27524976457747], [4.397328691179595, 46.2752795952591], [4.397428932273636, 46.27533960709208], [4.397519969855819, 46.27539522870953], [4.397933933291934, 46.275686450526656], [4.397961797623384, 46.275709524502176], [4.39799119029017, 46.27574158589068], [4.398208993567602, 46.27598027727536], [4.3982385704789, 46.27601954128774], [4.398260149970503, 46.2760507979364], [4.398288520518134, 46.27609367922452], [4.398353489202718, 46.27619645248915], [4.398372839930639, 46.276242146383936], [4.398408336125813, 46.27636059208263], [4.398428330889983, 46.27643149537533], [4.398468366570315, 46.27657510262055], [4.398474089255852, 46.2765957465594], [4.398491418329471, 46.276663980725715], [4.39865976031732, 46.277406724467056], [4.39812587648232, 46.27811666394521], [4.397944506846584, 46.2783386415796], [4.397848455558073, 46.27849382644727], [4.397519712436408, 46.28050208583837], [4.397300673286775, 46.28268031703011], [4.399695044452128, 46.284725936357724], [4.401342106840276, 46.28639614110494], [4.404122098265621, 46.28902863126179], [4.406637046717492, 46.29202953062924], [4.40673175156666, 46.29308518224854], [4.406565927730611, 46.294292312333674], [4.406085422987873, 46.29596979247522], [4.406075411042376, 46.29618696503578], [4.406094871313504, 46.29618582419435], [4.407332501965126, 46.295922194164135], [4.408552294921145, 46.29569794802923], [4.410254337406775, 46.29544452802154], [4.410335934496995, 46.29543451154224], [4.410426670082479, 46.29542618308441], [4.410520096206241, 46.29542142371234], [4.410800722616371, 46.295420650111815], [4.410996968639694, 46.2954227223599], [4.411068453133765, 46.2954236380547], [4.411140030488937, 46.29542815503113], [4.411207734449293, 46.29543362057129], [4.411811064065702, 46.29550179607893], [4.411852813896145, 46.29550848354836], [4.412160742442249, 46.29555870349418], [4.412428894291579, 46.29562832886641], [4.412700248835025, 46.2957213300015], [4.413217308478797, 46.29592025727361], [4.416195877223919, 46.29584183473024], [4.418769464639817, 46.295478379387745], [4.419449201179637, 46.29538615292467], [4.421280004852214, 46.295139968957166], [4.421752593338944, 46.29507643126432], [4.42277122904408, 46.2950763206719], [4.42458771319363, 46.295928120287215], [4.4246588840574, 46.295966857509015], [4.42501813916251, 46.296291090610794], [4.425089864029364, 46.29640096977816], [4.425393896848659, 46.29704921592271], [4.425634213695602, 46.2975955878566], [4.425727597871981, 46.29783848761652], [4.42573467890126, 46.29786091453687], [4.425821583987181, 46.29815433014912], [4.42634497495533, 46.29988958051787], [4.426806821383247, 46.30135631349939], [4.42716857975151, 46.302771161934515], [4.428623614253639, 46.301910842395124], [4.431444086781661, 46.30139000055284], [4.433824650438492, 46.30059633345142], [4.436042823638097, 46.29932902245708], [4.437653391454035, 46.298296516528055], [4.438233491827119, 46.29678605114534], [4.438243271858703, 46.29518056403901], [4.438793233993277, 46.29341514801822], [4.438917231002561, 46.29333792908979], [4.439011946737319, 46.29328359559717], [4.439077357730268, 46.293251247287714], [4.439146878155566, 46.29322695264259], [4.439223058313301, 46.293208878178795], [4.43978560237197, 46.293109004087015], [4.439847850532213, 46.293104614693554], [4.439871252805426, 46.29310521947706], [4.439895176185965, 46.293125631426186]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n\n        \n    \n            geo_json_1d99373fd6113217475cb563318c85d2.addTo(map_b679fe1e98e7db9aca6f7274ee02a36d);\n        \n    \n            var marker_ef7b5003ee5f79f5ef4c0c2c59ad3254 = L.marker(\n                [46.28014416565339, 4.424098225727284],\n                {\n}\n            ).addTo(map_b679fe1e98e7db9aca6f7274ee02a36d);\n        \n    \n        var popup_a47b3874dddbff53a26df7ecee57d240 = L.popup({\n  &quot;maxWidth&quot;: &quot;100%&quot;,\n});\n\n        \n            \n                var html_14951881bbd8cbad42a521545d3fdea4 = $(`&lt;div id=&quot;html_14951881bbd8cbad42a521545d3fdea4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Aigueperse (score 84.83)&lt;/div&gt;`)[0];\n                popup_a47b3874dddbff53a26df7ecee57d240.setContent(html_14951881bbd8cbad42a521545d3fdea4);\n            \n        \n\n        marker_ef7b5003ee5f79f5ef4c0c2c59ad3254.bindPopup(popup_a47b3874dddbff53a26df7ecee57d240)\n        ;\n\n        \n    \n&lt;/script&gt;\n&lt;/html&gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                },
                "metadata": {}
              }
            ]
          }
        },
        "64f9d3dca3fd46d6918ab807597377ea": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "dc8ab22db85e49b6badc9b59acc2d854": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "f90ba32856474948ac694a01f4485cb0": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "7b7486f58e094745953498e19db7c37a": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "48fd476fe83d4c8d8bae82d07f6942cf": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "1244b382e282459b9fc820cf16440d21": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "36baaaf10a9b4031980ffcca736eabe2": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "b12f228823a140c090eacbadce8703bf": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "70c6734e7987412cb41413359ca7735d": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "833cfd67f0dd40e89ab271de3a938fed": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "5a2cf17f902d41c392e03b772e0155b1": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "0e156fc77cb948e090c30e9debfb9e49": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "7378e17073564b51988eaa5faa649e8e": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "a47677f039f34d74aeba696aeeb3368f": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "e915dd2144cc4e4c9995d10055a0d35e": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "58eaa2fd81e9411fa947afca09bb05a4": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "ba98c7c32d9341da99e7e341ce8cbf1a": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "5053e6b19c4f408392af71a30ed4f7e2": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "2150f75479b5478ead6cc736bed49579": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "button_color": null,
            "font_weight": ""
          }
        },
        "1811340698194cd4b85bddbc6bc3ece2": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "0a6f44f7717a4bbc983c0690166696c9": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "VBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "VBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "VBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_3ee8ee78ca08429fb800d0488be653fe",
              "IPY_MODEL_34840556a1a845ecad355a08466f0f2d",
              "IPY_MODEL_1114ff9ccdd2442f945a6ad28db19b0f",
              "IPY_MODEL_a926832c4acf49d59138eb765ee4b011",
              "IPY_MODEL_5cb0b6b8dfb54c25a5e574bfe17c26d7",
              "IPY_MODEL_0be55424b20347c48ea7930e6f46b1e1",
              "IPY_MODEL_5842446c57454090b0620d33022ff909",
              "IPY_MODEL_f36f74aa96194b4e98564db1c27a4a23",
              "IPY_MODEL_e9776a10c70148b8aec7492035fd8d20",
              "IPY_MODEL_c80c048c11944a568f924bf701cb067d"
            ],
            "layout": "IPY_MODEL_47693937022c41f292413408ee0be9f0"
          }
        },
        "3ee8ee78ca08429fb800d0488be653fe": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_160f992fd83a472b92e063232196344a",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_f187b6c8d2df483d9c2912c01d437013",
            "value": "<h3>üîç Comparaison entre IRIS selon une r√©partition CSP cible</h3>"
          }
        },
        "34840556a1a845ecad355a08466f0f2d": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_066da50de04b4a54bb11ca9fe0d5539f",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_d5965e6149d94d9ba03eca0fd62dadb5",
            "value": "<b>D√©finissez votre r√©partition cible :</b>"
          }
        },
        "1114ff9ccdd2442f945a6ad28db19b0f": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Cadres",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_543c9664c8a3470cbccb9762c7c59e15",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_8a9dd872ae1748fb9c8545d9739a1870",
            "value": 20
          }
        },
        "a926832c4acf49d59138eb765ee4b011": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Employ√©s",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_9ae4c2423db14444b8b2973b5bf91652",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_5ba4c04760824593a6b1467dbd68a3b7",
            "value": 20
          }
        },
        "5cb0b6b8dfb54c25a5e574bfe17c26d7": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Ouvriers",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_0bd987e283424a98bafa425a41fc4456",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_0fbe96401af845e38f9b9ee88e1e7552",
            "value": 20
          }
        },
        "0be55424b20347c48ea7930e6f46b1e1": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Interm√©diaires",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_87d3d20728f04da1bc750983f2662f82",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_078bb93a19764779a85aab3c00a1b197",
            "value": 20
          }
        },
        "5842446c57454090b0620d33022ff909": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Artisans",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_f49ed446624344639b5770e5136f6339",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_89e813b0630b47f5bf02d91047e5c2bb",
            "value": 10
          }
        },
        "f36f74aa96194b4e98564db1c27a4a23": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Agriculteurs",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_f3caedb536e34ef5be6e4da6fa875028",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_8d088835a55747a38313aceb1b320294",
            "value": 10
          }
        },
        "e9776a10c70148b8aec7492035fd8d20": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ButtonView",
            "button_style": "success",
            "description": "Comparer les IRIS",
            "disabled": false,
            "icon": "",
            "layout": "IPY_MODEL_da83627529b64f7888e39befc012365c",
            "style": "IPY_MODEL_4cd3fdf4e13a4510b507b62a0947217b",
            "tooltip": ""
          }
        },
        "c80c048c11944a568f924bf701cb067d": {
          "model_module": "@jupyter-widgets/output",
          "model_name": "OutputModel",
          "model_module_version": "1.0.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/output",
            "_model_module_version": "1.0.0",
            "_model_name": "OutputModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/output",
            "_view_module_version": "1.0.0",
            "_view_name": "OutputView",
            "layout": "IPY_MODEL_11ba60d2e2584e1a824ad9129c793627",
            "msg_id": "",
            "outputs": [
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "üéØ R√©partition CSP cible (normalis√©e √† 100%) : {'Cadres': 20.0, 'Employ√©s': 20.0, 'Ouvriers': 20.0, 'Prof. interm√©diaires': 20.0, 'Artisans/Commer√ßants': 10.0, 'Agriculteurs': 10.0}\n"
                ]
              },
              {
                "output_type": "error",
                "ename": "KeyError",
                "evalue": "\"None of [Index(['C21_ACT1564_CS1', 'C21_ACT1564_CS2', 'C21_ACT1564_CS3',\\n       'C21_ACT1564_CS4', 'C21_ACT1564_CS5', 'C21_ACT1564_CS6'],\\n      dtype='object')] are in the [columns]\"",
                "traceback": [
                  "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
                  "\u001b[0;31mKeyError\u001b[0m                                  Traceback (most recent call last)",
                  "\u001b[0;32m/tmp/ipython-input-903966479.py\u001b[0m in \u001b[0;36mon_run_clicked\u001b[0;34m(b)\u001b[0m\n\u001b[1;32m     66\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     67\u001b[0m         \u001b[0;31m# Calcul des r√©partitions CSP par IRIS (limit√© au Rh√¥ne)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 68\u001b[0;31m         \u001b[0mdf_csp\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcsp_labels\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mcompute_iris_csp_distribution\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdf_popiris\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     69\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     70\u001b[0m         \u001b[0;31m# Comparaison\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
                  "\u001b[0;32m/tmp/ipython-input-903966479.py\u001b[0m in \u001b[0;36mcompute_iris_csp_distribution\u001b[0;34m(df_popiris)\u001b[0m\n\u001b[1;32m     24\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     25\u001b[0m     \u001b[0mdf\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdf_popiris\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcopy\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 26\u001b[0;31m     \u001b[0mtotal\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mlist\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mcsp_cols\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkeys\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msum\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0maxis\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     27\u001b[0m     \u001b[0;32mfor\u001b[0m \u001b[0mcol\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mname\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mcsp_cols\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mitems\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     28\u001b[0m         \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mname\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mcol\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m/\u001b[0m \u001b[0mtotal\u001b[0m \u001b[0;34m*\u001b[0m \u001b[0;36m100\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
                  "\u001b[0;32m/usr/local/lib/python3.12/dist-packages/geopandas/geodataframe.py\u001b[0m in \u001b[0;36m__getitem__\u001b[0;34m(self, key)\u001b[0m\n\u001b[1;32m   1894\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0ma\u001b[0m \u001b[0mGeoDataFrame\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1895\u001b[0m         \"\"\"\n\u001b[0;32m-> 1896\u001b[0;31m         \u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0msuper\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m__getitem__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1897\u001b[0m         \u001b[0;31m# Custom logic to avoid waiting for pandas GH51895\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1898\u001b[0m         \u001b[0;31m# result is not geometry dtype for multi-indexes\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
                  "\u001b[0;32m/usr/local/lib/python3.12/dist-packages/pandas/core/frame.py\u001b[0m in \u001b[0;36m__getitem__\u001b[0;34m(self, key)\u001b[0m\n\u001b[1;32m   4106\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mis_iterator\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4107\u001b[0m                 \u001b[0mkey\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mlist\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 4108\u001b[0;31m             \u001b[0mindexer\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcolumns\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_get_indexer_strict\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m\"columns\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   4109\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4110\u001b[0m         \u001b[0;31m# take() does not accept boolean indexers\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
                  "\u001b[0;32m/usr/local/lib/python3.12/dist-packages/pandas/core/indexes/base.py\u001b[0m in \u001b[0;36m_get_indexer_strict\u001b[0;34m(self, key, axis_name)\u001b[0m\n\u001b[1;32m   6198\u001b[0m             \u001b[0mkeyarr\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mindexer\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mnew_indexer\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_reindex_non_unique\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkeyarr\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   6199\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 6200\u001b[0;31m         \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_raise_if_missing\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkeyarr\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mindexer\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0maxis_name\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   6201\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   6202\u001b[0m         \u001b[0mkeyarr\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtake\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mindexer\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
                  "\u001b[0;32m/usr/local/lib/python3.12/dist-packages/pandas/core/indexes/base.py\u001b[0m in \u001b[0;36m_raise_if_missing\u001b[0;34m(self, key, indexer, axis_name)\u001b[0m\n\u001b[1;32m   6247\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mnmissing\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   6248\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mnmissing\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0mlen\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mindexer\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 6249\u001b[0;31m                 \u001b[0;32mraise\u001b[0m \u001b[0mKeyError\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34mf\"None of [{key}] are in the [{axis_name}]\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   6250\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   6251\u001b[0m             \u001b[0mnot_found\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mlist\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mensure_index\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mmissing_mask\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mnonzero\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0munique\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
                  "\u001b[0;31mKeyError\u001b[0m: \"None of [Index(['C21_ACT1564_CS1', 'C21_ACT1564_CS2', 'C21_ACT1564_CS3',\\n       'C21_ACT1564_CS4', 'C21_ACT1564_CS5', 'C21_ACT1564_CS6'],\\n      dtype='object')] are in the [columns]\""
                ]
              }
            ]
          }
        },
        "47693937022c41f292413408ee0be9f0": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "160f992fd83a472b92e063232196344a": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "f187b6c8d2df483d9c2912c01d437013": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "066da50de04b4a54bb11ca9fe0d5539f": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "d5965e6149d94d9ba03eca0fd62dadb5": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "543c9664c8a3470cbccb9762c7c59e15": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "8a9dd872ae1748fb9c8545d9739a1870": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "9ae4c2423db14444b8b2973b5bf91652": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "5ba4c04760824593a6b1467dbd68a3b7": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "0bd987e283424a98bafa425a41fc4456": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "0fbe96401af845e38f9b9ee88e1e7552": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "87d3d20728f04da1bc750983f2662f82": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "078bb93a19764779a85aab3c00a1b197": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "f49ed446624344639b5770e5136f6339": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "89e813b0630b47f5bf02d91047e5c2bb": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "f3caedb536e34ef5be6e4da6fa875028": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "8d088835a55747a38313aceb1b320294": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "da83627529b64f7888e39befc012365c": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "4cd3fdf4e13a4510b507b62a0947217b": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "button_color": null,
            "font_weight": ""
          }
        },
        "11ba60d2e2584e1a824ad9129c793627": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "18d524431131437181a8129bd94a491f": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "VBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "VBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "VBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_fbb0fa09b2324bd9b47438a13065044f",
              "IPY_MODEL_270fc3b4a3fe46fe84f927fd51da176a",
              "IPY_MODEL_a41c107e65e54cbc951ad4fff03efe7e",
              "IPY_MODEL_f82642bf61654065b5041ffed7ac50ce",
              "IPY_MODEL_c60fb06cdfa142df99bc737b6f1f8b65",
              "IPY_MODEL_b689b1bbb81c43849601699a62418eb8",
              "IPY_MODEL_e2d5ca63f30340489cb31f0c0c9819cd",
              "IPY_MODEL_59b4b2d61d4742eeb75c22c286c65f4a",
              "IPY_MODEL_15359627ed1b490abf8511ed1fd86dee",
              "IPY_MODEL_30d6fd087d9b4c6c84d17edc3861e189",
              "IPY_MODEL_34d1a19a82ff4d62b2f60c9695ef1b2c",
              "IPY_MODEL_5b189a72d06f40c09117470d39244437"
            ],
            "layout": "IPY_MODEL_81f9e79b89ec48b582e643aef87f1d01"
          }
        },
        "fbb0fa09b2324bd9b47438a13065044f": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_efba8700d31e4f00bc699383c7edfb90",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_527fd79e75a340bb843d6ed432ac3b77",
            "value": "<h3>üîç Trouver les IRIS id√©aux selon votre profil CSP</h3>"
          }
        },
        "270fc3b4a3fe46fe84f927fd51da176a": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SelectMultipleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SelectMultipleModel",
            "_options_labels": [
              "AboÔøΩn",
              "Affoux",
              "Aigueperse",
              "Ailleux",
              "Albigny-sur-SaÔøΩne",
              "Alix",
              "Ambierle",
              "AmbÔøΩrieux",
              "Amions",
              "Amplepuis",
              "Ampuis",
              "Ancy",
              "AndrÔøΩzieux-BouthÔøΩon",
              "Anse",
              "Apinac",
              "Arcinges",
              "Arcon",
              "Arnas",
              "Arthun",
              "Aveize",
              "Aveizieux",
              "Avenas",
              "Azolette",
              "Bagnols",
              "Balbigny",
              "Bard",
              "Beaujeu",
              "Bellegarde-en-Forez",
              "Belleroche",
              "Belleville",
              "Belmont-d'Azergues",
              "Belmont-de-la-Loire",
              "Bessenay",
              "Bessey",
              "Bibost",
              "BlacÔøΩ",
              "Boisset-Saint-Priest",
              "Boisset-lÔøΩs-Montrond",
              "Bonson",
              "Bourg-Argental",
              "Boyer",
              "BoÔøΩn-sur-Lignon",
              "Briennon",
              "Brignais",
              "Brindas",
              "Bron",
              "Brullioles",
              "Brussieu",
              "Bully",
              "Burdignes",
              "BussiÔøΩres",
              "Bussy-Albieux",
              "Cailloux-sur-Fontaines",
              "Caloire",
              "Caluire-et-Cuire",
              "Cellieu",
              "Cenves",
              "CerciÔøΩ",
              "CerviÔøΩres",
              "Cezay",
              "Chagnon",
              "Chalain-d'Uzore",
              "Chalain-le-Comtal",
              "Chalmazel-JeansagniÔøΩre",
              "Chambles",
              "Chambost-AlliÔøΩres",
              "Chambost-Longessaigne",
              "ChambÔøΩon",
              "ChambÔøΩuf",
              "Chamelet",
              "Champagne-au-Mont-d'Or",
              "Champdieu",
              "Champoly",
              "Chandon",
              "Changy",
              "Chaponnay",
              "Chaponost",
              "CharbonniÔøΩres-les-Bains",
              "Charentay",
              "Charlieu",
              "Charly",
              "Charnay",
              "Chassagny",
              "Chasselay",
              "Chassieu",
              "Chaussan",
              "Chausseterre",
              "Chavanay",
              "Chazay-d'Azergues",
              "Chazelles-sur-Lavieu",
              "Chazelles-sur-Lyon",
              "Chenereilles",
              "Cherier",
              "Chessy",
              "Chevinay",
              "ChevriÔøΩres",
              "Chirassimont",
              "Chiroubles",
              "Chuyer",
              "ChÔøΩnas",
              "ChÔøΩnelette",
              "ChÔøΩteauneuf",
              "ChÔøΩtelneuf",
              "ChÔøΩtelus",
              "ChÔøΩtillon",
              "Civens",
              "Civrieux-d'Azergues",
              "Claveisolles",
              "CleppÔøΩ",
              "Cogny",
              "Coise",
              "Collonges-au-Mont-d'Or",
              "Colombier",
              "Colombier-Saugnieu",
              "Combre",
              "Commelle-Vernay",
              "Communay",
              "Condrieu",
              "Corbas",
              "Corcelles-en-Beaujolais",
              "Cordelle",
              "Cottance",
              "Cours",
              "Courzieu",
              "Coutouvre",
              "Couzon-au-Mont-d'Or",
              "Craintilleux",
              "Craponne",
              "Cremeaux",
              "Croizet-sur-Gand",
              "Cublize",
              "Cuinzier",
              "Curis-au-Mont-d'Or",
              "Cuzieu",
              "DancÔøΩ",
              "Dardilly",
              "DareizÔøΩ",
              "Dargoire",
              "DenicÔøΩ",
              "DiÔøΩme",
              "Doizieux",
              "Dommartin",
              "DracÔøΩ",
              "Duerne",
              "DÔøΩbats-RiviÔøΩre-d'Orpra",
              "DÔøΩcines-Charpieu",
              "Essertines-en-ChÔøΩtelneuf",
              "Essertines-en-Donzy",
              "Estivareilles",
              "Farnay",
              "Feurs",
              "Feyzin",
              "Firminy",
              "Fleurie",
              "Fleurieu-sur-SaÔøΩne",
              "Fleurieux-sur-l'Arbresle",
              "Fontaines-Saint-Martin",
              "Fontaines-sur-SaÔøΩne",
              "FontanÔøΩs",
              "Fourneaux",
              "Fraisses",
              "Francheville",
              "Frontenas",
              "Genas",
              "Genay",
              "Genilac",
              "Givors",
              "GleizÔøΩ",
              "Graix",
              "Grammond",
              "Grandris",
              "Grigny",
              "GrÔøΩzieu-la-Varenne",
              "GrÔøΩzieu-le-MarchÔøΩ",
              "GrÔøΩzieux-le-Fromental",
              "GrÔøΩzolles",
              "GumiÔøΩres",
              "Haute-Rivoire",
              "Irigny",
              "Jarnioux",
              "Jarnosse",
              "Jas",
              "Jonage",
              "Jons",
              "Jonzieux",
              "Joux",
              "JuliÔøΩnas",
              "JulliÔøΩ",
              "JurÔøΩ",
              "L'Arbresle",
              "L'Horme",
              "L'HÔøΩpital-le-Grand",
              "L'HÔøΩpital-sous-Rochefort",
              "L'ÔøΩtrat",
              "La BÔøΩnisson-Dieu",
              "La Chamba",
              "La Chambonie",
              "La Chapelle-Villars",
              "La Chapelle-en-Lafaye",
              "La Chapelle-sur-Coise",
              "La CÔøΩte-en-Couzan",
              "La Fouillouse",
              "La Gimond",
              "La Grand-Croix",
              "La Gresle",
              "La MulatiÔøΩre",
              "La PacaudiÔøΩre",
              "La Ricamarie",
              "La TalaudiÔøΩre",
              "La Terrasse-sur-Dorlay",
              "La Tour-de-Salvagny",
              "La Tour-en-Jarez",
              "La Tourette",
              "La TuiliÔøΩre",
              "La Valla-en-Gier",
              "La Valla-sur-Rochefort",
              "La Versanne",
              "Lacenas",
              "Lachassagne",
              "Lamure-sur-Azergues",
              "LanciÔøΩ",
              "LantigniÔøΩ",
              "Larajasse",
              "Lavieu",
              "Lay",
              "Le Bessat",
              "Le Bois-d'Oingt",
              "Le Breuil",
              "Le Cergne",
              "Le Chambon-Feugerolles",
              "Le Coteau",
              "Le Crozet",
              "Le PerrÔøΩon",
              "Leigneux",
              "Lentigny",
              "Lentilly",
              "Les Ardillats",
              "Les ChÔøΩres",
              "Les Haies",
              "Les Halles",
              "Les NoÔøΩs",
              "Les Olmes",
              "Les Salles",
              "Les Sauvages",
              "Liergues",
              "Limas",
              "Limonest",
              "Lissieu",
              "Loire-sur-RhÔøΩne",
              "Longes",
              "Longessaigne",
              "Lorette",
              "Lozanne",
              "Lucenay",
              "LupÔøΩ",
              "Luriecq",
              "LurÔøΩ",
              "Lyon 1er Arrondissement",
              "Lyon 2e Arrondissement",
              "Lyon 3e Arrondissement",
              "Lyon 4e Arrondissement",
              "Lyon 5e Arrondissement",
              "Lyon 6e Arrondissement",
              "Lyon 7e Arrondissement",
              "Lyon 8e Arrondissement",
              "Lyon 9e Arrondissement",
              "LÔøΩgny",
              "LÔøΩrigneux",
              "LÔøΩtra",
              "LÔøΩzigneux",
              "Mably",
              "MachÔøΩzal",
              "Maclas",
              "Magneux-Haute-Rive",
              "Maizilly",
              "Malleval",
              "Marcenod",
              "Marchampt",
              "Marcilly-d'Azergues",
              "Marcilly-le-ChÔøΩtel",
              "Marclopt",
              "Marcoux",
              "Marcy",
              "Marcy-l'ÔøΩtoile",
              "Marennes",
              "Margerie-Chantagret",
              "Maringes",
              "Marlhes",
              "Marols",
              "Mars",
              "Meaux-la-Montagne",
              "Merle-Leignec",
              "Messimy",
              "Meys",
              "Meyzieu",
              "Millery",
              "Mions",
              "MizÔøΩrieux",
              "MoirÔøΩ",
              "Monsols",
              "Montagny",
              "Montanay",
              "Montarcher",
              "Montbrison",
              "Montchal",
              "Montmelas-Saint-Sorlin",
              "Montromant",
              "Montrond-les-Bains",
              "Montrottier",
              "Montverdun",
              "MorancÔøΩ",
              "Mornand-en-Forez",
              "Mornant",
              "Nandax",
              "Neaux",
              "Nervieux",
              "Neulise",
              "Neuville-sur-SaÔøΩne",
              "Noailly",
              "NoirÔøΩtable",
              "Nollieux",
              "Notre-Dame-de-Boisset",
              "NÔøΩronde",
              "Odenas",
              "Oingt",
              "OrliÔøΩnas",
              "Ouches",
              "Oullins",
              "Ouroux",
              "Palogneux",
              "PanissiÔøΩres",
              "Parigny",
              "Pavezin",
              "Perreux",
              "Pierre-BÔøΩnite",
              "Pinay",
              "Planfoy",
              "Poleymieux-au-Mont-d'Or",
              "Pollionnay",
              "Pomeys",
              "Pommiers",
              "Poncins",
              "Pontcharra-sur-Turdine",
              "Pouilly-le-Monial",
              "Pouilly-les-Nonains",
              "Pouilly-lÔøΩs-Feurs",
              "Pouilly-sous-Charlieu",
              "Poule-les-ÔøΩcharmeaux",
              "Pradines",
              "Pralong",
              "PropiÔøΩres",
              "PrÔøΩcieux",
              "Pusignan",
              "PÔøΩlussin",
              "PÔøΩrigneux",
              "Quincieux",
              "QuinciÔøΩ-en-Beaujolais",
              "Ranchal",
              "Renaison",
              "Rillieux-la-Pape",
              "Riorges",
              "Rivas",
              "Rive-de-Gier",
              "Riverie",
              "Rivolet",
              "Roanne",
              "Roche",
              "Roche-la-MoliÔøΩre",
              "RochetaillÔøΩe-sur-SaÔøΩne",
              "Roisey",
              "Ronno",
              "Rontalon",
              "Rozier-CÔøΩtes-d'Aurec",
              "Rozier-en-Donzy",
              "RÔøΩgniÔøΩ-Durette",
              "RÔøΩgny",
              "Sail-les-Bains",
              "Sail-sous-Couzan",
              "Sain-Bel",
              "Saint-Alban-les-Eaux",
              "Saint-AndrÔøΩ-d'Apchon",
              "Saint-AndrÔøΩ-la-CÔøΩte",
              "Saint-AndrÔøΩ-le-Puy",
              "Saint-AndÔøΩol-le-ChÔøΩteau",
              "Saint-Appolinaire",
              "Saint-Appolinard",
              "Saint-BarthÔøΩlemy-Lestra",
              "Saint-Bonnet-de-Mure",
              "Saint-Bonnet-des-BruyÔøΩres",
              "Saint-Bonnet-des-Quarts",
              "Saint-Bonnet-le-ChÔøΩteau",
              "Saint-Bonnet-le-Courreau",
              "Saint-Bonnet-le-Troncy",
              "Saint-Bonnet-les-Oules",
              "Saint-Chamond",
              "Saint-Christo-en-Jarez",
              "Saint-Christophe",
              "Saint-ClÔøΩment-de-Vers",
              "Saint-ClÔøΩment-les-Places",
              "Saint-ClÔøΩment-sur-Valsonne",
              "Saint-Cyprien",
              "Saint-Cyr-au-Mont-d'Or",
              "Saint-Cyr-de-FaviÔøΩres",
              "Saint-Cyr-de-Valorges",
              "Saint-Cyr-le-Chatoux",
              "Saint-Cyr-les-Vignes",
              "Saint-Cyr-sur-le-RhÔøΩne",
              "Saint-Denis-de-Cabanne",
              "Saint-Denis-sur-Coise",
              "Saint-Didier-au-Mont-d'Or",
              "Saint-Didier-sous-Riverie",
              "Saint-Didier-sur-Beaujeu",
              "Saint-Didier-sur-Rochefort",
              "Saint-Fons",
              "Saint-Forgeux",
              "Saint-Forgeux-Lespinasse",
              "Saint-Galmier",
              "Saint-Genest-Lerpt",
              "Saint-Genest-Malifaux",
              "Saint-Genis-Laval",
              "Saint-Genis-l'ArgentiÔøΩre",
              "Saint-Genis-les-OlliÔøΩres",
              "Saint-Georges-Haute-Ville",
              "Saint-Georges-de-Baroille",
              "Saint-Georges-de-Reneins",
              "Saint-Georges-en-Couzan",
              "Saint-Germain-Laval",
              "Saint-Germain-Lespinasse",
              "Saint-Germain-Nuelles",
              "Saint-Germain-au-Mont-d'Or",
              "Saint-Germain-la-Montagne",
              "Saint-Haon-le-ChÔøΩtel",
              "Saint-Haon-le-Vieux",
              "Saint-Hilaire-Cusson-la-Valmitte",
              "Saint-Hilaire-sous-Charlieu",
              "Saint-HÔøΩand",
              "Saint-Igny-de-Vers",
              "Saint-Jacques-des-ArrÔøΩts",
              "Saint-Jean-Bonnefonds",
              "Saint-Jean-Saint-Maurice-sur-Loire",
              "Saint-Jean-Soleymieux",
              "Saint-Jean-d'ArdiÔøΩres",
              "Saint-Jean-de-Touslas",
              "Saint-Jean-des-Vignes",
              "Saint-Jean-la-BussiÔøΩre",
              "Saint-Jean-la-VÔøΩtre",
              "Saint-Jodard",
              "Saint-Joseph",
              "Saint-Julien",
              "Saint-Julien-Molin-Molette",
              "Saint-Julien-d'Oddes",
              "Saint-Julien-la-VÔøΩtre",
              "Saint-Julien-sur-Bibost",
              "Saint-Just-Saint-Rambert",
              "Saint-Just-d'Avray",
              "Saint-Just-en-Bas",
              "Saint-Just-en-Chevalet",
              "Saint-Just-la-Pendue",
              "Saint-Lager",
              "Saint-Laurent-Rochefort",
              "Saint-Laurent-d'Agny",
              "Saint-Laurent-d'Oingt",
              "Saint-Laurent-de-Chamousset",
              "Saint-Laurent-de-Mure",
              "Saint-Laurent-la-Conche",
              "Saint-Loup",
              "Saint-LÔøΩger-sur-Roanne",
              "Saint-Mamert",
              "Saint-Marcel-d'UrfÔøΩ",
              "Saint-Marcel-de-FÔøΩlines",
              "Saint-Marcel-l'ÔøΩclairÔøΩ",
              "Saint-Marcellin-en-Forez",
              "Saint-Martin-Lestra",
              "Saint-Martin-d'EstrÔøΩaux",
              "Saint-Martin-en-Haut",
              "Saint-Martin-la-Plaine",
              "Saint-Martin-la-SauvetÔøΩ",
              "Saint-Maurice-en-Gourgois",
              "Saint-Maurice-sur-Dargoire",
              "Saint-Michel-sur-RhÔøΩne",
              "Saint-MÔøΩdard-en-Forez",
              "Saint-Nizier-d'Azergues",
              "Saint-Nizier-de-Fornas",
              "Saint-Nizier-sous-Charlieu",
              "Saint-Paul-d'Uzore",
              "Saint-Paul-de-VÔøΩzelin",
              "Saint-Paul-en-Cornillon",
              "Saint-Paul-en-Jarez",
              "Saint-Pierre-de-BÔøΩuf",
              "Saint-Pierre-de-Chandieu",
              "Saint-Pierre-la-Noaille",
              "Saint-Pierre-la-Palud",
              "Saint-Polgues",
              "Saint-Priest",
              "Saint-Priest-en-Jarez",
              "Saint-Priest-la-Prugne",
              "Saint-Priest-la-Roche",
              "Saint-Priest-la-VÔøΩtre",
              "Saint-Rirand",
              "Saint-Romain-au-Mont-d'Or",
              "Saint-Romain-d'UrfÔøΩ",
              "Saint-Romain-de-Popey",
              "Saint-Romain-en-Gal",
              "Saint-Romain-en-Gier",
              "Saint-Romain-en-Jarez",
              "Saint-Romain-la-Motte",
              "Saint-Romain-le-Puy",
              "Saint-Romain-les-Atheux",
              "Saint-RÔøΩgis-du-Coin",
              "Saint-Sauveur-en-Rue",
              "Saint-Sixte",
              "Saint-Sorlin",
              "Saint-Symphorien-d'Ozon",
              "Saint-Symphorien-de-Lay",
              "Saint-Symphorien-sur-Coise",
              "Saint-Thomas-la-Garde",
              "Saint-Thurin",
              "Saint-Victor-sur-Rhins",
              "Saint-Vincent-de-Boisset",
              "Saint-Vincent-de-Reins",
              "Saint-VÔøΩrand",
              "Saint-ÔøΩtienne",
              "Saint-ÔøΩtienne-des-OulliÔøΩres",
              "Saint-ÔøΩtienne-la-Varenne",
              "Saint-ÔøΩtienne-le-Molard",
              "Sainte-Agathe-en-Donzy",
              "Sainte-Agathe-la-Bouteresse",
              "Sainte-Catherine",
              "Sainte-Colombe",
              "Sainte-Colombe-sur-Gand",
              "Sainte-Consorce",
              "Sainte-Croix-en-Jarez",
              "Sainte-Foy-Saint-Sulpice",
              "Sainte-Foy-l'ArgentiÔøΩre",
              "Sainte-Foy-lÔøΩs-Lyon",
              "Sainte-Paule",
              "Salles-Arbuissonnas-en-Beaujolais",
              "Salt-en-Donzy",
              "Salvizinet",
              "Sarcey",
              "Sathonay-Camp",
              "Sathonay-Village",
              "Sauvain",
              "Savigneux",
              "Savigny",
              "Sevelinges",
              "Simandres",
              "Solaize",
              "Soleymieux",
              "Sorbiers",
              "Soucieu-en-Jarrest",
              "Sourcieux-les-Mines",
              "Souternon",
              "Souzy",
              "Sury-le-Comtal",
              "SÔøΩrÔøΩzin-du-RhÔøΩne",
              "Taluyers",
              "Taponas",
              "Tarare",
              "Tarentaise",
              "Tartaras",
              "Tassin-la-Demi-Lune",
              "Ternand",
              "Ternay",
              "TheizÔøΩ",
              "Thizy-les-Bourgs",
              "Thurins",
              "ThÔøΩlis-la-Combe",
              "Toussieu",
              "Trades",
              "Trelins",
              "TrÔøΩves",
              "Tupin-et-Semons",
              "Unias",
              "Unieux",
              "Urbise",
              "Usson-en-Forez",
              "Valeille",
              "Valfleury",
              "Valsonne",
              "Vaugneray",
              "Vaulx-en-Velin",
              "Vaux-en-Beaujolais",
              "Vauxrenard",
              "Veauche",
              "Veauchette",
              "Vendranges",
              "Vernaison",
              "Vernay",
              "VerriÔøΩres-en-Forez",
              "Villars",
              "Ville-sur-Jarnioux",
              "VillechenÔøΩve",
              "Villefranche-sur-SaÔøΩne",
              "Villemontais",
              "Villerest",
              "Villers",
              "Villeurbanne",
              "VilliÔøΩ-Morgon",
              "Violay",
              "Viricelles",
              "Virigneux",
              "Vivans",
              "Vougy",
              "Vourles",
              "VÔøΩnissieux",
              "VÔøΩranne",
              "VÔøΩrin",
              "Yzeron",
              "ÔøΩchalas",
              "ÔøΩcoche",
              "ÔøΩcotay-l'Olme",
              "ÔøΩcully",
              "ÔøΩmeringes",
              "ÔøΩpercieux-Saint-Paul",
              "ÔøΩveux"
            ],
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "SelectMultipleView",
            "description": "Communes",
            "description_tooltip": null,
            "disabled": false,
            "index": [
              1,
              2,
              5,
              6
            ],
            "layout": "IPY_MODEL_861936f2bb944437a80521d5d96d9823",
            "rows": 5,
            "style": "IPY_MODEL_22a6bc64ff47403cbed1a276a77d7c45"
          }
        },
        "a41c107e65e54cbc951ad4fff03efe7e": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Dur√©e (min)",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_035ddcdf4fe549ec9c0b0c8db87810a8",
            "max": 30,
            "min": 1,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_39360c9509a247d6b41119865a49c82d",
            "value": 10
          }
        },
        "f82642bf61654065b5041ffed7ac50ce": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_00979fc580614ba4b86517535a6b45b4",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_169faf70c1904aecb22f6b3417482c59",
            "value": "<b>D√©finissez votre r√©partition cible :</b>"
          }
        },
        "c60fb06cdfa142df99bc737b6f1f8b65": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Cadres",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_d8b19aaaad284e98ad7fb62704f5ff1c",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_1bcd8343e106466b92df4d71d3b84612",
            "value": 20
          }
        },
        "b689b1bbb81c43849601699a62418eb8": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Employ√©s",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_f07f62edf25d43bcbb749a8f518b8dae",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_29491cf07f2a4c968277876100880bef",
            "value": 20
          }
        },
        "e2d5ca63f30340489cb31f0c0c9819cd": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Ouvriers",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_8afb71039afc42b5aa70fca082570da1",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_a5c674f1f845460abd4164c61e2fe412",
            "value": 20
          }
        },
        "59b4b2d61d4742eeb75c22c286c65f4a": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Interm√©diaires",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_2abf1a7579ad44ad95700d366bf1d070",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_46650b6c932f41f58f965f66c6d08a6a",
            "value": 20
          }
        },
        "15359627ed1b490abf8511ed1fd86dee": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Artisans",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_93d4e22b79de4dfba527e0eabe7520ae",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_2aee4c5576574789a3a2d8e486ec7172",
            "value": 10
          }
        },
        "30d6fd087d9b4c6c84d17edc3861e189": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Agriculteurs",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_6aea4511ba1c41b992a6519e03177289",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_fe55e4ef9e0f4c9c976a49490a5999cf",
            "value": 10
          }
        },
        "34d1a19a82ff4d62b2f60c9695ef1b2c": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ButtonView",
            "button_style": "success",
            "description": "Trouver les IRIS id√©aux",
            "disabled": false,
            "icon": "",
            "layout": "IPY_MODEL_5d9216abe684411c9ae1f3de32c0dd83",
            "style": "IPY_MODEL_2d318f6ae3124472b596e63fbb68eaac",
            "tooltip": ""
          }
        },
        "5b189a72d06f40c09117470d39244437": {
          "model_module": "@jupyter-widgets/output",
          "model_name": "OutputModel",
          "model_module_version": "1.0.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/output",
            "_model_module_version": "1.0.0",
            "_model_name": "OutputModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/output",
            "_view_module_version": "1.0.0",
            "_view_name": "OutputView",
            "layout": "IPY_MODEL_6b7bad6a2a854155bccaaae6db9f2ee1",
            "msg_id": "",
            "outputs": [
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "üéØ R√©partition cible : {'Cadres': 20.0, 'Employ√©s': 20.0, 'Ouvriers': 20.0, 'Prof. interm√©diaires': 20.0, 'Artisans/Commer√ßants': 10.0, 'Agriculteurs': 10.0}\n",
                  "üìç Communes s√©lectionn√©es : Affoux, Aigueperse, Alix, Ambierle ‚Äî Dur√©e max : 10 min (~800 m)\n"
                ]
              },
              {
                "output_type": "stream",
                "name": "stderr",
                "text": [
                  "/tmp/ipython-input-2602217195.py:86: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n",
                  "  center = df_zone.unary_union.centroid\n",
                  "/tmp/ipython-input-2602217195.py:87: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.\n",
                  "\n",
                  "  df_csp['distance'] = df_csp.geometry.centroid.distance(center)\n",
                  "/tmp/ipython-input-2602217195.py:87: UserWarning: Geometry is in a geographic CRS. Results from 'distance' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.\n",
                  "\n",
                  "  df_csp['distance'] = df_csp.geometry.centroid.distance(center)\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<IPython.core.display.HTML object>",
                  "text/html": "<h4>üìä Top 5 IRIS dans les communes s√©lectionn√©es :</h4>"
                },
                "metadata": {}
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "   code_iris    nom_iris     nom_com  score  total_actifs  distance  \\\n0  690040000        Alix        Alix  34.92         319.0      0.53   \n1  690010000      Affoux      Affoux  39.31         231.0      0.35   \n2  420030000    Ambierle    Ambierle  47.46         877.0      0.26   \n3  690020000  Aigueperse  Aigueperse  66.39         119.0      0.33   \n\n   Agriculteurs  Artisans/Commer√ßants  Cadres  Prof. interm√©diaires  Employ√©s  \\\n0          0.00                 14.11   25.08                 20.06     28.21   \n1          0.00                  4.33   16.02                 20.78     31.60   \n2          2.85                 11.29    3.42                 26.57     26.57   \n3         16.81                  8.40    4.20                  4.20     36.97   \n\n   Ouvriers  \n0     12.54  \n1     27.27  \n2     29.30  \n3     29.41  ",
                  "text/html": "\n  <div id=\"df-3c99a1a1-8174-4751-98ee-3f2ceab9e376\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>code_iris</th>\n      <th>nom_iris</th>\n      <th>nom_com</th>\n      <th>score</th>\n      <th>total_actifs</th>\n      <th>distance</th>\n      <th>Agriculteurs</th>\n      <th>Artisans/Commer√ßants</th>\n      <th>Cadres</th>\n      <th>Prof. interm√©diaires</th>\n      <th>Employ√©s</th>\n      <th>Ouvriers</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>690040000</td>\n      <td>Alix</td>\n      <td>Alix</td>\n      <td>34.92</td>\n      <td>319.0</td>\n      <td>0.53</td>\n      <td>0.00</td>\n      <td>14.11</td>\n      <td>25.08</td>\n      <td>20.06</td>\n      <td>28.21</td>\n      <td>12.54</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>690010000</td>\n      <td>Affoux</td>\n      <td>Affoux</td>\n      <td>39.31</td>\n      <td>231.0</td>\n      <td>0.35</td>\n      <td>0.00</td>\n      <td>4.33</td>\n      <td>16.02</td>\n      <td>20.78</td>\n      <td>31.60</td>\n      <td>27.27</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>420030000</td>\n      <td>Ambierle</td>\n      <td>Ambierle</td>\n      <td>47.46</td>\n      <td>877.0</td>\n      <td>0.26</td>\n      <td>2.85</td>\n      <td>11.29</td>\n      <td>3.42</td>\n      <td>26.57</td>\n      <td>26.57</td>\n      <td>29.30</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>690020000</td>\n      <td>Aigueperse</td>\n      <td>Aigueperse</td>\n      <td>66.39</td>\n      <td>119.0</td>\n      <td>0.33</td>\n      <td>16.81</td>\n      <td>8.40</td>\n      <td>4.20</td>\n      <td>4.20</td>\n      <td>36.97</td>\n      <td>29.41</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n    <div class=\"colab-df-buttons\">\n\n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3c99a1a1-8174-4751-98ee-3f2ceab9e376')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n\n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-3c99a1a1-8174-4751-98ee-3f2ceab9e376 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-3c99a1a1-8174-4751-98ee-3f2ceab9e376');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n\n\n    <div id=\"df-7bd441df-04ab-4a63-9ca2-5061dd7f934c\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-7bd441df-04ab-4a63-9ca2-5061dd7f934c')\"\n                title=\"Suggest charts\"\n                style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n\n<style>\n  .colab-df-quickchart {\n      --bg-color: #E8F0FE;\n      --fill-color: #1967D2;\n      --hover-bg-color: #E2EBFA;\n      --hover-fill-color: #174EA6;\n      --disabled-fill-color: #AAA;\n      --disabled-bg-color: #DDD;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n      --bg-color: #3B4455;\n      --fill-color: #D2E3FC;\n      --hover-bg-color: #434B5C;\n      --hover-fill-color: #FFFFFF;\n      --disabled-bg-color: #3B4455;\n      --disabled-fill-color: #666;\n  }\n\n  .colab-df-quickchart {\n    background-color: var(--bg-color);\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: var(--fill-color);\n    height: 32px;\n    padding: 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: var(--hover-bg-color);\n    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: var(--button-hover-fill-color);\n  }\n\n  .colab-df-quickchart-complete:disabled,\n  .colab-df-quickchart-complete:disabled:hover {\n    background-color: var(--disabled-bg-color);\n    fill: var(--disabled-fill-color);\n    box-shadow: none;\n  }\n\n  .colab-df-spinner {\n    border: 2px solid var(--fill-color);\n    border-color: transparent;\n    border-bottom-color: var(--fill-color);\n    animation:\n      spin 1s steps(1) infinite;\n  }\n\n  @keyframes spin {\n    0% {\n      border-color: transparent;\n      border-bottom-color: var(--fill-color);\n      border-left-color: var(--fill-color);\n    }\n    20% {\n      border-color: transparent;\n      border-left-color: var(--fill-color);\n      border-top-color: var(--fill-color);\n    }\n    30% {\n      border-color: transparent;\n      border-left-color: var(--fill-color);\n      border-top-color: var(--fill-color);\n      border-right-color: var(--fill-color);\n    }\n    40% {\n      border-color: transparent;\n      border-right-color: var(--fill-color);\n      border-top-color: var(--fill-color);\n    }\n    60% {\n      border-color: transparent;\n      border-right-color: var(--fill-color);\n    }\n    80% {\n      border-color: transparent;\n      border-right-color: var(--fill-color);\n      border-bottom-color: var(--fill-color);\n    }\n    90% {\n      border-color: transparent;\n      border-bottom-color: var(--fill-color);\n    }\n  }\n</style>\n\n      <script>\n        async function quickchart(key) {\n          const quickchartButtonEl =\n            document.querySelector('#' + key + ' button');\n          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n          quickchartButtonEl.classList.add('colab-df-spinner');\n          try {\n            const charts = await google.colab.kernel.invokeFunction(\n                'suggestCharts', [key], {});\n          } catch (error) {\n            console.error('Error during call to suggestCharts:', error);\n          }\n          quickchartButtonEl.classList.remove('colab-df-spinner');\n          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n        }\n        (() => {\n          let quickchartButtonEl =\n            document.querySelector('#df-7bd441df-04ab-4a63-9ca2-5061dd7f934c button');\n          quickchartButtonEl.style.display =\n            google.colab.kernel.accessAllowed ? 'block' : 'none';\n        })();\n      </script>\n    </div>\n\n    </div>\n  </div>\n",
                  "application/vnd.google.colaboratory.intrinsic+json": {
                    "type": "dataframe",
                    "summary": "{\n  \"name\": \"run_button\",\n  \"rows\": 4,\n  \"fields\": [\n    {\n      \"column\": \"code_iris\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 4,\n        \"samples\": [\n          \"690010000\",\n          \"690020000\",\n          \"690040000\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"nom_iris\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 4,\n        \"samples\": [\n          \"Affoux\",\n          \"Aigueperse\",\n          \"Alix\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"nom_com\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 4,\n        \"samples\": [\n          \"Affoux\",\n          \"Aigueperse\",\n          \"Alix\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"score\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 13.91934624901615,\n        \"min\": 34.92,\n        \"max\": 66.39,\n        \"num_unique_values\": 4,\n        \"samples\": [\n          39.31,\n          66.39,\n          34.92\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"total_actifs\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 337.0870312940957,\n        \"min\": 119.0,\n        \"max\": 877.0,\n        \"num_unique_values\": 4,\n        \"samples\": [\n          231.0,\n          119.0,\n          319.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"distance\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0.115,\n        \"min\": 0.26,\n        \"max\": 0.53,\n        \"num_unique_values\": 4,\n        \"samples\": [\n          0.35,\n          0.33,\n          0.53\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Agriculteurs\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 8.043003170458158,\n        \"min\": 0.0,\n        \"max\": 16.81,\n        \"num_unique_values\": 3,\n        \"samples\": [\n          0.0,\n          2.85,\n          16.81\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Artisans/Commer\\u00e7ants\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 4.178950227030707,\n        \"min\": 4.33,\n        \"max\": 14.11,\n        \"num_unique_values\": 4,\n        \"samples\": [\n          4.33,\n          8.4,\n          14.11\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Cadres\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 10.353318308639022,\n        \"min\": 3.42,\n        \"max\": 25.08,\n        \"num_unique_values\": 4,\n        \"samples\": [\n          16.02,\n          4.2,\n          25.08\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Prof. interm\\u00e9diaires\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 9.588515265670699,\n        \"min\": 4.2,\n        \"max\": 26.57,\n        \"num_unique_values\": 4,\n        \"samples\": [\n          20.78,\n          4.2,\n          20.06\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Employ\\u00e9s\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 4.593628739896161,\n        \"min\": 26.57,\n        \"max\": 36.97,\n        \"num_unique_values\": 4,\n        \"samples\": [\n          31.6,\n          36.97,\n          28.21\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Ouvriers\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 8.11983168955285,\n        \"min\": 12.54,\n        \"max\": 29.41,\n        \"num_unique_values\": 4,\n        \"samples\": [\n          27.27,\n          29.41,\n          12.54\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
                  }
                },
                "metadata": {}
              },
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "‚úÖ Meilleure correspondance : Alix √† Alix (score : 34.92, distance : 0 m)\n"
                ]
              },
              {
                "output_type": "display_data",
                "data": {
                  "text/plain": "<folium.folium.Map at 0x79140e783320>",
                  "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    \n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n    \n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n            &lt;style&gt;\n                #map_72d211d15308617c2dc7b16bd313cd42 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            &lt;/style&gt;\n\n            &lt;style&gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            &lt;/style&gt;\n\n            &lt;style&gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            &lt;/style&gt;\n\n            &lt;script&gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            &lt;/script&gt;\n\n        \n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n            &lt;div class=&quot;folium-map&quot; id=&quot;map_72d211d15308617c2dc7b16bd313cd42&quot; &gt;&lt;/div&gt;\n        \n&lt;/body&gt;\n&lt;script&gt;\n    \n    \n            var map_72d211d15308617c2dc7b16bd313cd42 = L.map(\n                &quot;map_72d211d15308617c2dc7b16bd313cd42&quot;,\n                {\n                    center: [45.917001758515354, 4.653841663991341],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  &quot;zoom&quot;: 14,\n  &quot;zoomControl&quot;: true,\n  &quot;preferCanvas&quot;: false,\n}\n\n                }\n            );\n\n            \n\n        \n    \n            var tile_layer_d44e4f1d9e1e4552f7a6345c3e6dbbf0 = L.tileLayer(\n                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n                {\n  &quot;minZoom&quot;: 0,\n  &quot;maxZoom&quot;: 19,\n  &quot;maxNativeZoom&quot;: 19,\n  &quot;noWrap&quot;: false,\n  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n  &quot;subdomains&quot;: &quot;abc&quot;,\n  &quot;detectRetina&quot;: false,\n  &quot;tms&quot;: false,\n  &quot;opacity&quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_d44e4f1d9e1e4552f7a6345c3e6dbbf0.addTo(map_72d211d15308617c2dc7b16bd313cd42);\n        \n    \n        function geo_json_5e7b993be4dd39a6151a3afc61ab5215_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;color&quot;: &quot;green&quot;, &quot;fillColor&quot;: &quot;green&quot;, &quot;fillOpacity&quot;: 0.4};\n            }\n        }\n\n        function geo_json_5e7b993be4dd39a6151a3afc61ab5215_onEachFeature(feature, layer) {\n\n            layer.on({\n            });\n        };\n        var geo_json_5e7b993be4dd39a6151a3afc61ab5215 = L.geoJson(null, {\n                onEachFeature: geo_json_5e7b993be4dd39a6151a3afc61ab5215_onEachFeature,\n            \n                style: geo_json_5e7b993be4dd39a6151a3afc61ab5215_styler,\n            ...{\n}\n        });\n\n        function geo_json_5e7b993be4dd39a6151a3afc61ab5215_add (data) {\n            geo_json_5e7b993be4dd39a6151a3afc61ab5215\n                .addData(data);\n        }\n            geo_json_5e7b993be4dd39a6151a3afc61ab5215_add({&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[4.666166671887929, 45.92457892348739], [4.666110881618799, 45.9243131399433], [4.665780158599953, 45.923149811122265], [4.664730834176249, 45.92049909797287], [4.663444074095461, 45.91827270866821], [4.66401511396437, 45.916456619575314], [4.664448955202511, 45.91499111417997], [4.665139564244049, 45.9126504066], [4.665171152375666, 45.91100381948853], [4.665385166718567, 45.909423723412964], [4.666158069761001, 45.90799098328099], [4.66758705653394, 45.90741689634562], [4.669247482478486, 45.90673219258602], [4.669500546952866, 45.90661046620299], [4.669737659297458, 45.90638809703065], [4.669856464056901, 45.906263848513696], [4.669960673304381, 45.906126304976034], [4.6701745237835, 45.90568991312386], [4.670213916159453, 45.905584850840164], [4.670244035621904, 45.90547181924551], [4.670005478787386, 45.90551857555339], [4.666731040154287, 45.90611720492312], [4.664658213078883, 45.90673228433641], [4.664372706106471, 45.9068481723218], [4.663978557021008, 45.90699808302645], [4.663571645215892, 45.9071526835233], [4.662750008455347, 45.90741696027924], [4.66239318278221, 45.90752128198249], [4.661800361957337, 45.907672303658195], [4.661518238592454, 45.90772958957919], [4.661387127594698, 45.907745926754885], [4.658588131013446, 45.90798696296761], [4.658329287379417, 45.90800336835019], [4.65811111705475, 45.90799936162708], [4.657886065123289, 45.90798104430266], [4.656667617008444, 45.90770797583645], [4.656177871062408, 45.90759715823929], [4.65575361980353, 45.90749753903216], [4.654834324503653, 45.90736823460721], [4.654005583713226, 45.907354237846015], [4.652753705338258, 45.90736353256607], [4.651582135808687, 45.90738334963448], [4.650482303057073, 45.90740751181073], [4.650000591863486, 45.90743525658119], [4.649649458881503, 45.9074719029848], [4.649384597801089, 45.90750278669337], [4.648013738068582, 45.90786953612916], [4.647795820632771, 45.90804654428515], [4.647756193048562, 45.90810206365657], [4.647747703664335, 45.9081202011165], [4.646404207378088, 45.909792530237546], [4.646294072012732, 45.90982025338754], [4.646216152488262, 45.90984660683323], [4.64600112169877, 45.909947911499366], [4.64583200915809, 45.91003143448069], [4.645610958453857, 45.91014723699736], [4.645299760924371, 45.91031208695323], [4.645094104087032, 45.910424962426625], [4.64490386942968, 45.91053581184598], [4.643536134128123, 45.91148110350569], [4.642503588182607, 45.91307865934623], [4.641708583453068, 45.91588908729176], [4.64151039806014, 45.9168602024288], [4.641917613760802, 45.918833552873586], [4.640590479353508, 45.920810001472276], [4.639950858088308, 45.92169339259743], [4.638596464478309, 45.92249751692327], [4.639604014272545, 45.92365561283173], [4.643294396251124, 45.92505937997965], [4.643922227318412, 45.925252012797245], [4.644639750229635, 45.925422622530675], [4.645294318186766, 45.92551623381546], [4.646781236819088, 45.9256923008927], [4.649251848545784, 45.92591841191941], [4.652390835696396, 45.92618064443089], [4.652753838169831, 45.926191554401605], [4.653343613551354, 45.92627570804054], [4.654377801492293, 45.9265028754201], [4.655213232365794, 45.92668700632065], [4.655738095726442, 45.92684415254223], [4.655916915365926, 45.92686765540604], [4.656283667065123, 45.92691722896147], [4.656394138393619, 45.92694263235479], [4.657557063373331, 45.92668601637622], [4.66161073730972, 45.92569073359876], [4.662052745704346, 45.92558246262234], [4.664070611693989, 45.92508894300764], [4.664793229709072, 45.92491348479158], [4.666166671887929, 45.92457892348739]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n\n        \n    \n            geo_json_5e7b993be4dd39a6151a3afc61ab5215.addTo(map_72d211d15308617c2dc7b16bd313cd42);\n        \n    \n            var marker_04bd98328f8270b5d37cc144cb35aed0 = L.marker(\n                [45.917001758515354, 4.653841663991341],\n                {\n}\n            ).addTo(map_72d211d15308617c2dc7b16bd313cd42);\n        \n    \n        var popup_e75e11600e74ef23240d116c725e5ac5 = L.popup({\n  &quot;maxWidth&quot;: &quot;100%&quot;,\n});\n\n        \n            \n                var html_e67bb7216a2cb4d32bbb750e65a67600 = $(`&lt;div id=&quot;html_e67bb7216a2cb4d32bbb750e65a67600&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Alix (score 34.92)&lt;/div&gt;`)[0];\n                popup_e75e11600e74ef23240d116c725e5ac5.setContent(html_e67bb7216a2cb4d32bbb750e65a67600);\n            \n        \n\n        marker_04bd98328f8270b5d37cc144cb35aed0.bindPopup(popup_e75e11600e74ef23240d116c725e5ac5)\n        ;\n\n        \n    \n&lt;/script&gt;\n&lt;/html&gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                },
                "metadata": {}
              }
            ]
          }
        },
        "81f9e79b89ec48b582e643aef87f1d01": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "efba8700d31e4f00bc699383c7edfb90": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "527fd79e75a340bb843d6ed432ac3b77": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "861936f2bb944437a80521d5d96d9823": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": "120px",
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": "50%"
          }
        },
        "22a6bc64ff47403cbed1a276a77d7c45": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "035ddcdf4fe549ec9c0b0c8db87810a8": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "39360c9509a247d6b41119865a49c82d": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "00979fc580614ba4b86517535a6b45b4": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "169faf70c1904aecb22f6b3417482c59": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "d8b19aaaad284e98ad7fb62704f5ff1c": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "1bcd8343e106466b92df4d71d3b84612": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "f07f62edf25d43bcbb749a8f518b8dae": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "29491cf07f2a4c968277876100880bef": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "8afb71039afc42b5aa70fca082570da1": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "a5c674f1f845460abd4164c61e2fe412": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "2abf1a7579ad44ad95700d366bf1d070": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "46650b6c932f41f58f965f66c6d08a6a": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "93d4e22b79de4dfba527e0eabe7520ae": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "2aee4c5576574789a3a2d8e486ec7172": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "6aea4511ba1c41b992a6519e03177289": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "fe55e4ef9e0f4c9c976a49490a5999cf": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "5d9216abe684411c9ae1f3de32c0dd83": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "2d318f6ae3124472b596e63fbb68eaac": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "button_color": null,
            "font_weight": ""
          }
        },
        "6b7bad6a2a854155bccaaae6db9f2ee1": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "f204ea8621aa487b930d7aa96e87fea0": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_2c40ddd19d6a4f36b62c10c683144ce6",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_7d9516554c9d43f4849132ef9caf7fe2",
            "value": "<h3>üìç Saisissez les coordonn√©es du point √† analyser</h3>"
          }
        },
        "2c40ddd19d6a4f36b62c10c683144ce6": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "7d9516554c9d43f4849132ef9caf7fe2": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "c9251dd7ab754fd3a7eb8fac9b28d57c": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_be33022d5c12426dbc0d73b5efa13886",
              "IPY_MODEL_fbece76a3f444a6c96ed629aeb68f9e7"
            ],
            "layout": "IPY_MODEL_b2cbe9dbd4f44072b790151021fafa05"
          }
        },
        "be33022d5c12426dbc0d73b5efa13886": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatTextModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatTextModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatTextView",
            "continuous_update": false,
            "description": "Latitude :",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_308bac0c97df4177b051fa1de32b38df",
            "step": null,
            "style": "IPY_MODEL_333084df5cd44ac09a753c4305130232",
            "value": 45.75
          }
        },
        "fbece76a3f444a6c96ed629aeb68f9e7": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatTextModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatTextModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatTextView",
            "continuous_update": false,
            "description": "Longitude :",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_904a1dedc48a4d5a807318a3ebe7c92a",
            "step": null,
            "style": "IPY_MODEL_edaaf81482094429b43ab1a3b220a1da",
            "value": 4.85
          }
        },
        "b2cbe9dbd4f44072b790151021fafa05": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "308bac0c97df4177b051fa1de32b38df": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "333084df5cd44ac09a753c4305130232": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "904a1dedc48a4d5a807318a3ebe7c92a": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "edaaf81482094429b43ab1a3b220a1da": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "3cb6f739e99b4e8a8ab5f7b5479a6769": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Dur√©e (min)",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_03d3f40ec8fd43ed92fca7c8ea190202",
            "max": 60,
            "min": 1,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_174b6e0da7674584bc5762867bbe5d54",
            "value": 10
          }
        },
        "03d3f40ec8fd43ed92fca7c8ea190202": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "174b6e0da7674584bc5762867bbe5d54": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "7e6d2c959de046bda306eb289b3c1c25": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_2d21274638f54fc7a430ff16f6984c56",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_c7a72fde83b544fbbcac8d6d40911ed7",
            "value": "<h4>üéØ D√©finir une r√©partition cible CSP (%)</h4>"
          }
        },
        "2d21274638f54fc7a430ff16f6984c56": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "c7a72fde83b544fbbcac8d6d40911ed7": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "a522735744314b8598d0432145688acd": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "VBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "VBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "VBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_0f5d70602b4c4fc08de687cd15b3d125",
              "IPY_MODEL_660a835f126244cea9ac5f840acaa5d0",
              "IPY_MODEL_e290803f4f8f48ec92e948db680fde73",
              "IPY_MODEL_d9381646a92f43c3b04f364b7411ddcb",
              "IPY_MODEL_5b71e1975b8543c78461a6c1b875df65",
              "IPY_MODEL_1e28a8c37a5e4b6497d02755d7070892"
            ],
            "layout": "IPY_MODEL_9ca96f5f795441bfac7a16460953393f"
          }
        },
        "0f5d70602b4c4fc08de687cd15b3d125": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatSliderView",
            "continuous_update": true,
            "description": "Agriculteurs",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_888410c687c841b2909313539568182e",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": ".2f",
            "step": 1,
            "style": "IPY_MODEL_0272a7ae10b54080b282821819d3e5e2",
            "value": 5
          }
        },
        "660a835f126244cea9ac5f840acaa5d0": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatSliderView",
            "continuous_update": true,
            "description": "Artisans",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_516fb4ead38a4ae09b06a9336bb3ff87",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": ".2f",
            "step": 1,
            "style": "IPY_MODEL_3bb7f76d7e2f4817b7f276fe7223a7d1",
            "value": 10
          }
        },
        "e290803f4f8f48ec92e948db680fde73": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatSliderView",
            "continuous_update": true,
            "description": "Cadres",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_debbfb0979384e2295306914b1c064ba",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": ".2f",
            "step": 1,
            "style": "IPY_MODEL_6a26f8a81963481ab64291e1d9e3b80c",
            "value": 15
          }
        },
        "d9381646a92f43c3b04f364b7411ddcb": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatSliderView",
            "continuous_update": true,
            "description": "Interm√©diaires",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_30b3b8f924b84dea8fcfa96bbd1bb515",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": ".2f",
            "step": 1,
            "style": "IPY_MODEL_1ea3fe98951348819d5023378dfae89f",
            "value": 20
          }
        },
        "5b71e1975b8543c78461a6c1b875df65": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatSliderView",
            "continuous_update": true,
            "description": "Employ√©s",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_c554f86713ef4566821b014a7b0baa63",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": ".2f",
            "step": 1,
            "style": "IPY_MODEL_1f5cfafffa494702a0e9d61c36ac465e",
            "value": 30
          }
        },
        "1e28a8c37a5e4b6497d02755d7070892": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatSliderView",
            "continuous_update": true,
            "description": "Ouvriers",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_a95546bd87254d90aa2aab7929b8f6a1",
            "max": 100,
            "min": 0,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": ".2f",
            "step": 1,
            "style": "IPY_MODEL_620b7651e42943c7bdc1ca3e0d8a32d2",
            "value": 20
          }
        },
        "9ca96f5f795441bfac7a16460953393f": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "888410c687c841b2909313539568182e": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "0272a7ae10b54080b282821819d3e5e2": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "516fb4ead38a4ae09b06a9336bb3ff87": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "3bb7f76d7e2f4817b7f276fe7223a7d1": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "debbfb0979384e2295306914b1c064ba": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "6a26f8a81963481ab64291e1d9e3b80c": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "30b3b8f924b84dea8fcfa96bbd1bb515": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "1ea3fe98951348819d5023378dfae89f": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "c554f86713ef4566821b014a7b0baa63": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "1f5cfafffa494702a0e9d61c36ac465e": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "a95546bd87254d90aa2aab7929b8f6a1": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "620b7651e42943c7bdc1ca3e0d8a32d2": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "936318c7701948d8a936b7d256b4bd41": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ButtonView",
            "button_style": "success",
            "description": "Analyser",
            "disabled": false,
            "icon": "",
            "layout": "IPY_MODEL_056461fc18ec42e29112a5d8a09f2721",
            "style": "IPY_MODEL_1cbe7624c8bb48e78247274111576ec8",
            "tooltip": ""
          }
        },
        "056461fc18ec42e29112a5d8a09f2721": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "1cbe7624c8bb48e78247274111576ec8": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "button_color": null,
            "font_weight": ""
          }
        },
        "00c034152bf641ff8e4f6fbd8bee50df": {
          "model_module": "@jupyter-widgets/output",
          "model_name": "OutputModel",
          "model_module_version": "1.0.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/output",
            "_model_module_version": "1.0.0",
            "_model_name": "OutputModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/output",
            "_view_module_version": "1.0.0",
            "_view_name": "OutputView",
            "layout": "IPY_MODEL_1216fca78e8d4ecba9eb160eb8bc8554",
            "msg_id": "",
            "outputs": []
          }
        },
        "1216fca78e8d4ecba9eb160eb8bc8554": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "04eede4cb1ad45aeaf3e825f3a1a1818": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_6fc88f8fd67c46e7bae4e8b73e91b406",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_f1c3fcbb39954c20a53ac85a07b85862",
            "value": "<h3>üìç Saisissez les coordonn√©es du point √† analyser</h3>"
          }
        },
        "6fc88f8fd67c46e7bae4e8b73e91b406": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "f1c3fcbb39954c20a53ac85a07b85862": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "5982e6cebb4b4bbc8728070d68dd9e8e": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_1155702bb9c14985a2823434bb771fee",
              "IPY_MODEL_0e027829c84a4067b15dac2b11e1083e"
            ],
            "layout": "IPY_MODEL_bfd8872e3d304769a535c436b9bd980a"
          }
        },
        "1155702bb9c14985a2823434bb771fee": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatTextModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatTextModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatTextView",
            "continuous_update": false,
            "description": "Latitude :",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_d8e07c33f17c41b9b1e4e1adc20abc27",
            "step": null,
            "style": "IPY_MODEL_9bb8d1da91b843eeb0abf95510817f32",
            "value": 45.4397
          }
        },
        "0e027829c84a4067b15dac2b11e1083e": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatTextModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatTextModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "FloatTextView",
            "continuous_update": false,
            "description": "Longitude :",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_2388ef3633df40218c8d395ca6497b31",
            "step": null,
            "style": "IPY_MODEL_07e80d5defdf4a0ca2985209c924558f",
            "value": 4.3872
          }
        },
        "bfd8872e3d304769a535c436b9bd980a": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "d8e07c33f17c41b9b1e4e1adc20abc27": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "9bb8d1da91b843eeb0abf95510817f32": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "2388ef3633df40218c8d395ca6497b31": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "07e80d5defdf4a0ca2985209c924558f": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "9198e20854764ee59bbf047161345475": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntSliderModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntSliderModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntSliderView",
            "continuous_update": true,
            "description": "Dur√©e (min)",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_66628bafb9c54d2080e415c50e20806d",
            "max": 60,
            "min": 1,
            "orientation": "horizontal",
            "readout": true,
            "readout_format": "d",
            "step": 1,
            "style": "IPY_MODEL_8a585e529dab475aab527fc9537edc0d",
            "value": 10
          }
        },
        "66628bafb9c54d2080e415c50e20806d": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "8a585e529dab475aab527fc9537edc0d": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "SliderStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "SliderStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": "",
            "handle_color": null
          }
        },
        "d5d7d151b3a1474d8715956bae01946a": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ButtonView",
            "button_style": "success",
            "description": "Afficher les IRIS",
            "disabled": false,
            "icon": "",
            "layout": "IPY_MODEL_31adebffcc6a474bb492cf63e87cad59",
            "style": "IPY_MODEL_00a31e196d2945e3bb4cabce4d4a6afb",
            "tooltip": ""
          }
        },
        "31adebffcc6a474bb492cf63e87cad59": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "00a31e196d2945e3bb4cabce4d4a6afb": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "button_color": null,
            "font_weight": ""
          }
        },
        "330aa8ca98564c9dbeb5bec7d4e58ec1": {
          "model_module": "@jupyter-widgets/output",
          "model_name": "OutputModel",
          "model_module_version": "1.0.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/output",
            "_model_module_version": "1.0.0",
            "_model_name": "OutputModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/output",
            "_view_module_version": "1.0.0",
            "_view_name": "OutputView",
            "layout": "IPY_MODEL_3080f70cadb64bfcab952b6d81f426ac",
            "msg_id": "",
            "outputs": [
              {
                "output_type": "stream",
                "name": "stdout",
                "text": [
                  "üìç Point s√©lectionn√© : (45.4397, 4.3872) ‚Äì 10 min √† pied\n",
                  "\n"
                ]
              },
              {
                "output_type": "error",
                "ename": "TypeError",
                "evalue": "generate_result_content() missing 1 required positional argument: 'cible_csp'",
                "traceback": [
                  "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
                  "\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)",
                  "\u001b[0;32m/tmp/ipython-input-3571442088.py\u001b[0m in \u001b[0;36mon_button_click\u001b[0;34m(b)\u001b[0m\n\u001b[1;32m    142\u001b[0m         \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34mf\"üìç Point s√©lectionn√© : ({lat}, {lon}) ‚Äì {minutes} min √† pied\\n\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    143\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 144\u001b[0;31m         \u001b[0mfmap\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdf_csp\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdf_contrib\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mpop_totale\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mtotal_active_population\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mgenerate_result_content\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mlat\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mlon\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mminutes\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdf_popiris\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    145\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    146\u001b[0m         \u001b[0mdisplay\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfmap\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
                  "\u001b[0;31mTypeError\u001b[0m: generate_result_content() missing 1 required positional argument: 'cible_csp'"
                ]
              }
            ]
          }
        },
        "3080f70cadb64bfcab952b6d81f426ac": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        }
      }
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}.ipynb‚Ä¶]()

